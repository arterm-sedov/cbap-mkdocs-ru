<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="" kb-tags="" kb-title="">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<p><code>n3_tutorial.md</code> представляет собой учебник по языку <strong>Notation 3 (N3)</strong>, предназначенный для обучения пользователей ориентироваться в уже написанных выражениях и самостоятельно создавать запросы средней сложности. Курс охватывает базовые принципы работы триплетов и интерпретатора N3, предоставляя реальные примеры использования и задания для самостоятельной работы.</p>
<p>Ниже представлен анализ ключевых аспектов, освещенных в учебнике:</p>
<ul>
<li><strong>Назначение N3 в Comindware Platform</strong></li>
<li><strong>Два типа синтаксиса запросов</strong>: В Comindware Platform предусмотрены два типа синтаксиса запросов:
        1. <strong>Формулы</strong>: Фирменный язык выражений Comindware, похожий на формулы Excel. Он прост для восприятия, является надстройкой над N3 и достаточен для базовой настройки системы. Примеры использования формул включают выборку данных, подсчет объектов, математические операции и преобразования строк.
        2. <strong>Notation 3 (N3, триплеты)</strong>: Более сложный для чтения и написания, но <strong>более функциональный и основополагающий язык</strong>. Его стандарт определен международным консорциумом W3C.</li>
<li>
<p><strong>Цели использования N3</strong>: N3 предназначен для <strong>продвинутого использования Comindware Platform</strong>, предоставляя <strong>доступ ко всем созданным и системным атрибутам</strong>, в отличие от формул, которые показывают только наиболее часто используемые атрибуты. Он также предлагает <strong>расширенные возможности работы с данными</strong>, включая дополнительные математические функции, функции для работы со списками, приведения данных к одному типу и расчеты времени.</p>
</li>
<li>
<p><strong>Хранение данных в Comindware Platform</strong></p>
</li>
<li><strong>Графовая база данных на основе RDF</strong>: Comindware Platform использует графовую базу данных, основанную на модели RDF (Resource Description Framework).</li>
<li><strong>Основной синтаксический элемент — Триплет</strong>: Идея графовой модели заключается в описании любой сущности (объекта, свойства, значения) с помощью простых выражений, которые называются свойствами и их значениями. <strong>Основным синтаксическим элементом N3 является триплет</strong>, состоящий из трех связанных сущностей: <strong>Субъект — Предикат — Объект</strong>.</li>
<li><strong>Аналогия с предложением</strong>: Триплет можно соотнести с простым предложением вида: <em>Подлежащее — Сказуемое — Дополнение</em>. Например, утверждение "Книга написана Пушкиным" в RDF-терминологии будет: Субъект — Книга, Предикат — написана, Объект — Пушкин.</li>
<li><strong>Структура данных в Comindware Platform</strong>: По этому же принципу описывается структура данных в шаблонах записей:<ul>
<li><strong>Субъект</strong> — запись в шаблоне записи.</li>
<li><strong>Предикат</strong> — атрибут записи.</li>
<li><strong>Объект</strong> — значение атрибута.</li>
<li>Пример: Записи в шаблоне "Книги" с атрибутами "Название" и "Автор" хранятся в виде триплетов.</li>
</ul>
</li>
<li><strong>Хранение метаинформации</strong>: Вся метаинформация (описания шаблонов, форм, объектов) и атрибуты окружения (текущий пользователь, время, контекст) также хранятся аналогичным образом.</li>
<li>
<p><strong>Преимущества использования триплетов</strong>: Такая структура обеспечивает единообразие и простоту доступа к данным. Ключевые преимущества:
        1. <strong>Простота понимания модели данных</strong>.
        2. <strong>Мгновенное добавление новых шаблонов записи и атрибутов</strong>.
        3. <strong>Неограниченная ширина и глубина связей между сущностями</strong>.
        4. <strong>Простота и неограниченность навигации по связям</strong>.</p>
</li>
<li>
<p><strong>Базовые принципы N3-запросов (Урок 1)</strong></p>
</li>
<li><strong>Тело запроса</strong>: Состоит из триплетов вида Субъект – Предикат – Объект.</li>
<li><strong>Основные правила синтаксиса</strong>:<ul>
<li>Каждый триплет начинается с новой строки.</li>
<li>Переменные объявляются с префиксом <code>?</code> (например, <code>?variable</code>).</li>
<li>Весь запрос заключается в фигурные скобки (<code>{}</code>).</li>
<li>В конце каждого триплета ставится точка (<code>.</code>).</li>
<li>Интерпретатор <strong>учитывает регистр символов</strong> (<code>?variable</code> и <code>?Variable</code> — разные переменные).</li>
</ul>
</li>
<li><strong>Переменные</strong>: Именованные хранилища данных, обозначаемые символом <code>?</code>. Их имена должны отражать суть хранимых данных.</li>
<li>
<p><strong>Входные и выходные параметры (<code>?item</code> и <code>?value</code>)</strong>:</p>
<ul>
<li><strong><code>?item</code></strong>: Входной параметр запроса, значение которого определяется контекстом выполнения (например, ID текущей записи).</li>
<li><strong><code>?value</code></strong>: Выходной параметр, в который помещается результат запроса. <strong>Тип данных в <code>?value</code> должен совпадать с типом данных атрибута</strong>, куда записывается результат.</li>
</ul>
</li>
<li>
<p><strong>Расширенные возможности N3-запросов (Урок 2)</strong></p>
</li>
<li><strong>Библиотеки пространств имён (префиксы)</strong>: Подключаемые модули (области), содержащие знания об объектах, функциях и правилах. Позволяют обращаться к системным и прикладным атрибутам и их значениям, а также получать доступ к функциям (например, по работе с датами, списками, числами).<ul>
<li>Пример: <code>http://comindware.com/ontology/object#</code> и функция <code>object:findProperty</code> базовые и позволяют находить URI атрибутов по их системному имени.</li>
</ul>
</li>
<li><strong>Присвоение переменных</strong>: Интерпретатор N3 может присваивать значения переменным, если одна из сущностей триплета неизвестна. Существуют три основных варианта присвоения:
        1. Субъект и предикат определены, искомое значение — объект.
        2. Объект и предикат определены, искомое значение — субъект.
        3. Все три части известны (точное совпадение), происходит проверка на полное совпадение.</li>
<li><strong>Системные атрибуты</strong>: Помимо прикладных (созданных вручную), у каждого объекта в платформе есть системные атрибуты, которые не всегда видны в интерфейсе, но существуют и автоматически заполняются системой. Доступ к ним осуществляется через соответствующие библиотеки пространств имён.</li>
<li><strong>Встроенные предикаты</strong>: Сложные предикаты, содержащие функции для работы со строками, датами, математические функции и т.д..</li>
<li>
<p><strong>Конструкция <code>from {}</code></strong>: Используется для преобразования типов данных. Например, для математических функций, которым требуется <code>list</code> на вход, <code>from {}</code> позволяет собрать URI значений в список. Структура: <code>from {триплеты} select ?переменная -&gt; ?лист</code>.</p>
</li>
<li>
<p><strong>Управление потоком выполнения и логические операции (Урок 3)</strong></p>
</li>
<li><strong>Итератор</strong>: Перечислитель, поддерживающий перебор по группам ссылок (коллекции, ссылки со множественными значениями). Итератор в случайном порядке берет объект из коллекции, проверяет условия в последующих триплетах, и если результат <code>false</code>, выбрасывает запись и переходит к следующей. Важное примечание: итератор <strong>работает всегда</strong> и возвращается к верхним строкам для проверки непроверенных значений.</li>
<li><strong><code>once {}</code></strong>: Если точно известно, что итератор должен пройти только один раз (нет коллекций или множественных значений), триплеты можно обернуть в <code>once {}</code> для ускорения запроса.</li>
<li><strong>Логическое И (конъюнкция)</strong>: В N3 между строками триплетов <strong>по умолчанию используется конъюнкция</strong> (логическое И). Если одно из условий <code>false</code>, интерпретатор останавливается. Проверка на пустоту атрибута осуществляется синтаксисом <code>not { ?item ?attribute . }</code>.</li>
<li><strong>Логическое ИЛИ (<code>or {}</code>)</strong>: Используется, когда нужно вывести <code>true</code>, если хотя бы одно из условий истинно. Синтаксис: <code>or {триплеты} or {триплеты}.</code> В конце перечислений <code>or</code> обязательно ставится точка.</li>
<li><strong>Условный оператор <code>if</code></strong>: Позволяет проверить условие и выполнить действие в зависимости от результата. Синтаксис: <code>if {условие} then {выполняется, если условие - true} else {выполняется, если условие - false}</code>.</li>
<li><strong><code>assert:union true</code></strong>: Часто используемая функция для объединения нескольких результатов выполнения запроса в одну переменную. Используется с одноименной переменной.</li>
</ul>
<p>Учебник N3 подробно объясняет основные принципы N3, его применение в Comindware Platform, структуру данных, синтаксис запросов, работу с переменными, библиотеками, системными атрибутами, а также управление потоком выполнения с помощью итератора и логических операций.</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>