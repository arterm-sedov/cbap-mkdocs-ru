<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="" kb-tags="" kb-title="">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение">
<span class="md-ellipsis">
      Введение
    </span>
</a>
<nav aria-label="Введение" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#сквозной-сценарий-подбор-персонала-по-навыкам">
<span class="md-ellipsis">
      Сквозной сценарий: Подбор персонала по навыкам
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#цели-обучения">
<span class="md-ellipsis">
      Цели обучения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#результаты-обучения">
<span class="md-ellipsis">
      Результаты обучения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#содержание-курса">
<span class="md-ellipsis">
      Содержание курса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#ключевые-понятия-и-сущности-comindware-platform">
<span class="md-ellipsis">
      Ключевые понятия и сущности Comindware Platform
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#начало-обучения">
<span class="md-ellipsis">
      Начало обучения
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#урок-1-основы-n3-запросов">
<span class="md-ellipsis">
      Урок 1: Основы N3-запросов
    </span>
</a>
<nav aria-label="Урок 1: Основы N3-запросов" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение_1">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#темы-навыки-и-задания-урока">
<span class="md-ellipsis">
      Темы, навыки и задания урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#определения">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#содержание-урока">
<span class="md-ellipsis">
      Содержание урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#тестирование">
<span class="md-ellipsis">
      Тестирование
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#итоги-урока">
<span class="md-ellipsis">
      Итоги урока
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#урок-2-работа-с-атрибутами-и-библиотеками">
<span class="md-ellipsis">
      Урок 2: Работа с атрибутами и библиотеками
    </span>
</a>
<nav aria-label="Урок 2: Работа с атрибутами и библиотеками" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение_2">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#темы-навыки-и-задания-урока_1">
<span class="md-ellipsis">
      Темы, навыки и задания урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#определения_1">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#содержание-урока_1">
<span class="md-ellipsis">
      Содержание урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#hr-сценарий-подготовка-к-поиску-навыков">
<span class="md-ellipsis">
      HR-сценарий: Подготовка к поиску навыков
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#тестирование_1">
<span class="md-ellipsis">
      Тестирование
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#итоги-урока_1">
<span class="md-ellipsis">
      Итоги урока
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#урок-3-управление-потоком-выполнения-и-сложные-запросы">
<span class="md-ellipsis">
      Урок 3: Управление потоком выполнения и сложные запросы
    </span>
</a>
<nav aria-label="Урок 3: Управление потоком выполнения и сложные запросы" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение_3">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#темы-навыки-и-задания-урока_2">
<span class="md-ellipsis">
      Темы, навыки и задания урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#определения_2">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#содержание-урока_2">
<span class="md-ellipsis">
      Содержание урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#тестирование_2">
<span class="md-ellipsis">
      Тестирование
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#итоги-урока_2">
<span class="md-ellipsis">
      Итоги урока
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#завершение-курса">
<span class="md-ellipsis">
      Завершение курса
    </span>
</a>
<nav aria-label="Завершение курса" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#чему-вы-научились">
<span class="md-ellipsis">
      Чему вы научились
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#что-дальше">
<span class="md-ellipsis">
      Что дальше
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#рекомендуемые-ресурсы-для-самостоятельного-изучения">
<span class="md-ellipsis">
      Рекомендуемые ресурсы для самостоятельного изучения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#темы-для-дальнейшего-изучения-возможностей-платформы">
<span class="md-ellipsis">
      Темы для дальнейшего изучения возможностей платформы
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#примеры-и-идеи-для-самостоятельных-экспериментов">
<span class="md-ellipsis">
      Примеры и идеи для самостоятельных экспериментов
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#тест-по-курсу-n3">
<span class="md-ellipsis">
      Тест по курсу N3
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#ответы-к-тесту">
<span class="md-ellipsis">
      Ответы к тесту
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<p>Отличная идея! Я создам для вас обучающий курс по языку N3 в Comindware Platform, используя предложенный HR-сценарий.</p>
<hr/>
<h2 id="введение">Введение</h2>
<p>Добро пожаловать на курс по языку <strong>Notation3 (N3)</strong> в <strong>Comindware Business Application Platform</strong>! Этот курс разработан, чтобы помочь вам освоить один из наиболее мощных инструментов для работы с данными на платформе.</p>
<p><strong>Comindware Platform</strong> – это low-code-система класса BPMS, разработанная для быстрой цифровизации и автоматизации бизнес-процессов с использованием нотации BPMN 2.0. В основе платформы лежит <strong>графовая СУБД Comindware ElasticData</strong>, основанная на модели <strong>RDF (Resource Description Framework)</strong>. Это позволяет системе представлять и обрабатывать данные в виде <strong>триплетов</strong> (Субъект – Предикат – Объект), что обеспечивает невероятную гибкость и производительность.</p>
<p>В рамках <strong>Comindware Platform</strong> существуют два основных типа синтаксиса запросов:
*   <strong>Expression Language</strong>: Это фирменный язык выражений Comindware, схожий с формулами Excel. Он прост в освоении и подходит для базовой настройки системы, являясь своего рода надстройкой для упрощения RDF N3.
*   <strong>Язык выражений RDF N3 (также называемый «Тройки»)</strong>: Этот язык сложнее для чтения и написания, но он <strong>более функциональный и основополагающий</strong>. Стандарт N3 определён международным консорциумом W3C. N3 позволяет получить <strong>доступ ко всем созданным и системным атрибутам</strong> (в отличие от Expression Language, который показывает только наиболее часто используемые) и предоставляет <strong>расширенные возможности работы с данными</strong>, включая математические функции, функции для работы со списками, преобразование типов данных и расчёт времени.</p>
<p>Использование N3 позволяет производить вычисления со значительно большей скоростью, эффективно используя все преимущества графовой базы данных, так как он обеспечивает <strong>поатрибутивный доступ к данным и их связям</strong>, устраняя необходимость загрузки данных потаблично, что характерно для реляционных баз данных и SQL.</p>
<h3 id="сквозной-сценарий-подбор-персонала-по-навыкам">Сквозной сценарий: Подбор персонала по навыкам</h3>
<p>В рамках этого курса мы будем работать над практической задачей из области управления персоналом. Наша цель – разработать автоматизированное решение, которое поможет HR-специалистам <strong>находить сотрудников, чьи навыки точно соответствуют требованиям определённых проектов</strong>.</p>
<p><strong>Бизнес-задача:</strong> Предположим, у нас есть база данных проектов, для каждого из которых определён набор необходимых навыков. Также у нас есть база данных сотрудников с указанием их доступных навыков. Нам необходимо создать механизм, который позволит быстро определить, <strong>кто из сотрудников обладает всеми необходимыми навыками для конкретного проекта</strong>, при этом набор его навыков должен <strong>точно совпадать</strong> с требуемым набором навыков для проекта.</p>
<p>Мы будем использовать следующую упрощенную модель данных, вдохновленную примером из источников:
*   <strong>Шаблон записи «Проекты» (projects)</strong>: Содержит атрибут «Необходимые навыки» (required_skills), который является множественным и ссылается на справочник «Навыки».
*   <strong>Шаблон записи «Сотрудники» (employees)</strong>: Содержит атрибут «Навыки сотрудника» (available_skills), который также является множественным и ссылается на справочник «Навыки».
*   <strong>Шаблон записи «Навыки» (skills)</strong>: Простой справочник, содержащий названия навыков (например, "Астрономия", "Логистика", "Программирование").</p>
<p>В ходе курса мы шаг за шагом реализуем N3-запрос, который будет выполнять эту проверку.</p>
<h3 id="цели-обучения">Цели обучения</h3>
<p>По завершении курса вы научитесь:
*   Ориентироваться в уже написанных N3-выражениях.
*   Самостоятельно создавать N3-запросы средней сложности.
*   Понимать базовые принципы работы триплетов и интерпретатора N3.
*   Эффективно использовать входные и выходные параметры запросов (<code>?item</code> и <code>?value</code>).
*   Применять различные типы присвоения значений переменным.
*   Использовать системные атрибуты в запросах.
*   Выполнять вычисления с помощью встроенных предикатов.
*   Разбираться в работе итераторов и управлять потоком выполнения запросов.
*   Применять логические условия для фильтрации данных.
*   Объединять результаты запросов в одну переменную.</p>
<h3 id="результаты-обучения">Результаты обучения</h3>
<p>После прохождения курса вы сможете:
*   Создавать более продвинутую бизнес-логику в Comindware Platform, недоступную через визуальные инструменты.
*   Получать доступ ко всем созданным и системным атрибутам платформы.
*   Использовать расширенные функции для работы с данными, списками и временем.
*   Применять N3-запросы для автоматизации сложных HR-сценариев, таких как точный подбор сотрудников по навыкам.
*   Оптимизировать свои запросы для повышения производительности системы.</p>
<h3 id="содержание-курса">Содержание курса</h3>
<p>Курс состоит из следующих уроков:
*   <strong>Урок 1: Основы N3-запросов.</strong> Введение в синтаксис N3, триплеты, переменные, входные и выходные параметры.
*   <strong>Урок 2: Работа с атрибутами и библиотеками.</strong> Использование пространств имён, <code>object:findProperty</code>, системные атрибуты и встроенные предикаты.
*   <strong>Урок 3: Управление потоком выполнения и сложные запросы.</strong> Итераторы, преобразование коллекций, логические операторы и реализация HR-сценария.</p>
<h3 id="ключевые-понятия-и-сущности-comindware-platform">Ключевые понятия и сущности Comindware Platform</h3>
<p>Для успешного прохождения курса важно ознакомиться с базовыми терминами:</p>
<ul>
<li><strong>N3 (Notation3)</strong>: Человекочитаемый и компактный синтаксис для записи данных RDF (Resource Description Framework) и логических выражений.</li>
<li><strong>RDF (Resource Description Framework)</strong>: Стандарт W3C для описания ресурсов в вебе, используемый как базовая модель данных для графовых баз данных.</li>
<li><strong>Триплет (Triplet)</strong>: Фундаментальная единица данных в модели N3/RDF, представляющая собой единичный факт, состоящий из Субъекта, Предиката и Объекта.<ul>
<li><strong>Субъект (Subject)</strong>: Ресурс или сущность, которая описывается.</li>
<li><strong>Предикат (Predicate)</strong>: Описывает отношение или свойство между субъектом и объектом.</li>
<li><strong>Объект (Object)</strong>: Значение или ресурс, связанный с субъектом через предикат.</li>
</ul>
</li>
<li><strong>Графовая база данных (Graph Database)</strong>: База данных, использующая узлы (nodes) и рёбра (edges) для представления и хранения данных, подчёркивая связи между сущностями.</li>
<li><strong>Expression Language (Формулы)</strong>: Фирменный язык выражений Comindware, похожий на Excel, служащий надстройкой для упрощения N3.</li>
<li><strong>Переменная (?)</strong>: Заполнитель в N3-запросах (обозначается префиксом <code>?</code>), который представляет неизвестные значения, которые запрос должен найти или вычислить.</li>
<li><strong><code>?item</code></strong>: Зарезервированная переменная, обычно представляющая собой входной параметр запроса – ID текущего объекта или записи в контексте выполнения запроса.</li>
<li><strong><code>?value</code></strong>: Зарезервированная переменная, в которую помещается результат запроса или вычисления; является выходным параметром. Тип данных <code>?value</code> должен совпадать с типом данных атрибута, куда записывается результат.</li>
<li><strong>Пространство имён (Prefix)</strong>: Сокращённое обозначение для длинных URI, используемое в N3 для улучшения читаемости запросов.</li>
<li><strong>Встроенные предикаты (Built-in Predicates)</strong>: Специальные предикаты (функции) N3, которые выполняют вычисления или операции в памяти, а не запрашивают базу данных (например, <code>math:sum</code>, <code>time:dayOfWeek</code>). Могут работать со списками значений.</li>
<li><strong><code>object:findProperty</code></strong>: Встроенный предикат для получения ID атрибута по его псевдониму шаблона и псевдониму атрибута. Возвращает один ID и высоко оптимизирован.</li>
<li><strong>Итератор (Iterator)</strong>: Механизм выполнения N3-запросов, который предоставляет последовательность значений, позволяя последующим строкам запроса обрабатываться для каждого значения в этой последовательности. Запросы выполняются последовательно сверху вниз, в итеративном порядке.</li>
</ul>
<h3 id="начало-обучения">Начало обучения</h3>
<p><strong>Предварительные требования:</strong> Данное руководство рассчитано на пользователей с <strong>хорошим пониманием Comindware Business Application Platform и её настроек</strong>. Знание основ работы с шаблонами записей, атрибутами и формами будет большим преимуществом.</p>
<p><strong>Расчётная продолжительность курса:</strong> 8 часов (включая чтение и выполнение заданий).</p>
<hr/>
<h2 id="урок-1-основы-n3-запросов">Урок 1: Основы N3-запросов</h2>
<h3 id="введение_1">Введение</h3>
<p>В этом уроке мы начнём наше погружение в мир N3, изучив его фундаментальные строительные блоки. Мы разберёмся, что такое триплеты, как они формируют основу для хранения данных в графовой базе Comindware, и каковы основные правила написания N3-запросов. Вы также познакомитесь с ключевыми переменными <code>?item</code> и <code>?value</code>, которые являются вашими "входом" и "выходом" в мир N3-запросов.</p>
<h3 id="темы-навыки-и-задания-урока">Темы, навыки и задания урока</h3>
<ul>
<li><strong>Темы:</strong> Структура триплетов (Субъект – Предикат – Объект), основные правила синтаксиса N3, входные и выходные параметры запроса (<code>?item</code> и <code>?value</code>).</li>
<li><strong>Навыки:</strong> Понимание базовой структуры N3-запроса, написание простых запросов, использование <code>?item</code> и <code>?value</code>.</li>
<li><strong>Задания:</strong> Создание простого N3-запроса для извлечения значения.</li>
</ul>
<h3 id="определения">Определения</h3>
<ul>
<li><strong>Триплет (Triplet)</strong>: Основной синтаксический элемент N3, состоящий из трёх связанных сущностей: Субъект — Предикат — Объект. Триплет можно соотнести с простым предложением вида: <em>Подлежащее — Сказуемое — Дополнение</em>.</li>
<li><strong>Субъект (Subject)</strong>: Первая часть триплета, описывающая ресурс или сущность. В контексте Comindware, это может быть запись в шаблоне записи.</li>
<li><strong>Предикат (Predicate)</strong>: Вторая часть триплета, описывающая свойство или отношение между субъектом и объектом. В Comindware, это атрибут записи.</li>
<li><strong>Объект (Object)</strong>: Третья часть триплета, представляющая значение свойства или связанный ресурс. В Comindware, это значение атрибута.</li>
<li><strong><code>?item</code></strong>: Входной параметр запроса, значение которого определяется контекстом выполнения (например, ID текущей записи, для которой вычисляется атрибут).</li>
<li><strong><code>?value</code></strong>: Выходной параметр запроса, в который помещается результат. Тип данных в <code>?value</code> должен совпадать с типом данных атрибута, куда записывается результат.</li>
</ul>
<h3 id="содержание-урока">Содержание урока</h3>
<p>База данных Comindware использует графовую модель, основанную на RDF, где все данные хранятся в виде <strong>набора триплетов</strong>. Например, утверждение "Книга написана Пушкиным" в RDF-терминологии будет: Субъект — Книга, Предикат — написана, Объект — Пушкин. По тому же принципу описывается структура данных в шаблонах записей Comindware: запись – это субъект, атрибут – предикат, а значение атрибута – это объект.</p>
<p><strong>Тело запроса</strong> N3 состоит из триплетов вида Субъект – Предикат – Объект.</p>
<p><strong>Основные правила синтаксиса N3</strong>:
*   Каждый триплет начинается с новой строки.
*   <strong>Переменные</strong> объявляются с префиксом <strong><code>?</code></strong> (например, <code>?variable</code>).
*   Весь запрос заключается в фигурные скобки (<strong><code>{}</code></strong>).
*   В конце каждого триплета ставится точка (<strong><code>.</code></strong>).
*   <strong>Интерпретатор N3 учитывает регистр символов</strong> (<code>?variable</code> и <code>?Variable</code> — разные переменные).</p>
<p><strong>Пример простого N3-запроса:</strong>
Давайте представим, что у нас есть запись о проекте, и нам нужно получить его название. Допустим, у проекта есть системный атрибут <code>cmw:name</code> (системные атрибуты обсудим в следующем уроке, пока просто примем это).</p>
<p><div class="highlight"><code><pre><span></span><code>{</code> <br/><code>    ?item cmw:name ?projectName.</code> <br/><code>    ?projectName -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<strong>Пояснение:</strong>
*   <strong><code>{ ... }</code></strong>: Весь запрос заключён в фигурные скобки.
*   <strong><code>?item cmw:name ?projectName.</code></strong>: Это наш первый триплет.
    *   <code>?item</code>: Входной параметр, который в контексте вычисляемого атрибута будет представлять собой текущую запись о проекте.
    *   <code>cmw:name</code>: Предикат, представляющий системный атрибут "имя".
    *   <code>?projectName</code>: Переменная, в которую будет присвоено значение имени проекта.
    *   <code>.</code>: Точка в конце триплета.
*   <strong><code>?projectName -&gt; ?value.</code></strong>: Второй триплет.
    *   <code>?projectName</code>: Значение переменной <code>?projectName</code> (имя проекта) становится субъектом.
    *   <code>-&gt;</code>: Оператор присвоения значения.
    *   <code>?value</code>: Выходной параметр запроса, в который будет помещён результат – имя проекта.</p>
<p>Этот запрос будет выполнен для каждой записи, для которой запускается вычисление, и вернёт название этой записи в <code>?value</code>.</p>
<h3 id="тестирование">Тестирование</h3>
<p><strong>Задание 1.1: Получение ID текущей записи.</strong>
В Comindware Platform вы часто будете работать с ID текущего объекта. Напишите N3-запрос, который возвращает ID текущей записи в выходной параметр <code>?value</code>.</p>
<p><em>Подсказка:</em> Вам не нужно указывать предикат или объект, если вы просто хотите получить значение <code>?item</code> в <code>?value</code>.</p>
<div class="highlight"><code><pre><span></span><code>{</code> <br/><code>    ?item -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<p><strong>Задание 1.2: Объявление и использование простой переменной.</strong>
Создайте N3-запрос, который присваивает строковое значение <code>"Hello N3!"</code> переменной <code>?message</code> и затем помещает её в <code>?value</code>.</p>
<div class="highlight"><code><pre><span></span><code>{</code> <br/><code>    "Hello N3!" -&gt; ?message.</code> <br/><code>    ?message -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<h3 id="итоги-урока">Итоги урока</h3>
<p>В этом уроке мы заложили фундамент для работы с N3: вы узнали о концепции триплетов, базовом синтаксисе N3-запросов и научились использовать ключевые параметры <code>?item</code> и <code>?value</code>. Понимание этих основ крайне важно для построения более сложных и функциональных запросов.</p>
<hr/>
<h2 id="урок-2-работа-с-атрибутами-и-библиотеками">Урок 2: Работа с атрибутами и библиотеками</h2>
<h3 id="введение_2">Введение</h3>
<p>Наш первый урок познакомил вас с базовой структурой N3-запросов. Теперь мы углубимся в то, как N3 взаимодействует с данными в Comindware Platform, включая доступ к прикладным и системным атрибутам. Вы узнаете о пространствах имён, мощном предикате <code>object:findProperty</code> и различных способах присвоения значений переменным. Эти знания позволят вам извлекать конкретные данные, необходимые для нашего HR-сценария.</p>
<h3 id="темы-навыки-и-задания-урока_1">Темы, навыки и задания урока</h3>
<ul>
<li><strong>Темы:</strong> Библиотеки пространств имён (префиксы), использование <code>object:findProperty</code> для получения ID атрибутов, системные атрибуты, различные типы присвоения значений в переменные, встроенные предикаты для работы с данными (строками, датами).</li>
<li><strong>Навыки:</strong> Эффективный поиск атрибутов по системным именам, присвоение значений переменным, использование базовых встроенных функций.</li>
<li><strong>Задания:</strong> Получение ID атрибута, извлечение значения конкретного атрибута записи, использование встроенных функций для манипуляций со строками.</li>
</ul>
<h3 id="определения_1">Определения</h3>
<ul>
<li><strong>Библиотеки пространств имён (Namespaces/Префиксы)</strong>: Подключаемые модули (области), содержащие знания об объектах, функциях и правилах. Они позволяют обращаться к системным и прикладным атрибутам и их значениям, а также получать доступ к функциям (например, по работе с датами, списками, числами). Объявляются с помощью <code>@prefix</code>.<ul>
<li>Пример: <code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;</code>.</li>
</ul>
</li>
<li><strong><code>object:findProperty</code></strong>: Встроенный предикат, используемый для получения ID атрибута по его псевдониму шаблона и псевдониму атрибута (например, <code>("TemplateAlias" "AttributeAlias") object:findProperty ?attributeId</code>). Он всегда возвращает один ID и высоко оптимизирован.</li>
<li><strong>Системные атрибуты</strong>: Помимо прикладных (созданных вручную), у каждого объекта в платформе есть системные атрибуты, которые не всегда видны в интерфейсе, но существуют и автоматически заполняются системой. Доступ к ним осуществляется через соответствующие библиотеки пространств имён.</li>
<li><strong>Встроенные предикаты (Built-in Predicates)</strong>: Сложные предикаты, содержащие функции для работы со строками, датами, математические функции и т.д. Они выполняют вычисления в памяти, а не запрашивают базу данных.</li>
</ul>
<h3 id="содержание-урока_1">Содержание урока</h3>
<p>Чтобы взаимодействовать с атрибутами записей, нам нужно знать их уникальные идентификаторы (ID). В Comindware Platform это делается с помощью предиката <code>object:findProperty</code> и использования пространств имён.</p>
<p><strong>Объявление пространств имён:</strong>
Перед использованием функций или системных атрибутов, принадлежащих определённому пространству имён, его необходимо объявить в начале запроса с помощью директивы <code>@prefix</code>.
Например, для <code>object:findProperty</code> используется пространство имён <code>http://comindware.com/ontology/object#</code>, которое часто сокращается как <code>object:</code>.</p>
<div class="highlight"><code><pre><span></span><code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.</code> <br/></pre></code></div>
<p><strong>Получение ID атрибута с помощью <code>object:findProperty</code>:</strong>
Синтаксис <code>object:findProperty</code> принимает на вход два строковых литерала: системное имя шаблона и системное имя атрибута внутри этого шаблона. Результат (ID атрибута) присваивается переменной.</p>
<p>Пример: Получение ID атрибута <code>required_skills</code> из шаблона <code>projects</code>.
<div class="highlight"><code><pre><span></span><code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.</code> <br/><code>{</code> <br/><code>    ("projects" "required_skills") object:findProperty ?requiredSkillsAttrId.</code> <br/><code>    ?requiredSkillsAttrId -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
Здесь <code>?requiredSkillsAttrId</code> будет содержать уникальный ID атрибута "Необходимые навыки" в системе.</p>
<p><strong>Присвоение значений переменным (поиск данных)</strong>:
Интерпретатор N3 может присваивать значения переменным, если одна из сущностей триплета неизвестна (обозначена <code>?</code>).
*   <strong>Поиск объекта по субъекту и предикату</strong>: Наиболее частый случай, когда мы знаем запись (<code>?item</code>) и атрибут (<code>?attributeId</code>), и хотим получить его значение.
    <div class="highlight"><code><pre><span></span><code>?item ?attributeId ?attributeValue.</code> <br/></pre></code></div>
*   <strong>Поиск субъекта по предикату и объекту</strong>: Когда мы знаем значение (<code>?attributeValue</code>) и атрибут (<code>?attributeId</code>), и хотим найти запись, которой это значение принадлежит.
    <div class="highlight"><code><pre><span></span><code>?subject ?attributeId ?attributeValue.</code> <br/></pre></code></div>
*   <strong>Проверка наличия факта (Match)</strong>: Если все три части известны, происходит проверка на полное совпадение. Запрос возвращает <code>true</code> или <code>false</code>.
    <div class="highlight"><code><pre><span></span><code>?item ?attributeId "SomeValue".</code> <br/></pre></code></div>
    Если такой триплет существует, запрос считается успешным.</p>
<p><strong>Встроенные предикаты для работы со строками (примеры):</strong>
Comindware N3 предлагает множество встроенных функций. Для работы со строками часто используются функции из пространства имён <code>cmwstring:</code>.</p>
<ul>
<li><code>cmwstring:length</code>: Возвращает количество символов в строке.
    <div class="highlight"><code><pre><span></span><code>@prefix cmwstring: &lt;http://comindware.com/logics/string#&gt;.</code> <br/><code>{</code> <br/><code>    "Hello World" cmwstring:length ?len.</code> <br/><code>    ?len -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
    Результат: 11</li>
<li><code>cmwstring:replace</code>: Заменяет все вхождения заданной подстроки.
    <div class="highlight"><code><pre><span></span><code>@prefix cmwstring: &lt;http://comindware.com/logics/string#&gt;.</code> <br/><code>{</code> <br/><code>    ("Hello World" "World" "N3") cmwstring:replace ?newString.</code> <br/><code>    ?newString -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
    Результат: "Hello N3"</li>
</ul>
<h3 id="hr-сценарий-подготовка-к-поиску-навыков">HR-сценарий: Подготовка к поиску навыков</h3>
<p>Для нашего HR-сценария нам понадобятся ID атрибутов "Необходимые навыки" (required_skills) из шаблона "Проекты" и "Навыки сотрудника" (available_skills) из шаблона "Сотрудники".</p>
<p><div class="highlight"><code><pre><span></span><code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.</code> <br/><code>{</code> <br/><code>    ("projects" "required_skills") object:findProperty ?requiredSkillsAttrId.</code> <br/><code>    ("employees" "available_skills") object:findProperty ?availableSkillsAttrId.</code> <br/><code></code> <br/><code>    # Теперь мы можем использовать ?requiredSkillsAttrId и ?availableSkillsAttrId</code> <br/><code>    # для доступа к значениям этих атрибутов в других триплетах.</code> <br/><code></code> <br/><code>    # Пример: получение необходимых навыков для текущего проекта (?item)</code> <br/><code>    ?item ?requiredSkillsAttrId ?skillRef. # ?skillRef будет ссылкой на запись из справочника "Навыки"</code> <br/><code></code> <br/><code>    ?skillRef cmw:name ?skillName. # Предполагаем, что у справочника "Навыки" есть атрибут cmw:name</code> <br/><code>    ?skillName -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<em>Обратите внимание: <code>cmw:name</code> – это системный атрибут, который обычно содержит отображаемое имя объекта или записи. Для его использования также потребуется объявить соответствующее пространство имён, если оно не было объявлено.</em></p>
<h3 id="тестирование_1">Тестирование</h3>
<p><strong>Задание 2.1: Получение ID атрибута и его значения.</strong>
Представьте, что у вас есть шаблон записи "Сотрудники" с атрибутом "Имя" (системное имя <code>cmw:name</code>). Напишите N3-запрос, который возвращает имя текущего сотрудника (<code>?item</code>).</p>
<div class="highlight"><code><pre><span></span><code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.</code> <br/><code>@prefix cmw: &lt;http://comindware.com/ontology/object#&gt;. # или &lt;http://comindware.com/logics#&gt; в зависимости от контекста name</code> <br/><code></code> <br/><code>{</code> <br/><code>    ("employees" "Name") object:findProperty ?nameAttrId. # Предполагаем, что Name - это ваш прикладной атрибут</code> <br/><code>    # Если имя - это системный атрибут, используйте cmw:name напрямую: ?item cmw:name ?employeeName.</code> <br/><code></code> <br/><code>    ?item ?nameAttrId ?employeeName.</code> <br/><code>    ?employeeName -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<p><strong>Задание 2.2: Использование строковой функции.</strong>
Напишите N3-запрос, который берёт любую строку (например, "notation3") и преобразует её в верхний регистр, возвращая результат в <code>?value</code>.</p>
<div class="highlight"><code><pre><span></span><code>@prefix cmwentity: &lt;http://comindware.com/ontology/entity#&gt;.</code> <br/><code>{</code> <br/><code>    "notation3" cmwentity:toUpper ?upperCaseString.</code> <br/><code>    ?upperCaseString -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<h3 id="итоги-урока_1">Итоги урока</h3>
<p>В этом уроке вы узнали, как работать с пространствами имён и использовать <code>object:findProperty</code> для получения ID атрибутов, что является ключом к извлечению данных из Comindware Platform. Вы также ознакомились с различными видами присвоения переменных и начали использовать встроенные функции N3, что значительно расширяет ваши возможности по обработке данных. Эти навыки критически важны для реализации нашего HR-сценария.</p>
<hr/>
<h2 id="урок-3-управление-потоком-выполнения-и-сложные-запросы">Урок 3: Управление потоком выполнения и сложные запросы</h2>
<h3 id="введение_3">Введение</h3>
<p>Теперь, когда вы освоили основы N3 и работу с атрибутами, пришло время разобраться с тем, как N3 обрабатывает коллекции данных и управляет сложной логикой. В этом уроке мы изучим концепцию итераторов, мощные операторы <code>from {} select</code>, <code>assert:union</code>, <code>once</code>, <code>or</code>, а также условный оператор <code>if {} then {} else {}</code>. Все это позволит нам реализовать наш сквозной HR-сценарий по поиску сотрудников с необходимыми навыками.</p>
<h3 id="темы-навыки-и-задания-урока_2">Темы, навыки и задания урока</h3>
<ul>
<li><strong>Темы:</strong> Работа итераторов N3, преобразование итераторов в списки (<code>from {} select</code>), объединение результатов (<code>assert:union</code>), получение первого результата (<code>once</code>), логический оператор <code>or</code>, условные операторы (<code>if {} then {} else {}</code>), сортировка списков (<code>assert:sort</code>), объединение списков в строку (<code>cmwstring:join</code>).</li>
<li><strong>Навыки:</strong> Управление сложными запросами, обработка коллекций данных, реализация условной логики, решение HR-задачи по подбору персонала по навыкам.</li>
<li><strong>Задания:</strong> Реализация основного запроса для HR-сценария.</li>
</ul>
<h3 id="определения_2">Определения</h3>
<ul>
<li><strong>Итератор (Iterator)</strong>: Механизм в N3, который при выполнении запроса может возвращать последовательность значений. Запрос выполняется последовательно сверху вниз по каждому триплету, и если строка генерирует несколько результатов, последующие строки перевыполняются для каждого из этих результатов.</li>
<li><strong><code>from {} select ?v -&gt; ?VList</code></strong>: Конструкция для получения типа "Список" (List). Она собирает значения из итератора в массив, который затем обрабатывается как единое целое, а не как последовательность отдельных элементов.</li>
<li><strong><code>assert:union true</code></strong>: Оператор для объединения результатов нескольких итераторов в один. При использовании <code>true</code> как объекта, это аналогично SQL-операции "UNION ALL", включая дубликаты.</li>
<li><strong><code>assert:distinct</code></strong>: Используется для получения уникальных значений после объединения итераторов.</li>
<li><strong><code>once {}</code></strong>: Оператор, который выполняет запрос и возвращает только первый успешный результат, останавливая дальнейшую итерацию после нахождения совпадения. Полезно для оптимизации.</li>
<li><strong><code>or {} or {}</code></strong>: Логический оператор "ИЛИ". Выполняет выражения последовательно, переключаясь на следующее, если предыдущее не вернуло результат, и выходит после первого успешного выполнения.</li>
<li><strong><code>if {} then {} else {}</code></strong>: Условный оператор. Если блок <code>if</code> не выполнился и нет блока <code>else</code>, запрос прерывается, и результат будет <code>null</code>.</li>
<li><strong><code>assert:sort</code></strong>: Используется для сортировки списков. Например, <code>(?list sort:stringComparer) assert:sort ?sortedList.</code>.</li>
<li><strong><code>cmwstring:join</code></strong>: Объединяет строки (или элементы списка) с использованием заданного разделителя.</li>
</ul>
<h3 id="содержание-урока_2">Содержание урока</h3>
<p>N3-запросы выполняются <strong>последовательно сверху вниз по каждому триплету, в итеративном порядке</strong>. Это означает, что если в одной строке запроса переменная получает несколько значений (создаётся итератор), то все последующие строки запроса будут выполнены для каждого из этих значений. <strong>Чем меньше значений итераторы сформируют на первых строчках, тем легче будет выполнять весь скрипт и тем быстрее он будет выполняться</strong>.</p>
<p><strong>Преобразование итератора в список (<code>from {} select</code>)</strong>:
Для работы с коллекциями значений как с единым целым, например для сортировки или сравнения всего набора, используется конструкция <code>from {} select</code>.
Пример:
<div class="highlight"><code><pre><span></span><code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.</code> <br/><code>{</code> <br/><code>    # Получаем все значения атрибута "Название" для всех записей типа "Книга"</code> <br/><code>    ?book a object:Book.</code> <br/><code>    ?book object:name ?bookName.</code> <br/><code></code> <br/><code>    # Собираем все названия книг в список ?bookNameList</code> <br/><code>    from {</code> <br/><code>        ?book a object:Book.</code> <br/><code>        ?book object:name ?bookName.</code> <br/><code>    } select ?bookName -&gt; ?bookNameList.</code> <br/><code></code> <br/><code>    ?bookNameList -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div></p>
<p><strong>Объединение итераторов (<code>assert:union</code>)</strong>:
Если вам нужно объединить результаты из нескольких источников или условий, используйте <code>assert:union</code>.
Пример: Получение всех возможных исполнителей задачи, включая фактически назначенных и потенциальных.
<div class="highlight"><code><pre><span></span><code>@prefix cmw: &lt;http://comindware.com/logics#&gt;.</code> <br/><code>@prefix task: &lt;http://comindware.com/ontology/task#&gt;.</code> <br/><code>{</code> <br/><code>    ?tasks a cmw:UserTask. # Получаем все задачи на исполнение</code> <br/><code>    (</code> <br/><code>        {?tasks cmw:possibleAssignee ?accounts.} # Получаем возможных исполнителей</code> <br/><code>        {?tasks cmw:assignee ?accounts.}        # Получаем назначенных исполнителей</code> <br/><code>    ) assert:union true. # Объединяем результаты</code> <br/><code></code> <br/><code>    ?accounts -&gt; ?value. # Выводим список всех аккаунтов</code> <br/><code>}</code> <br/></pre></code></div>
<code>assert:union true</code> включает дубликаты. Чтобы получить только уникальные значения, используйте <code>assert:distinct</code> после объединения.</p>
<p><strong>Условные операторы (<code>if {} then {} else {}</code>)</strong>:
Для выполнения кода в зависимости от условия. Если <code>if</code> не выполняется и <code>else</code> отсутствует, запрос прерывается.
Пример: Проверка просроченных задач.</p>
<p><strong>Реализация HR-сценария: Точное соответствие навыков</strong></p>
<p>Теперь применим изученные концепции для нашего HR-сценария: "найти проекты, для которых все необходимые навыки <em>точно совпадают</em> с навыками, которыми обладает <strong>конкретный сотрудник</strong>."</p>
<p>Для этого мы используем подход, аналогичный решению Задания 4 из источников: собрать списки значений, отсортировать их, объединить в строку и затем сравнить эти строки.</p>
<p><strong>Предположим, у нас есть:</strong>
*   <strong><code>?item</code></strong>: текущая запись о проекте (или сотруднике, в зависимости от контекста).
*   Системное имя шаблона "Проекты": <code>projects</code>
*   Системное имя атрибута "Необходимые навыки" в "Проектах": <code>required_skills</code>
*   Системное имя шаблона "Сотрудники": <code>employees</code>
*   Системное имя атрибута "Навыки сотрудника" в "Сотрудниках": <code>available_skills</code></p>
<p><strong>N3-запрос для проверки соответствия навыков:</strong></p>
<div class="highlight"><code><pre><span></span><code>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.</code> <br/><code>@prefix assert: &lt;http://comindware.com/logics/assert#&gt;.</code> <br/><code>@prefix cmwstring: &lt;http://comindware.com/logics/string#&gt;.</code> <br/><code>@prefix sort: &lt;http://comindware.com/logics/sort#&gt;.</code> <br/><code>@prefix cmw: &lt;http://comindware.com/logics#&gt;. # Для cmw:name или других системных атрибутов</code> <br/><code></code> <br/><code>{</code> <br/><code>    # 1. Получаем ID атрибутов для "Необходимых навыков" и "Навыков сотрудника"</code> <br/><code>    ("projects" "required_skills") object:findProperty ?requiredSkillsAttrId.</code> <br/><code>    ("employees" "available_skills") object:findProperty ?availableSkillsAttrId.</code> <br/><code>    ("skills" "name") object:findProperty ?skillNameAttrId. # ID атрибута "Название" для справочника "Навыки"</code> <br/><code></code> <br/><code>    # 2. Получаем необходимые навыки для ТЕКУЩЕГО ПРОЕКТА (?item)</code> <br/><code>    # Собираем ссылки на навыки в список</code> <br/><code>    from {</code> <br/><code>        ?item ?requiredSkillsAttrId ?requiredSkillRef. # ?item - это наш проект</code> <br/><code>        ?requiredSkillRef ?skillNameAttrId ?requiredSkillName. # Получаем название навыка</code> <br/><code>    } select ?requiredSkillName -&gt; ?projectRequiredSkillsList.</code> <br/><code></code> <br/><code>    # 3. Сортируем список необходимых навыков проекта и объединяем в строку для сравнения</code> <br/><code>    (?projectRequiredSkillsList sort:stringComparer) assert:sort ?sortedProjectRequiredSkillsList.</code> <br/><code>    ("" ?sortedProjectRequiredSkillsList) cmwstring:join ?projectRequiredSkillsStr.</code> <br/><code></code> <br/><code>    # 4. Итерируем по всем сотрудникам, чтобы найти подходящих</code> <br/><code>    ?employee a object:Employee. # Предполагаем, что object:Employee - это класс для шаблона "Сотрудники"</code> <br/><code></code> <br/><code>    # 5. Для каждого сотрудника получаем его доступные навыки</code> <br/><code>    from {</code> <br/><code>        ?employee ?availableSkillsAttrId ?availableSkillRef.</code> <br/><code>        ?availableSkillRef ?skillNameAttrId ?availableSkillName.</code> <br/><code>    } select ?availableSkillName -&gt; ?employeeAvailableSkillsList.</code> <br/><code></code> <br/><code>    # 6. Сортируем список доступных навыков сотрудника и объединяем в строку</code> <br/><code>    (?employeeAvailableSkillsList sort:stringComparer) assert:sort ?sortedEmployeeAvailableSkillsList.</code> <br/><code>    ("" ?sortedEmployeeAvailableSkillsList) cmwstring:join ?employeeAvailableSkillsStr.</code> <br/><code></code> <br/><code>    # 7. Сравниваем отсортированные строки навыков</code> <br/><code>    # Если строка необходимых навыков проекта ТОЧНО совпадает со строкой навыков сотрудника,</code> <br/><code>    # значит, сотрудник идеально подходит для проекта по навыкам.</code> <br/><code>    if (?projectRequiredSkillsStr == ?employeeAvailableSkillsStr) then {</code> <br/><code>        ?employee -&gt; ?value. # Добавляем этого сотрудника в результат</code> <br/><code>    }.</code> <br/><code>    # Если это вычисляемый атрибут в шаблоне "Проект", ?value будет списком подходящих сотрудников.</code> <br/><code>    # Если это запрос в другом контексте, ?value будет содержать список ID сотрудников.</code> <br/><code>}</code> <br/></pre></code></div>
<p><strong>Пояснения к HR-запросу:</strong>
*   Первым делом мы объявляем все необходимые пространства имён для работы с объектами, ассертами, строками и сортировкой.
*   Далее мы находим ID всех трёх ключевых атрибутов: необходимых навыков проекта, доступных навыков сотрудника и названия самих навыков из справочника.
*   С помощью блока <code>from {} select</code> мы извлекаем все необходимые навыки для текущего проекта (<code>?item</code>), преобразуем их в список имен навыков (<code>?projectRequiredSkillsList</code>).
*   Этот список сортируется (<code>assert:sort</code>) и объединяется в одну строку (<code>cmwstring:join</code>). Например, навыки "Java", "SQL", "Python" превратятся в строку "JavaPythonSQL" (если разделитель пуст, как в примере из источника). Важно, чтобы сортировка была одинаковой для обоих списков, чтобы их строковые представления можно было корректно сравнить.
*   Мы начинаем итерировать по всем записям шаблона "Сотрудники" (<code>?employee a object:Employee.</code>).
*   Для каждого сотрудника мы аналогичным образом получаем его доступные навыки, сортируем их и объединяем в строку.
*   Наконец, с помощью <code>if {} then {}</code> мы сравниваем две полученные строки (строку необходимых навыков проекта и строку доступных навыков сотрудника). Если они идентичны, это означает, что набор навыков сотрудника точно совпадает с требуемым для проекта. В этом случае ID сотрудника (<code>?employee</code>) добавляется в выходной параметр <code>?value</code>.</p>
<p>Этот запрос вернёт список сотрудников, которые имеют <strong>точно такой же набор навыков</strong>, как и требуемый для проекта.</p>
<h3 id="тестирование_2">Тестирование</h3>
<p><strong>Задание 3.1: Реализация HR-сценария.</strong>
Используя предложенный N3-запрос для HR-сценария, настройте его в качестве вычисляемого атрибута в шаблоне "Проекты" (например, атрибут "Подходящие сотрудники").
*   Создайте шаблоны "Проекты", "Сотрудники", "Навыки".
*   Наполните справочник "Навыки" несколькими навыками (например, "Java", "SQL", "Python", "UX/UI").
*   Создайте несколько записей проектов с разными наборами "Необходимых навыков".
*   Создайте несколько записей сотрудников с разными наборами "Навыков сотрудника".
*   Проверьте, как вычисляемый атрибут "Подходящие сотрудники" отображает результаты для каждого проекта.</p>
<p><strong>Задание 3.2: Использование <code>assert:union</code> и <code>assert:distinct</code>.</strong>
Представьте, что у вас есть два списка ID задач: <code>?urgentTasks</code> и <code>?overdueTasks</code>. Напишите N3-запрос, который объединяет эти два списка и возвращает только <strong>уникальные</strong> ID задач в <code>?value</code>.</p>
<div class="highlight"><code><pre><span></span><code>@prefix assert: &lt;http://comindware.com/logics/assert#&gt;.</code> <br/><code>{</code> <br/><code>    # Предположим, у нас есть два итератора, возвращающие ID задач</code> <br/><code>    { "task1" -&gt; ?urgentTask. "task2" -&gt; ?urgentTask. } ?urgentTask. # Пример итератора для срочных задач</code> <br/><code>    { "task2" -&gt; ?overdueTask. "task3" -&gt; ?overdueTask. } ?overdueTask. # Пример итератора для просроченных задач</code> <br/><code></code> <br/><code>    (</code> <br/><code>        { ?urgentTask -&gt; ?taskId. }</code> <br/><code>        { ?overdueTask -&gt; ?taskId. }</code> <br/><code>    ) assert:union true.</code> <br/><code></code> <br/><code>    ?taskId assert:distinct ?uniqueTaskId.</code> <br/><code>    ?uniqueTaskId -&gt; ?value.</code> <br/><code>}</code> <br/></pre></code></div>
<h3 id="итоги-урока_2">Итоги урока</h3>
<p>В этом уроке вы овладели сложными аспектами N3-запросов: управлением итераторами, преобразованием данных в списки, использованием мощных логических операторов и условных конструкций. Вы успешно применили эти знания для решения практической HR-задачи по сопоставлению навыков, что является отличным показателем вашего прогресса в освоении N3.</p>
<hr/>
<h2 id="завершение-курса">Завершение курса</h2>
<h3 id="чему-вы-научились">Чему вы научились</h3>
<p>Поздравляем с успешным завершением курса по N3 в Comindware Platform! Вы проделали большую работу и теперь обладаете следующими ключевыми навыками и знаниями:
*   Вы понимаете <strong>фундаментальные принципы N3</strong>, его роль в графовой базе данных Comindware и отличие от Expression Language.
*   Вы умеете работать с <strong>триплетами</strong> (Субъект-Предикат-Объект) и понимаете, как они представляют данные.
*   Вы знакомы с <strong>основными правилами синтаксиса N3</strong> и можете писать базовые запросы.
*   Вы освоили использование <strong>входных (<code>?item</code>) и выходных (<code>?value</code>) параметров</strong> запросов.
*   Вы научились использовать <strong>пространства имён</strong> и ключевой предикат <strong><code>object:findProperty</code></strong> для доступа к атрибутам по их системным именам.
*   Вы можете применять <strong>различные типы присвоения значений</strong> переменным и использовать <strong>системные атрибуты</strong>.
*   Вы разобрались в работе <strong>итераторов</strong> и умеете управлять ими для обработки коллекций данных.
*   Вы освоили <strong>сложные конструкции запросов</strong>, такие как <code>from {} select</code> для создания списков, <code>assert:union</code> и <code>assert:distinct</code> для объединения и фильтрации, а также логические операторы <code>once</code>, <code>or</code> и условный <code>if {} then {} else {}</code>.
*   Вы успешно реализовали <strong>сквозной HR-сценарий по подбору персонала по навыкам</strong>, показав практическое применение N3 для решения реальных бизнес-задач.</p>
<p>Эти навыки позволят вам создавать более гибкие и мощные бизнес-приложения на Comindware Platform!</p>
<h3 id="что-дальше">Что дальше</h3>
<p>Ваше путешествие в мир N3 только начинается. Полученные знания являются отличной основой для дальнейшего углубления. Вы можете продолжать экспериментировать с N3, исследовать другие языки выражений платформы и более сложные возможности.</p>
<h3 id="рекомендуемые-ресурсы-для-самостоятельного-изучения">Рекомендуемые ресурсы для самостоятельного изучения</h3>
<ul>
<li><strong>Официальная база знаний Comindware:</strong><ul>
<li><strong>Руководство по языку N3:</strong> https://kb.comindware.ru/article.php?id=4852. Это основной справочник по синтаксису и функциям N3.</li>
<li><strong>Примеры выражений на языке N3:</strong> Раздел с множеством практических примеров N3-запросов для различных сценариев https://kb.comindware.ru/category.php?id=879.</li>
<li><strong>Руководство по языку формул:</strong> https://kb.comindware.ru/article.php?id=4999. Для задач, где Expression Language более подходит.</li>
<li><strong>Руководство по скриптам на C#:</strong> https://kb.comindware.ru/article.php?id=4864. Для ещё более сложных сценариев и интеграций.</li>
<li><strong>Общие сведения об API Comindware Platform:</strong> https://kb.comindware.ru/article.php?id=4860. Позволит понять, как платформа взаимодействует с внешними системами.</li>
<li><strong>Директории файлов экземпляра ПО:</strong> https://kb.comindware.ru/article.php?id=4620. Полезно для системных администраторов.</li>
<li><strong>Настройки резервного копирования:</strong> https://kb.comindware.ru/article.php?id=4642.</li>
</ul>
</li>
<li><strong>Внешние ресурсы:</strong><ul>
<li><strong>W3C Resource Description Framework (RDF) и Notation3 (N3):</strong> Официальные спецификации для глубокого понимания стандартов.</li>
<li><strong>Diátaxis Framework:</strong> Принципы структурирования технической документации. Поможет лучше понимать, почему документация построена определённым образом.</li>
<li><strong>Онлайн-курсы по RDF/Semantic Web:</strong> Многие платформы предлагают курсы по семантическим технологиям.</li>
</ul>
</li>
</ul>
<h3 id="темы-для-дальнейшего-изучения-возможностей-платформы">Темы для дальнейшего изучения возможностей платформы</h3>
<ul>
<li><strong>Оптимизация N3-запросов</strong>: Более глубокое изучение того, как оптимизировать запросы для максимальной производительности, включая использование <code>once</code> и раннюю фильтрацию.</li>
<li><strong>Работа с DMN-таблицами</strong>: Изучение Decision Model and Notation (DMN) для упрощения сложной условной логики, особенно в формах.</li>
<li><strong>Интеграции с внешними системами</strong>: Использование N3 в сценариях для обмена данными через REST API, OData, Kafka и другие протоколы.</li>
<li><strong>Расширенные встроенные функции</strong>: Подробное изучение всех встроенных предикатов для работы с датами, числами, списками и другими типами данных.</li>
<li><strong>Написание C#-скриптов</strong>: Изучение C# для реализации бизнес-логики, которая требует доступа к .NET-библиотекам или сложной работы с API.</li>
<li><strong>Разработка собственных адаптеров</strong>: Создание кастомных адаптеров для интеграции с уникальными внешними системами.</li>
</ul>
<h3 id="примеры-и-идеи-для-самостоятельных-экспериментов">Примеры и идеи для самостоятельных экспериментов</h3>
<ol class="colored_numbers_list">
<li>
<p><strong>Усовершенствование HR-сценария:</strong></p>
<ul>
<li>Измените запрос так, чтобы он находил сотрудников, которые обладают <strong>хотя бы одним</strong> из необходимых навыков (логика "ИЛИ").</li>
<li>Измените запрос так, чтобы он находил сотрудников, которые обладают <strong>всеми необходимыми навыками</strong>, но при этом могут иметь и <strong>дополнительные</strong> (логика "является надмножеством"). Это будет сложнее и потребует более продвинутых техник сравнения списков.</li>
<li>Добавьте в запрос условие по дополнительному атрибуту сотрудника, например, "найти всех подходящих сотрудников из определённого отдела".</li>
</ul>
</li>
<li>
<p><strong>Агрегация данных:</strong></p>
<ul>
<li>Напишите запрос, который подсчитывает общее количество записей определённого типа (например, количество проектов) с использованием <code>assert:count</code>.</li>
<li>Напишите запрос, который суммирует числовые значения из коллекции (например, общую стоимость затрат по проекту) с использованием <code>math:sum</code> и <code>from {} select</code>.</li>
</ul>
</li>
<li>
<p><strong>Работа с датами:</strong></p>
<ul>
<li>Напишите запрос, который определяет, является ли дата создания записи сегодняшним днём, используя <code>cmwtime:isToday</code>.</li>
<li>Вычислите количество рабочих дней или часов между двумя датами, используя <code>cmwtime:workdaysDuration</code> или <code>cmwtime:workhoursDuration</code>.</li>
</ul>
</li>
</ol>
<p>Удачи в ваших дальнейших исследованиях Comindware Platform и языка N3!</p>
<hr/>
<h2 id="тест-по-курсу-n3">Тест по курсу N3</h2>
<p>Выберите один или несколько правильных ответов.</p>
<ol class="colored_numbers_list">
<li>
<p>Что является основной целью языка N3 в Comindware Platform?
    а) Создание пользовательского интерфейса путем перетаскивания элементов.
    б) Создание запросов средней сложности и доступ ко всем атрибутам графовой базы данных.
    в) Выполнение только простых математических операций.
    г) Упрощение синтаксиса Excel-подобных формул.</p>
</li>
<li>
<p>Какова основная синтаксическая единица N3/RDF модели?
    а) Нода (Node)
    б) Ребро (Edge)
    в) Триплет (Triplet)
    г) Граф (Graph)</p>
</li>
<li>
<p>Что из перечисленного является правилом синтаксиса N3?
    а) Все переменные должны начинаться с символа <code>$</code>.
    б) Весь запрос заключается в квадратные скобки <code>[]</code>.
    в) Интерпретатор N3 не учитывает регистр символов.
    г) Каждый триплет заканчивается точкой <code>.</code>.</p>
</li>
<li>
<p>Какая из переменных используется в N3-запросах для представления входного параметра (например, ID текущей записи)?
    а) <code>?value</code>
    б) <code>?item</code>
    в) <code>?this</code>
    г) <code>?input</code></p>
</li>
<li>
<p>Какой встроенный предикат N3 используется для получения уникального ID атрибута по системным именам шаблона и атрибута?
    а) <code>assert:find</code>
    б) <code>cmw:getAttributeId</code>
    в) <code>object:findProperty</code>
    г) <code>logic:getProperty</code></p>
</li>
<li>
<p>Что делает оператор <code>from {} select ?v -&gt; ?VList</code>?
    а) Фильтрует список по заданному условию.
    б) Сортирует элементы списка в алфавитном порядке.
    в) Собирает значения из итератора в единый список (массив).
    г) Выполняет сложение числовых значений в списке.</p>
</li>
<li>
<p>В N3-запросе, если блок <code>if</code> не выполнился, и отсутствует блок <code>else</code>, что произойдёт с выполнением запроса?
    а) Запрос продолжит выполнение, игнорируя условие <code>if</code>.
    б) Запрос выведет ошибку.
    в) Запрос будет прерван, и результат будет <code>null</code>.
    г) Запрос автоматически выполнит <code>then</code> блок.</p>
</li>
<li>
<p>Какой оператор N3 следует использовать для объединения результатов нескольких итераторов таким образом, чтобы включить все дубликаты (аналогично SQL <code>UNION ALL</code>)?
    а) <code>assert:distinct</code>
    б) <code>assert:union false</code>
    в) <code>assert:union true</code>
    г) <code>or {} or {}</code></p>
</li>
<li>
<p>Что означает последовательный и итеративный порядок выполнения N3-запросов?
    а) Запрос выполняется только один раз, независимо от количества результатов.
    б) Запрос выполняет все триплеты одновременно.
    в) Запрос выполняется строка за строкой, и если строка генерирует несколько результатов (итератор), последующие строки перевыполняются для каждого из этих результатов.
    г) Запрос требует ручного подтверждения каждого шага.</p>
</li>
<li>
<p>В HR-сценарии "Подбор персонала по навыкам", какой подход был использован для сравнения наборов навыков проекта и сотрудника?
    а) Прямое сравнение ссылок на навыки без преобразования.
    б) Подсчет количества навыков в каждом наборе и их сравнение.
    в) Сбор навыков в списки, их сортировка, объединение в строки и сравнение полученных строк.
    г) Использование оператора <code>assert:containsAll</code>.</p>
</li>
</ol>
<hr/>
<h2 id="ответы-к-тесту">Ответы к тесту</h2>
<ol class="colored_numbers_list">
<li><strong>б)</strong> Создание запросов средней сложности и доступ ко всем атрибутам графовой базы данных.</li>
<li><strong>в)</strong> Триплет (Triplet).</li>
<li><strong>г)</strong> Каждый триплет заканчивается точкой <code>.</code>.</li>
<li><strong>б)</strong> <code>?item</code>.</li>
<li><strong>в)</strong> <code>object:findProperty</code>.</li>
<li><strong>в)</strong> Собирает значения из итератора в единый список (массив).</li>
<li><strong>в)</strong> Запрос будет прерван, и результат будет <code>null</code>.</li>
<li><strong>в)</strong> <code>assert:union true</code>.</li>
<li><strong>в)</strong> Запрос выполняется строка за строкой, и если строка генерирует несколько результатов (итератор), последующие строки перевыполняются для каждого из этих результатов.</li>
<li><strong>в)</strong> Сбор навыков в списки, их сортировка, объединение в строки и сравнение полученных строк.</li>
</ol>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>