<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="" kb-tags="" kb-title="">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#полное-руководство-по-языку-запросов-n3-в-платформе-comindware">
<span class="md-ellipsis">
      Полное руководство по языку запросов N3 в платформе Comindware
    </span>
</a>
<nav aria-label="Полное руководство по языку запросов N3 в платформе Comindware" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#1-новый-взгляд-на-данные-от-таблиц-к-графам">
<span class="md-ellipsis">
      1. Новый взгляд на данные: от таблиц к графам
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#2-атомарный-строительный-блок-триплет">
<span class="md-ellipsis">
      2. Атомарный строительный блок: Триплет
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#3-основы-синтаксиса-n3">
<span class="md-ellipsis">
      3. Основы синтаксиса N3
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#4-как-на-самом-деле-работают-запросы-роль-итератора">
<span class="md-ellipsis">
      4. Как на самом деле работают запросы: роль Итератора
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#5-анатомия-реального-запроса-практический-пример">
<span class="md-ellipsis">
      5. Анатомия реального запроса: практический пример
    </span>
</a>
<nav aria-label="5. Анатомия реального запроса: практический пример" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#шаг-1-сбор-всех-товаров">
<span class="md-ellipsis">
      Шаг 1: Сбор всех товаров
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#шаг-2-фильтрация-дубликатов">
<span class="md-ellipsis">
      Шаг 2: Фильтрация дубликатов
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#шаг-3-подсчет-уникальных-элементов">
<span class="md-ellipsis">
      Шаг 3: Подсчет уникальных элементов
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#заключение">
<span class="md-ellipsis">
      Заключение
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="полное-руководство-по-языку-запросов-n3-в-платформе-comindware">Полное руководство по языку запросов N3 в платформе Comindware</h2>
<p>Язык запросов Notation 3 (N3) — это мощный инструмент для работы с данными в платформе Comindware. Он позволяет отойти от традиционных табличных представлений и начать «разговаривать» с информацией, раскрывая весь её потенциал. Это руководство проведет вас через ключевые концепции N3, от фундаментальной философии до разбора практических примеров.</p>
<h3 id="1-новый-взгляд-на-данные-от-таблиц-к-графам">1. Новый взгляд на данные: от таблиц к графам</h3>
<p>Чтобы освоить N3, необходимо изменить привычный взгляд на данные. Вместо того чтобы представлять информацию в виде жестких таблиц со строками и столбцами, представьте ее как огромный, взаимосвязанный граф или паутину отношений.</p>
<p>В этой модели, лежащей в основе графовых баз данных, мир описывается через последовательность простых, связанных между собой фактов. Такой подход делает формулирование сложных реляционных запросов более интуитивным и мощным. Вы больше не ищете запись в таблице, а исследуете связи между сущностями.</p>
<h3 id="2-атомарный-строительный-блок-триплет">2. Атомарный строительный блок: Триплет</h3>
<p>Вся система N3 построена на одной простой и изящной структуре — <strong>Триплете</strong>. Это фундаментальная единица данных, атомарный строительный блок, из которого состоит вся информация в системе.</p>
<p>Структура триплета аналогична простому предложению и состоит из трех частей:
*   <strong>Субъект:</strong> То, о чем идет речь.
*   <strong>Предикат:</strong> Свойство, действие или отношение, связывающее субъект с объектом.
*   <strong>Объект:</strong> Значение, сущность или то, на что направлено действие.</p>
<p>Любой факт, от простого утверждения <strong>«мама мыла раму»</strong> до сложного системного отношения <strong>«ЭтотПенал содержит синийКарандаш»</strong>, может быть представлен в виде триплета. Эта универсальность делает триплет невероятно мощной концепцией.</p>
<h3 id="3-основы-синтаксиса-n3">3. Основы синтаксиса N3</h3>
<p>Синтаксис N3 напрямую отражает структуру триплета. Запрос строится из последовательности утверждений, каждое из которых описывает одну связь:</p>
<p><code>[Субъект] [Предикат] [Объект].</code></p>
<ul>
<li><strong>Переменные:</strong> Чтобы задать вопрос и найти неизвестное значение, используются переменные, которые начинаются со знака вопроса (например, <code>?user</code> или <code>?value</code>).</li>
<li><strong>Точка в конце:</strong> Каждое полное утверждение (триплет) в N3 обязательно заканчивается точкой, как предложение в обычном языке.</li>
</ul>
<h3 id="4-как-на-самом-деле-работают-запросы-роль-итератора">4. Как на самом деле работают запросы: роль Итератора</h3>
<p>Понимание механизма работы движка запросов — ключ к написанию эффективных и быстрых запросов. Система не выполняет весь запрос одновременно, а обрабатывает его последовательно, строка за строкой.</p>
<p>Центральное понятие здесь — <strong>Итератор</strong>.
1.  <strong>Создание итератора:</strong> Первая строка запроса создает первоначальный список всех потенциальных совпадений. Этот список и есть итератор.
2.  <strong>Последовательная фильтрация:</strong> Каждая последующая строка запроса не выполняет новый поиск, а фильтрует уже существующий список в итераторе, отбрасывая элементы, которые не соответствуют новому условию.</p>
<p>Отсюда вытекает <strong>золотое правило эффективности N3</strong>: <em>начинайте запрос с самых конкретных и ограничивающих строк</em>. Чем меньше будет первоначальный итератор, тем быстрее будут обработаны последующие строки и тем быстрее выполнится весь запрос.</p>
<h3 id="5-анатомия-реального-запроса-практический-пример">5. Анатомия реального запроса: практический пример</h3>
<p>Рассмотрим практическую задачу: подсчитать количество уникальных товаров в заказе, игнорируя дубликаты.</p>
<h4 id="шаг-1-сбор-всех-товаров">Шаг 1: Сбор всех товаров</h4>
<p><div class="highlight"><code><pre><span></span><code>{</code> <br/><code>    ?order cwm:p.order.positions ?position.</code> <br/><code>    ?position cwm:p.orderPosition.product ?product.</code> <br/><code>}</code> <br/></pre></code></div>
*   Фигурные скобки <code>{}</code> объединяют операции в один блок.
*   Сначала запрос находит все строки (<code>?position</code>) текущего заказа (<code>?order</code>).
*   Затем для каждой строки он находит связанный с ней товар (<code>?product</code>).
*   <strong>Результат:</strong> создается большой итератор, содержащий список всех товаров из всех строк заказа, включая повторения.</p>
<h4 id="шаг-2-фильтрация-дубликатов">Шаг 2: Фильтрация дубликатов</h4>
<p><div class="highlight"><code><pre><span></span><code>... assert:distinct ?uniqueProducts.</code> <br/></pre></code></div>
*   <code>assert:distinct</code> — это специальный предикат (встроенная функция), который принимает на вход весь список из предыдущего шага.
*   Он фильтрует этот список, удаляя все дубликаты.
*   <strong>Результат:</strong> создается новый, чистый итератор (<code>?uniqueProducts</code>), содержащий только уникальные товары.</p>
<h4 id="шаг-3-подсчет-уникальных-элементов">Шаг 3: Подсчет уникальных элементов</h4>
<p><div class="highlight"><code><pre><span></span><code>... assert:count ?value.</code> <br/></pre></code></div>
*   <code>assert:count</code> — еще одна встроенная функция, которая берет отфильтрованный список уникальных товаров.
*   Она подсчитывает количество элементов в этом списке.
*   <strong>Результат:</strong> итоговое число помещается в выходную переменную <code>?value</code>. Проблема решена.</p>
<h3 id="заключение">Заключение</h3>
<p>Освоив простую силу триплета и логику работы итератора, вы открываете совершенно новый способ взаимодействия с данными. Это больше не механический поиск записей, а полноценный диалог с вашей информацией. Единственный оставшийся вопрос: что вы собираетесь построить с помощью этих знаний?</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>