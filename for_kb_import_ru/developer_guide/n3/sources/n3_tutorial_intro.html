<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="" kb-tags="" kb-title="">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение-в-курс">
<span class="md-ellipsis">
      Введение в курс
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#цели-использования-языка-n3">
<span class="md-ellipsis">
      Цели использования языка N3
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#навыки-которые-будут-освоены">
<span class="md-ellipsis">
      Навыки, которые будут освоены
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#результаты-обучения">
<span class="md-ellipsis">
      Результаты обучения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#краткое-изложение-уроков">
<span class="md-ellipsis">
      Краткое изложение уроков
    </span>
</a>
<nav aria-label="Краткое изложение уроков" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#урок-1-триплет-параметры-item-и-value-синтаксис-переменные">
<span class="md-ellipsis">
      Урок 1: Триплет, параметры Item и Value, синтаксис, переменные.
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#урок-2-библиотеки-пространств-имен-присвоение-переменных-применение-системных-атрибутов-built-in-предикаты-конструкция-from">
<span class="md-ellipsis">
      Урок 2: Библиотеки пространств имен, присвоение переменных, применение системных атрибутов, built-in предикаты, конструкция from.
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#урок-3-итератор-assert-if-or-контейнеры">
<span class="md-ellipsis">
      Урок 3: Итератор, Assert, if, or, контейнеры.
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<p>Ниже представлен подробный анализ и краткое изложение информации из документа "Уроки по языку N3 (Андрей Писковацкий, Георгий Польян).pdf".</p>
<h3 id="введение-в-курс">Введение в курс</h3>
<p>Данный курс призван научить пользователей <strong>ориентироваться в написанных выражениях</strong> и <strong>самостоятельно создавать запросы средней сложности на языке N3</strong>. Курс охватывает базовые принципы работы <strong>триплетов</strong>, <strong>интерпретатора</strong>, а также предоставляет реальные примеры использования. В конце каждого урока предусмотрены задания для самостоятельной работы. Отмечено, что некоторые понятия в курсе намеренно упрощены, но это не искажает общего представления о RDF N3. Руководство рассчитано на пользователей с <strong>хорошим пониманием Comindware Business Application Platform и ее настроек</strong>.</p>
<p>В рамках Comindware Business Application Platform существуют <strong>два типа синтаксиса запросов</strong>:
*   <strong>Expression Language</strong>: Разработан специалистами Comindware, похож на язык выражений Excel, прост в освоении и является своего рода <strong>надстройкой для упрощения RDF N3</strong>. Его достаточно для базовой настройки системы. Примеры использования включают навигацию по связанным шаблонам записи, подсчет объектов, простые математические операции (умножение, деление) и конкатенацию строк.
*   <strong>Язык выражений RDF N3 (также называемый «Тройки»)</strong>: Более сложен для чтения и написания, но <strong>является более функциональным и основополагающим</strong>. Стандарт этого языка определен международным консорциумом W3. Компилятор переводит формулы Expression Language в запросы на «тройках», которые уже однозначно понятны системе. Чтобы облегчить работу компилятора, рекомендуется сразу писать формулы на «тройках».</p>
<p><strong>Хранение данных</strong> в Comindware Business Application Platform основано на <strong>графовой базе данных, использующей модель RDF</strong>. Основная идея графовой модели заключается в том, что любой объект имеет свойства, а эти свойства содержат значения. Сущность описывается с помощью простых выражений, называемых свойствами и их значениями, в виде <strong>триплета</strong>.
*   Триплет состоит из трех связанных сущностей: <strong>«Субъект – предикат - объект»</strong>.
*   Его можно соотнести с простым предложением: <strong>Подлежащее – Сказуемое – Дополнение</strong>. Например, утверждение «Книга написана Пушкиным» представляется как: <strong>субъект – Книга, предикат – написана, объект – Пушкин</strong>.
*   В графе субъект и объект представлены как <strong>узлы</strong>, а предикат – как <strong>соединительная линия со стрелкой от субъекта к объекту</strong>.
*   В платформе это выглядит как: <strong>запись в ШЗ (субъект), ее атрибут (предикат) и данные (объект – значение атрибута)</strong>.
*   <strong>Пример хранения данных в триплетах</strong>: <code>id 8037 - Название - “Война и мир”</code>. Вся метаинформация (описание шаблонов записи, форм, объектов, типов) и атрибуты окружения (текущий пользователь, время, контекст) также хранятся в таком виде, обеспечивая единообразие и простоту доступа к данным.</p>
<p><strong>Явные преимущества</strong> такого хранения данных включают:
1.  <strong>Простота понимания модели данных</strong>: Быстрое освоение создания шаблонов записи и связей между ними даже неподготовленным пользователем.
2.  <strong>Мгновенное добавление новых шаблонов и атрибутов</strong>: Они сразу становятся доступными для работы.
3.  <strong>Неограниченная широта и глубина связей</strong>: Отсутствие ограничений на количество атрибутов и связей между сущностями.
4.  <strong>Простота и неограниченность навигации по связям</strong>: Переход из одного справочника в другой через ссылочное поле выполняется в одну строку.</p>
<h3 id="цели-использования-языка-n3">Цели использования языка N3</h3>
<p>Язык N3 используется для:
*   <strong>Продвинутого использования платформы</strong>.
*   <strong>Доступа ко всем созданным и системным атрибутам платформы</strong>, включая те, которые не видны в интерфейсе.
*   <strong>Большого количества функций для работы с данными</strong>, таких как расширенные математические функции, работа со списками, приведение к одному типу данных, расчеты времени и многое другое.</p>
<h3 id="навыки-которые-будут-освоены">Навыки, которые будут освоены</h3>
<p>В рамках курса пользователи научатся следующему:
*   <strong>Урок 1</strong>: Понимание <strong>триплетов</strong>, входных и выходных параметров <strong>Item</strong> и <strong>Value</strong>, синтаксиса языка N3 и использования <strong>переменных</strong>.
*   <strong>Урок 2</strong>: Работа с <strong>библиотеками пространств имен</strong>, <strong>присвоение значений переменным</strong>, применение <strong>системных атрибутов</strong>, использование <strong>built-in предикатов</strong> и <strong>конструкции <code>from</code></strong>.
*   <strong>Урок 3</strong>: Знакомство с работой <strong>итератора</strong>, а также с функциями <strong>Assert</strong>, <strong>if</strong>, <strong>or</strong> и <strong>контейнерами</strong>.</p>
<h3 id="результаты-обучения">Результаты обучения</h3>
<p>После прохождения курса пользователи смогут:
*   <strong>Урок 1</strong>: Разобраться с <strong>телом запроса</strong>, <strong>основными правилами синтаксиса</strong>, понять <strong>структуру триплетов</strong> и освоить <strong>входные и выходные параметры запроса (Item и Value)</strong>.
*   <strong>Урок 2</strong>: Применять <strong>разные типы присвоения значений в переменные</strong>, использовать <strong>системные атрибуты</strong> в запросах и выполнять вычисления с помощью <strong>built-in предикатов</strong>.
*   <strong>Урок 3</strong>: Разобраться в работе <strong>итератора</strong>, применять <strong>логические условия для фильтров</strong> и <strong>объединять результаты запросов в одну переменную</strong>. Эти функции являются наиболее часто используемыми в запросах.</p>
<h3 id="краткое-изложение-уроков">Краткое изложение уроков</h3>
<h4 id="урок-1-триплет-параметры-item-и-value-синтаксис-переменные">Урок 1: Триплет, параметры Item и Value, синтаксис, переменные.</h4>
<ul>
<li><strong>Триплеты</strong> формируют <strong>само тело запроса</strong> и состоят из понятий <strong>субъект, предикат, объект</strong>. Они позволяют получать требуемые данные из графа.</li>
<li><strong>Основные правила синтаксиса RDF N3</strong>:<ul>
<li><strong>Каждый триплет начинается с новой строки</strong>.</li>
<li><strong>Объявление переменных</strong> осуществляется с помощью <strong>вопросительного знака (?)</strong>.</li>
<li><strong>Всё тело запроса заключается в фигурные скобки ({})</strong>.</li>
<li><strong>В конце каждого триплета ставится точка (.)</strong>.</li>
<li><strong>Интерпретатор регистрозависим</strong>.</li>
</ul>
</li>
<li><strong>Переменная</strong> определяется как <strong>«именованное хранилище» для данных</strong>. Имена переменных задаются пользователем и должны отражать суть хранимых данных. В триплетах, любой объект после символа <code>?</code> является переменной.</li>
<li><strong>Входные и выходные параметры Item и Value</strong> являются зарезервированными переменными особого типа.<ul>
<li><strong>Item</strong>: <strong>Входной параметр запроса</strong>. Данные, поступающие на вход, зависят от контекста выполнения выражения. Например, при написании выражения в атрибуте, в Item будет содержаться ID текущей записи.</li>
<li><strong>Value</strong>: <strong>Выходной параметр</strong>. В него помещаются данные, которые необходимо отобразить на выходе. Тип данных, помещенный в Value, должен <strong>согласовываться с типом атрибута</strong>.</li>
</ul>
</li>
<li><strong>Присвоение переменных</strong>: Интерпретатор понимает, какая сущность из триплета неизвестна, и присваивает в нее недостающее значение. Существует <strong>три основных варианта присвоения значений</strong>:<ol class="colored_numbers_list">
<li><strong>Известны субъект и предикат</strong>: Искомое значение – это <strong>объект</strong> (наиболее частый случай).</li>
<li><strong>Известны объект и предикат</strong>: Находится <strong>субъект</strong> (обратное присвоение).</li>
<li><strong>ExactMatch (Точное совпадение)</strong>: Известны все три части, происходит проверка на полное совпадение для получения уточненного значения субъекта.</li>
</ol>
</li>
</ul>
<h4 id="урок-2-библиотеки-пространств-имен-присвоение-переменных-применение-системных-атрибутов-built-in-предикаты-конструкция-from">Урок 2: Библиотеки пространств имен, присвоение переменных, применение системных атрибутов, built-in предикаты, конструкция from.</h4>
<ul>
<li><strong>Библиотеки пространств имен</strong> (@prefix object — <a class="mkdocs_imported_link" href="http://comindware.com/ontology/object#">http://comindware.com/ontology/object#</a>) – это <strong>подключаемые модули (области), содержащие знания об объектах, функциях и правилах</strong>. Они предоставляют доступ к системным и прикладным атрибутам, а также к различным функциям для работы с датами, списками, числами и т.д..</li>
<li><strong>Стандарт RDF</strong> определяет хранение данных в виде <strong>URI (Uniform Resource Identifier)</strong>, которые являются последовательностью символов, идентифицирующих ресурс. Использование библиотек позволяет сокращать длинные URI предикатов, используя переменные.</li>
<li>Функция <strong><code>object:findProperty</code></strong> доступна через библиотеку <code>object</code> и позволяет <strong>получать URI атрибутов, записывать их в переменные и использовать в запросе</strong>. Эта функция подходит для определения <strong>прикладных атрибутов</strong> (созданных вручную), тогда как системные атрибуты находятся в других библиотеках.</li>
<li><strong>Важное правило работы интерпретатора</strong>: Если результат триплета <code>false</code> (например, не найден предикат или совпадение значения объекта), то <strong>интерпретатор останавливается и не продолжает выполнение запроса</strong>.</li>
<li><strong>Системные атрибуты</strong>: Помимо прикладных атрибутов, созданных вручную, у каждого объекта в платформе (процессы, шаблоны записи, группы) есть <strong>системные атрибуты</strong>, которые не всегда видны в интерфейсе, но существуют и автоматически заполняются системой.</li>
<li><strong>Built-In предикаты</strong>: Это <strong>сложные предикаты, содержащие функции для работы со строками, датами и т.д.</strong>, в отличие от обычных предикатов, описывающих свойства сущностей. Пример - <code>cmwmath:sum</code> для математических функций.</li>
<li><strong>Конструкция <code>from {}</code></strong>: Используется для <strong>преобразования типов данных на входе функций</strong>. Например, для математической функции суммирования требуется тип данных "list". Если переменная содержит URI значений, <code>from {}</code> позволяет преобразовать их в нужный тип. Синтаксис: <code>from {триплеты} select ?переменная -&gt; ?лист.</code>.</li>
</ul>
<h4 id="урок-3-итератор-assert-if-or-контейнеры">Урок 3: Итератор, Assert, if, or, контейнеры.</h4>
<ul>
<li><strong>Итератор</strong> – это <strong>перечислитель, поддерживающий простой перебор по группе ссылок</strong>, таких как коллекции или ссылки со множественными значениями. Итератор <strong>случайным образом берет первый объект из коллекции</strong> и проверяет его на выполнение условий по всем нижестоящим триплетам. Если условие не выполняется (результат триплета <code>false</code>), запись отбрасывается, и итератор переходит к следующей записи. Итератор работает всегда и стремится проверить все уникальные значения.</li>
<li><strong>Конструкция <code>once {}</code></strong>: Используется, когда точно известно, что <strong>итератор должен пройти по телу запроса только один раз</strong> (нет ссылок со множественным значением или коллекций). Обертывание триплетов в <code>once {}</code> <strong>ускоряет запрос</strong>.</li>
<li><strong>Логическое И (AND)</strong>: В N3 <strong>по умолчанию используется конъюнкция между строками триплетов</strong>. Если одно из условий <code>false</code>, весь запрос завершается.</li>
<li><strong>Проверка на пустоту</strong>: Выполняется синтаксисом <code>not {?субъект ?предикат ?.}</code>, где точка вместо объекта означает наличие данных. Добавление <code>not</code> проверяет пустоту.</li>
<li><strong>Логическое ИЛИ (OR)</strong>: Для объединения условий с помощью <code>ИЛИ</code> используется синтаксис <code>or {триплеты} or{триплеты}.</code>. Может быть несколько <code>or</code>-условий, в конце каждого перечисления <code>or</code> должна стоять точка.</li>
<li><strong>Условный оператор IF</strong>: Позволяет проверить условие и выполнить действие в зависимости от результата. Синтаксис: <code>if {условие} then {выполняется, если условие - true} else {выполняется, если условие - false}</code>. Если <code>else</code> не указан и <code>if</code> не сработал, результат всей ветки будет <code>false</code> (информация не из источника).</li>
<li><strong>Функция <code>assert:union true</code></strong>: Используется, когда <strong>необходимо объединить несколько результатов выполнения запроса в одну переменную</strong>. Синтаксис: <code>({триплет} {триплет}) assert:union true.</code>.</li>
</ul>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>