<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4876" kb-tags="" kb-title="Получение входящей эл. почты в процессе">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<p><strong>Comindware Platform</strong> может как отправлять, так и принимать входящие электронные письма. Например, если вы хотите принимать запросы, заявки, или какую-либо другую информацию, то:</p>
<p><strong>1.</strong> Создайте новое подключение с эл. почтой, с которой будут приниматься эл. письма.</p>
<p><strong>2.</strong> Создайте новый путь «<em>Входящие сообщения</em>» в разделе «<strong><em>Пути передачи данных</em></strong>».</p>
<ul>
<li>В зависимости от требуемого сценария использования выберите вариант назначения эл. письма: «<strong><em>Новый экземпляр процесса</em></strong>» или «<strong><em>Существующий экземпляр процесса</em></strong>».</li>
</ul>
<p>Например, при использовании выбранного эл. адреса только для приема запросов можно указать «<strong><em>Новый экземпляр процесса</em></strong>». Если предполагается прием и разбор ответов на отправленные эл. письма с дальнейшей отправкой в ожидающий процесс, то нужно указать «<strong><em>Существующий экземпляр процесса</em></strong>».</p>
<ul>
<li>Также важно корректно выбрать процесс, который будет запускаться при обработке одного эл. письма.</li>
</ul>
<p>Например, при использовании выбранного эл. адреса только для приема запросов можно указать конкретный бизнес-процесс обработки запроса. Если на выбранный эл. адрес отправляются запросы различного типа или ответы на отправленные письма, то необходимо создать технический процесс приема всех запросов.</p>
<figure class="screenshot_with_caption">
<p><img alt="Пример технического процесса по обработке входящих писем" src="https://kb.comindware.ru/assets/incomingmail1.png"/><figcaption class="caption">Пример технического процесса по обработке входящих писем</figcaption></p>
</figure>
<p><strong>3.</strong>В путях передачи данных настройте атрибуты сообщения, с помощью которых можно настроить соответствие атрибутов системы и атрибутов эл.письма.</p>
<figure class="screenshot_with_caption">
<p><img alt="Настройка соответствия атрибутов" src="https://kb.comindware.ru/assets/incomingmail2.png"/><figcaption class="caption">Настройка соответствия атрибутов</figcaption></p>
</figure>
<p>Взаимодействие через эл. письма имеет ограничения по количеству и формату передаваемых данных — перечень стандартных атрибутов эл. письма:</p>
<ul>
<li>Адрес отправителя;</li>
<li>Имя отправителя;</li>
<li>Адрес получателя;</li>
<li>Имя получателя;</li>
<li>Тема;</li>
<li>Сообщение;</li>
<li>Адрес для отправки копии;</li>
<li>Имя для отправки копии;</li>
<li>Адрес для отправки скрытой копии;</li>
<li>Имя для отправки скрытой копии;</li>
<li>Прикрепленные файлы.</li>
</ul>
<p><strong>4.</strong> В дополнительных свойствах начального события-получения сообщения выберите созданный путь передачи данных.</p>
<figure class="screenshot_with_caption">
<p><img alt="Настройка начального события-получения сообщения" src="https://kb.comindware.ru/assets/incomingmail3.png"/><figcaption class="caption">Настройка начального события-получения сообщения</figcaption></p>
</figure>
<p>Во вкладке «<strong><em>Шаблон сообщения</em></strong>» также укажите атрибуты вашего шаблона записи для передачи данных из шаблона сообщения выбранного пути передачи данных.</p>
<figure class="screenshot_with_caption">
<p><img alt="Настройка передачи данных из полученного сообщения" src="https://kb.comindware.ru/assets/incomingmail4.png"/><figcaption class="caption">Настройка передачи данных из полученного сообщения</figcaption></p>
</figure>
<p><strong>5.</strong> В зависимости от сценария использования в настройке процесса возможно потребуется разбор темы или тела письма для определения типа запроса или варианта новый/существующий запрос. В данном случае рекомендуем воспользоваться примерами реализации на языке Comindware Expression Language (примеры парсинга атрибутов: <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4983">Парсинг Email до знака @</a>).</p>
<p>При настройке подключения для получения эл.почты, имейте в виду, что каждое непрочитанное письмо в данной эл. почте будет обработано и помечено как прочитанное.</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>