<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4915" kb-tags="" kb-title="Шевроны. Визуализация этапов процесса. Пример настройки">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_introduction">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#definitions">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_task">
<span class="md-ellipsis">
      Прикладная задача
    </span>
</a>
<nav aria-label="Прикладная задача" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_logic">
<span class="md-ellipsis">
      Логика работы приложения
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_initial_data">
<span class="md-ellipsis">
      Исходные данные
    </span>
</a>
<nav aria-label="Исходные данные" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_stages_reference">
<span class="md-ellipsis">
      Справочник этапов
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_stages_template">
<span class="md-ellipsis">
      Шаблон записи «Этапы»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_copy_process">
<span class="md-ellipsis">
      Шаблон процесса «Копирование этапов из справочника»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_stores_template">
<span class="md-ellipsis">
      Шаблон записи «Магазины»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_store_opening_process">
<span class="md-ellipsis">
      Шаблон процесса «Открытие магазина»
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_process_setup">
<span class="md-ellipsis">
      Настройка шаблона процесса «Открытие магазина»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_chevrons_setup">
<span class="md-ellipsis">
      Настройка шевронов на форме «Прогресс открытия магазина»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#example_chevron_stage_render_verification">
<span class="md-ellipsis">
      Проверка работы приложения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="example_chevron_stage_render_introduction">Введение</h2>
<p>В <strong>Comindware Platform</strong> можно настроить визуальное отображение этапов процесса с помощью шевронов.</p>
<p>В этой статье представлен пример настройки приложения для отображения прогресса открытия магазина в виде цветных шевронов пройденных этапов.</p>
<div class="notice notice-success">
<h2 class="admonition-title" id="definitions">Определения</h2>
<ul>
<li><strong>Шевроны</strong> — это представление атрибута типа «<strong>Запись</strong>», хранящего несколько значений, в виде последовательности цветных плашек с заголовками записей связанного шаблона.</li>
<li>Каждый шеврон содержит заголовок связанной с ним записи в виде гиперссылки на запись.</li>
<li>Конечный пользователь может нажимать шевроны для просмотра связанных с ними записей во всплывающем окне.</li>
<li>Цвет шеврона можно задать двумя способами:<ul>
<li>с помощью системного атрибута «<strong>Цвет</strong>» связанной записи;</li>
<li>с помощью <strong>правил окраски</strong> шевронов.</li>
</ul>
</li>
<li>Подробные сведения о настройке шевронов см. в параграфе <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4785">Динамические элементы формы. Настройка шевронов</a>»</em>.</li>
</ul>
</div>
<figure class="screenshot_with_caption">
<p><img alt="Пример отображения шевронов" src="https://kb.comindware.ru/assets/img_6606b8aa257d2.png"/><figcaption class="caption">Пример отображения шевронов</figcaption></p>
</figure>
<h2 id="example_chevron_stage_render_task">Прикладная задача</h2>
<p>Имеется процесс открытия магазина, состоящий из семи этапов.</p>
<p>Требуется настроить на форме магазина отображение прогресса пройденных этапов открытия в виде цветных шевронов.</p>
<p>Цвет шевронов должен зависеть от статуса прохождения этапа:</p>
<ul>
<li>этап пройден с задержкой — красный;</li>
<li>этап пройден вовремя — зелёный;</li>
<li>этап начат — оранжевый;</li>
<li>этап не начат — серый.</li>
</ul>
<h3 id="example_chevron_stage_render_logic">Логика работы приложения</h3>
<ul>
<li>Для реализации прикладной задачи мы создадим следующие сущности (см. «<a class="mkdocs_imported_link" href="#example_chevron_stage_render_initial_data">Исходные данные</a>»):<ul>
<li>шаблон записи <em>«Магазины»</em>, в котором будут храниться сведения о магазинах;</li>
<li>справочник этапов открытия магазинов — шаблон записи, который будет хранить записи с названиями и номерами этапов;</li>
<li>шаблон записи <em>«Этапы»</em>, в котором будут храниться данные о прогрессе открытия каждого магазина:<ul>
<li>при запуске процесса <em>«Открытие магазина»_магазина стандартный набор этапов открытия магазина заполняется автоматически с помощью процесса </em>«Копирование этапов из справочника»_;</li>
<li>этапы открытия конкретного магазина можно переименовать, добавить или удалить.</li>
</ul>
</li>
<li>шаблон процесса <em>«Копирование этапов из справочника»</em>, который будет создавать запись в шаблоне <em>«Этапы»</em> и копировать в неё название и номер этапа из справочника этапов;</li>
<li>шаблон процесса <em>«Открытие магазина»</em>, который будет вызывать процесс <em>«Копирование этапов из справочника»</em> для каждого этапа из справочника, чтобы скопировать названия и номера этапов в список этапов открытия конкретного магазина_._ Кроме того, в каждый этап открытия магазина процесс поместит ссылку на соответствующий этап в справочнике.</li>
</ul>
</li>
<li>На форме <em>«Прогресс открытия магазина»</em> в шаблоне <em>«Магазины»</em> мы разместим шевроны, связанные с шаблоном записи <em>«Этапы»</em>.</li>
<li>Пользователь может указать прогресс выполнения каждого этапа с помощью формы <em>«Прогресс открытия магазина»</em>.</li>
<li>Шевроны на форме <em>«Прогресс открытия магазина»</em> будут окрашиваться в соответствии с прогрессом выполнения соответствующих этапов.</li>
</ul>
<h2 id="example_chevron_stage_render_initial_data">Исходные данные</h2>
<p>Создайте приложение <em>«Управление магазинами»</em> и настройте перечисленные ниже шаблоны.</p>
<h3 id="example_chevron_stage_render_stages_reference">Справочник этапов</h3>
<ol class="colored_numbers_list">
<li>Создайте <strong>шаблон записи</strong> <em>«Справочник этапов»</em> с <strong>системным именем</strong> <code>Справочникэтапов</code>.</li>
<li>
<p>Создайте следующие атрибуты в этом шаблоне:</p>
<table style="width: 100%;">
<thead>
<tr>
<th>Название атрибута</th>
<th>Свойства</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Название этапа</em></td>
<td><strong>Тип данных: текст</strong><br/><strong>Формат отображения:</strong> <strong>обычный текст</strong><br/><strong>Использовать как заголовок записей:</strong> флажок установлен</td>
</tr>
<tr>
<td><em>Номер этапа</em></td>
<td><strong>Тип данных: число</strong><br/><strong>Количество знаков после запятой: 0</strong></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>В шаблоне создайте записи со следующими данными:</p>
<table style="width: 100%;">
<thead>
<tr>
<th>Название этапа</th>
<th>Номер этапа</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Оценка</em></td>
<td><em>1</em></td>
</tr>
<tr>
<td><em>ИК 1</em></td>
<td><em>2</em></td>
</tr>
<tr>
<td><em>ИК 2</em></td>
<td><em>3</em></td>
</tr>
<tr>
<td><em>Договор</em></td>
<td><em>4</em></td>
</tr>
<tr>
<td><em>УФРС</em></td>
<td><em>5</em></td>
</tr>
<tr>
<td><em>Предв. подготов. к откр.</em></td>
<td><em>6</em></td>
</tr>
<tr>
<td><em>АПП</em></td>
<td><em>7</em></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="example_chevron_stage_render_stages_template">Шаблон записи «Этапы»</h3>
<p>В этом вспомогательном шаблоне будут хранится скопированные из <a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_reference"><em>Справочника этапов</em></a> данные об этапах для каждой записи в шаблоне <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stores_template">Магазины</a>»</em>.</p>
<ol class="colored_numbers_list">
<li>Создайте <strong>шаблон записи</strong> <em>«Этапы»</em>.</li>
<li>
<p>Создайте в шаблоне _«Этапы»_следующие атрибуты:</p>
<table style="width: 100%;">
<thead>
<tr>
<th>Название атрибута</th>
<th>Свойства</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Название этапа</em></td>
<td><strong>Тип данных: текст</strong><br/><strong>Формат отображения: обычный текст</strong><br/><strong>Использовать как заголовок записей:</strong> флажок установлен</td>
</tr>
<tr>
<td><em>Номер этапа</em></td>
<td><strong>Тип данных: число</strong><br/><strong>Количество знаков после запятой: 0</strong></td>
</tr>
<tr>
<td><em>Этап начат</em></td>
<td><strong>Тип данных: логический</strong><br/><strong>Системное имя:</strong> <code>Этапначат</code></td>
</tr>
<tr>
<td><em>Этап пройден</em></td>
<td><strong>Тип данных: логический</strong><br/><strong>Системное имя:</strong> <code>Этаппройден</code></td>
</tr>
<tr>
<td><em>Этап пройден вовремя</em></td>
<td><strong>Тип данных: логический</strong><br/><strong>Системное имя:</strong> <code>Этаппройденвовремя</code></td>
</tr>
<tr>
<td><em>Этап из справочника</em></td>
<td><strong>Тип данных: запись</strong><br/><strong>Формат отображения:</strong> <strong>гиперссылка</strong><br/><strong>Связанный шаблон:</strong><em>Справочник этапов</em><br/><strong>Хранить несколько значений:</strong> флажок снят<br/><strong>Взаимная связь с атрибутом:</strong> <strong>не используется</strong></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="example_chevron_stage_render_copy_process">Шаблон процесса «Копирование этапов из справочника»</h3>
<p>Этот вспомогательный шаблон будет служить для передачи данных из шаблона <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_template">Этапы</a>»</em> в процесс <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_store_opening_process">Открытие магазина</a>».</em></p>
<ol class="colored_numbers_list">
<li>
<p>Создайте <strong>шаблон процесса</strong> со следующими свойствами:</p>
<ul>
<li><strong>Название:</strong> <em>Копирование этапов из справочника</em></li>
<li><strong>Связь с шаблоном записи</strong>: <strong>с имеющимся</strong></li>
<li><strong>Связанный шаблон:</strong> <em>Этапы</em></li>
</ul>
</li>
<li>
<p>Откройте вкладку «<strong>Диаграмма</strong>»</p>
</li>
<li>Постройте простой процесс, состоящий из двух элементов: <strong>начального события</strong> и <strong>конечного события</strong>.</li>
<li>
<p>В меню элемента начального события выберите пункт «<strong>Сценарий на выходе</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Создание сценария на выходе из начального события процесса «Копирование этапов из справочника»" src="https://kb.comindware.ru/assets/img_65f469f19c250.png"/><figcaption class="caption">Создание сценария на выходе из начального события процесса «Копирование этапов из справочника»</figcaption></figure></p>
</li>
<li>
<p>Отобразится конструктор сценария.</p>
</li>
<li>Внутри действия «<strong>Сменить контекст</strong>» добавьте действие «<strong>Изменить значения атрибутов</strong>». См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2153">Сценарии. Создание вложенных действий</a>».</em></li>
<li>
<p>В  свойствах действия «<strong>Изменить значения атрибутов</strong>» настройте таблицу изменения значений атрибутов следующим образом:</p>
<table style="width: 100%;">
<thead>
<tr>
<th>Атрибут</th>
<th>Операция со значениями</th>
<th>Значение</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Название этапа</em></td>
<td><strong>Заменить</strong></td>
<td><em>Этапы → Название этапа</em></td>
</tr>
<tr>
<td><em>Номер этапа</em></td>
<td><strong>Заменить</strong></td>
<td><em>Этапы → Номер этапа</em></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Должен получиться сценарий, показанный на следующей иллюстрации:</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Сценарий для изменения значений атрибутов на выходе из начального события процесса «Копирование этапов из справочника»" src="https://kb.comindware.ru/assets/img_65f46a2d2135e.png"/><figcaption class="caption">Сценарий для изменения значений атрибутов на выходе из начального события процесса «Копирование этапов из справочника»</figcaption></figure></p>
</li>
<li>
<p>Чтобы вернуться из конструктора сценария к конструктору диаграммы процесса, нажмите кнопку «<strong>Назад</strong>» в браузере.</p>
</li>
<li>Проверьте и опубликуйте диаграмму процесса <em>«Копирование этапов из справочника».</em></li>
</ol>
<h3 id="example_chevron_stage_render_stores_template">Шаблон записи «Магазины»</h3>
<ol class="colored_numbers_list">
<li>Создайте <strong>шаблон записи</strong> <em>«Магазины»</em>.</li>
<li>
<p>Создайте в шаблоне <em>«Магазины»</em> следующие атрибуты:</p>
<table style="width: 100%;">
<thead>
<tr>
<th>Название атрибута</th>
<th>Свойства</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Название магазина</em></td>
<td><strong>Тип данных: текст</strong><br/><strong>Формат отображения:</strong> <strong>обычный текст</strong></td>
</tr>
<tr>
<td><strong>Этапы открытия магазина</strong></td>
<td><strong>Тип данных: запись</strong><br/><strong>Формат отображения:</strong> <strong>гиперссылка</strong><br/><strong>Связанный шаблон:</strong><em>Этапы</em><br/><strong>Хранить несколько значений:</strong> флажок установлен<br/><strong>Взаимная связь с атрибутом:</strong> <strong>с новым</strong><br/><strong>Свойства нового атрибута:</strong><br/>- <strong>Название</strong>: <em>Магазин</em><br/>- <strong>Хранить несколько значений</strong>: флажок снят</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="example_chevron_stage_render_store_opening_process">Шаблон процесса «Открытие магазина»</h3>
<ol class="colored_numbers_list">
<li>
<p>Создайте <strong>шаблон процесса</strong> со следующими свойствами:</p>
<ul>
<li><strong>Название:</strong> <em>Открытие магазина</em></li>
<li><strong>Связь с шаблоном записи: Связать с существующим</strong></li>
<li><strong>Связанный шаблон:</strong> <em>Магазины</em></li>
</ul>
</li>
</ol>
<h2 id="example_chevron_stage_render_process_setup">Настройка шаблона процесса «Открытие магазина»</h2>
<p>Мы настроили заполнение данных по этапам, и теперь необходимо настроить вызов нашего процесса копирования</p>
<ol class="colored_numbers_list">
<li>Откройте шаблон процесса <em>«Открытие магазина</em>».</li>
<li>Откройте вкладку «<strong>Диаграмма</strong>».</li>
<li>Перетащите на диаграмму элемент «<strong>Вызов процесса</strong>» (рекомендуется сразу после начального события).</li>
<li>В меню элемента выберите пункт «<strong>Свойства</strong>» <i class="fa-light fa-gear">&zwnj;<!--icon--></i>.</li>
<li>Отобразится окно «<strong>Свойства вызова процесса</strong>»</li>
<li>
<p>На вкладке «<strong>Основные</strong>» настройте параметры следующим образом:</p>
<ul>
<li><strong>Экспертные настройки:</strong> установите флажок</li>
<li><strong>Шаблон для выборки объектов:</strong> <em>Справочник этапов</em></li>
<li><strong>Выражение для выборки объектов:</strong> <code>from a in db-&gt;Справочникэтапов select a-&gt;id</code> (выражение вернёт <strong>ID</strong> записей в <a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_reference">справочнике этапов</a>, по количеству которых будет запущен подпроцесс)</li>
<li><strong>Режим выполнения</strong>: <strong>параллельный</strong></li>
<li><strong>Связь шаблона записи с процессом:</strong> <strong>через атрибут</strong></li>
<li><strong>Шаблон процесса:</strong> <em>Копирование этапов из справочника</em></li>
<li><strong>Записи, связанные с процессом: создавать новые</strong></li>
<li><strong>Атрибут связи:</strong> <em>Этапы открытия магазина → Этап из справочника</em> (в этот атрибут будет записываться <strong>ID</strong> <a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_reference">этапа из справочника</a>, возвращённый <strong>выражением для выборки объектов</strong>, для каждой созданной записи в шаблоне <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_template">Этапы</a>»)</em>.</li>
</ul>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка вызова процесса «Копирование этапов из справочника»" src="https://kb.comindware.ru/assets/img_660a6ed14aa42.png"/><figcaption class="caption">Настройка вызова процесса «Копирование этапов из справочника»</figcaption></figure></p>
</li>
<li>
<p>Выберите вкладку «<strong>Данные на входе</strong>».</p>
</li>
<li>
<p>Нажмите на кнопку «<strong>Добавить</strong>» и настройте сопоставление атрибутов подпроцесса и текущего процесса:</p>
<ul>
<li><strong>Атрибут шаблона записи подпроцесса:</strong> <em>Магазин</em></li>
<li><strong>Значение:</strong> <em>ID</em></li>
</ul>
<p>В результате каждая запись, созданная процессом <em>«Копирование этапов из справочника»</em> будет связана с записью в шаблоне <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stores_template">Магазин</a>»</em>, и благодаря взаимной связи в атрибуте <em>«Этапы открытия магазина»</em>   будет записан набор идентификаторов записей из шаблона «<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_template"><em>Этапы</em></a>».</p>
</li>
<li>
<p>Сохраните свойства элемента «<strong>Вызов процесса</strong>».</p>
</li>
<li>Проверьте и опубликуйте диаграмму процесса.</li>
</ol>
<h2 id="example_chevron_stage_render_chevrons_setup">Настройка шевронов на форме «Прогресс открытия магазина»</h2>
<ol class="colored_numbers_list">
<li>Откройте шаблон <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stores_template">Магазины</a>»</em>.</li>
<li>Выберите вкладку «<strong>Формы</strong>».</li>
<li>Откройте основную форму шаблона.</li>
<li>Присвойте области на форме название <em>«Прогресс открытия магазина».</em></li>
<li>Перетащите атрибут «<em>Этапы открытия магазина</em>» в область <em>«Прогресс открытия магазина».</em></li>
<li>На панели «<strong>Свойства поля</strong>» выберите <strong>представление</strong> «<strong>Шевроны</strong>».</li>
<li>
<p>Настройте свойства шевронов:</p>
<ul>
<li><strong>Упорядочивание:</strong> <em>Номер этапа</em></li>
<li><strong>Правила окраски записей:</strong> нажимайте <strong>«Создать»</strong>  и настройте следующие правила:</li>
</ul>
<table style="width: 100%;">
<thead>
<tr>
<th>Цвет</th>
<th>Условие: формула</th>
</tr>
</thead>
<tbody>
<tr>
<td><span style="background-color: #31ff00; color: #000000;">Зелёный #31ff00</span></td>
<td><code>AND($Этапначат, $Этаппройденвовремя)</code></td>
</tr>
<tr>
<td><span style="background-color: #ff0000; color: #ffffff;">Красный #ff0000</span></td>
<td><code>NOT($Этаппройденвовремя)</code></td>
</tr>
<tr>
<td><span style="background-color: #c0c0c0; color: #000000;">Серый #c0c0c0</span></td>
<td><code>NOT($Этапначат)AND($Этапначат, $Этаппройденвовремя)</code></td>
</tr>
<tr>
<td><span style="background-color: #ff9800; color: #ffffff;">Оранжевый #ff9800</span></td>
<td><code>AND($Этапначат, NOT($Этаппройден))</code></td>
</tr>
</tbody>
</table>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<ul>
<li>Если для одной записи одновременно сработают несколько правил, возвращающих разные цвета, то шеврон будет окрашен в цвет, заданный последним сработавшим правилом.</li>
<li>Правил окраски шевронов может быть неограниченное количество, но для оптимальной работы платформы рекомендуется задавать не более 8 условий.</li>
<li>
<p>Следует помнить, что условие окрашивания шеврона вычисляется в контексте шаблона, связанного с текущим шаблоном посредством с атрибута типа «<strong>Запись</strong>». Поэтому обратиться к атрибутам текущего шаблона, на форме которого размещены шевроны, можно только посредством обратной ссылки. Например, к атрибуту <em>«Название магазина»</em> можно обратиться посредством атрибута <em>«Магазин»</em> из шаблона <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_template">Этапы</a>»:</em></p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">Magazin</span><span class="o">-&gt;</span><span class="n">Nazvaniemagazina</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
</li>
<li>
<p>Снова перетащите атрибут «<em>Этапы открытия магазина</em>» в область <em>«Прогресс открытия магазина».</em></p>
</li>
<li>На панели «<strong>Свойства поля</strong>» выберите <strong>представление</strong> «<strong>Таблица</strong>».</li>
<li>В поле «<strong>Сортировка</strong>» на панели «<strong>Свойства таблицы</strong>» выберите атрибут <em>«Номер этапа»</em>.</li>
<li>
<p>Вынесите в таблицу «<em>Этапы открытия магазина</em>» следующие атрибуты шаблона  <em>«<a class="mkdocs_imported_link" href="#example_chevron_stage_render_stages_template">Этапы</a>»</em>  в качестве столбцов:</p>
<ul>
<li><em>Магазин</em></li>
<li><em>Номер этапа</em></li>
<li><em>Название этапа</em></li>
<li><em>Этап начат</em></li>
<li><em>Этап пройден</em></li>
<li><em>Этап вовремя</em></li>
</ul>
</li>
<li>
<p>Сохраните форму.</p>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настроенная форма «Прогресс открытия магазина»" src="https://kb.comindware.ru/assets/img_6606b0a3e5043.png"/><figcaption class="caption">Настроенная форма «Прогресс открытия магазина»</figcaption></p>
</figure>
<h2 id="example_chevron_stage_render_verification">Проверка работы приложения</h2>
<ol class="colored_numbers_list">
<li>Откройте шаблон процесса <em>«Открытие магазина»</em>.</li>
<li>Нажмите кнопку «<strong>Перейти к экземплярам</strong>».</li>
<li>Отобразится таблица «<strong>Все записи</strong>» со списком экземпляров процесса.</li>
<li>Создайте новый экземпляр процесса.</li>
<li>Подождите некоторое время, чтобы процесс выполнился.</li>
<li>Обновите список экземпляров, нажав кнопку «<strong>Обновить список</strong>» <em>‌</em>.</li>
<li>Статус процесса должен смениться на «<strong>Завершен</strong>».</li>
<li>Из списка экземпляров процесса перейдите к связанной записи шаблона <em>«Магазины»</em> по ссылке в столбце «<strong>Запись</strong>».</li>
<li>Отобразится настроенная форма <em>«Прогресс открытия магазина»</em>.</li>
<li>Расставьте флажки в таблице «Этапы <em>открытия магазина»</em>.</li>
<li>
<p>Цвета шевронов должны меняться в зависимости от состояния флажков <em>«Этап начат», «Этап пройден», «Этап пройден вовремя»:</em></p>
<ul>
<li>серый цвет — установлен флажок <em>«Этап начат»;</em></li>
<li>зелёный цвет — установлены все три флажка;</li>
<li>красный цвет — установлены флажки <em>«Этап начат»</em> и <em>«Этап пройден».</em></li>
</ul>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Проверка отображения шевронов на форме" src="https://kb.comindware.ru/assets/img_6606b888ea7b7.png"/><figcaption class="caption">Проверка отображения шевронов на форме</figcaption></p>
</figure>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4785">Динамические элементы формы. Настройка шевронов</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4890">Шевроны. Правила окрашивания. Пример настройки</a></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>