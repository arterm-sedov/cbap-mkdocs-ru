<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="5117" kb-tags="BPMS,BPMN,HR-процессы,автоматизация,бизнес-аналитика,бизнес-процессы,внедрение BPMN,для бизнес-аналитиков,low-code,лоукод,обучение,ознакомительный курс,основы BPMS,платформа,практика,старт для аналитика,управление процессами,уроки,цифровизация,кандидаты,автоматизация,атрибуты,вакансии,вычисления,вычисляемый атрибут,выражения,форма,формулы,редактор выражений,реестр данных,сценарии,таблица,условия,проверки,язык формул" kb-title="Урок 5. Автоматизация: сценарии, вычисления, условия и проверки">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_intro">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_taxonomy">
<span class="md-ellipsis">
      Темы, навыки и задания урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_definitions">
<span class="md-ellipsis">
      Определения
    </span>
</a>
<nav aria-label="Определения" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_task_form">
<span class="md-ellipsis">
      Доработка формы задачи «Зафиксировать результаты тестирования»
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_interview_form">
<span class="md-ellipsis">
      Доработка формы задачи «Провести собеседование»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_security_check">
<span class="md-ellipsis">
      Доработка формы задачи «Провести проверку кандидата»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_diagram_scenarios">
<span class="md-ellipsis">
      Настройка переходов и сценариев на диаграмме процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_publish">
<span class="md-ellipsis">
      Проверка и публикация диаграммы процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_test">
<span class="md-ellipsis">
      Тестирование обновлённого процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_5_summary">
<span class="md-ellipsis">
      Итоги урока
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="tutorial_hr_lesson_5_intro">Введение</h2>
<p>В ходе этого урока вы научитесь автоматизировать бизнес-процесс найма персонала с помощью сценариев, вычисляемых атрибутов и формул. Мы рассмотрим, как реализовать автоматические проверки и условия перехода между этапами процесса, используя инструменты ПО <strong>Comindware Platform</strong>.</p>
<p><strong>Предусловия:</strong> пройден <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5114">урок 2 «Первый реестр данных»</a>.</p>
<p><strong>Расчётная продолжительность:</strong> 60 мин.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>В данном уроке представлен продукт <strong>Comindware Platform</strong> версии 5.0, внешний вид страниц и меню в других версиях продукта может отличаться.</p>
</div>
<div class="notice notice-warning">
<p class="admonition-title">Бизнес-логика</p>
<p>В рамках процесса найма персонала кандидат считается успешно прошедшим собеседование, если его Оценка за собеседование составляет 8 баллов и выше, а также он прошёл проверку службы безопасности.</p>
<p>Для этого реализуем следующий порядок действий:</p>
<ol class="colored_numbers_list">
<li><em>HR-менеджер</em> и <em>Нанимающий менеджер</em> проводят собеседование с кандидатом и фиксируют оценку.</li>
<li><em>Сотрудник службы безопасности</em> проводит проверку кандидата и фиксирует результат.</li>
<li>Если оба условия выполнены (оценка ≥ 8 и проверка пройдена), система автоматически отмечает кандидата как успешно прошедшего этап и инициирует формирование предложения о работе.</li>
<li>В противном случае кандидат считается не прошедшим этап, и процесс завершается соответствующим статусом.</li>
</ol>
<p>Для автоматизации этой процедуры используем сценарий с вычислением на языке формул <strong>Comindware</strong>.</p>
</div>
<h2 id="tutorial_hr_lesson_5_taxonomy">Темы, навыки и задания урока</h2>
<p><strong>Темы</strong></p>
<ul>
<li>Сценарии</li>
<li>Вычисляемые атрибуты</li>
<li>Язык формул</li>
</ul>
<p><strong>Навыки</strong></p>
<ul>
<li>Добавлять и настраивать сценарии для процесса</li>
<li>Использовать вложенные формы и настраивать доступ к ним</li>
<li>Пользоваться редактором выражений</li>
<li>Использовать формулы</li>
</ul>
<p><strong>Задания</strong></p>
<ul>
<li>На форму задачи <em>«Провести собеседование»</em> поместить вложенную форму с данными кандидата и поля с данными собеседования кандидата.</li>
<li>Реализовать отслеживание статуса проверки кандидата службой безопасности и оценки за собеседование: логический атрибут и развилки с условным выбором потока на диаграмме процесса.</li>
<li>Добавить развилки и завершающие события на диаграмму процесса для выполнения усовершенствованной бизнес-логики.</li>
<li>Проверить, опубликовать и протестировать обновлённый процесс</li>
</ul>
<h2 id="tutorial_hr_lesson_5_definitions">Определения</h2>
<ul>
<li><strong>Сценарий</strong> — последовательность действий, выполняемых системой автоматически при наступлении определённого события.</li>
<li><strong>Вычисляемый атрибут</strong> — атрибут, значение которого формируется автоматически с использованием формулы.</li>
<li><strong>Язык формул Comindware</strong> — специальный язык для написания выражений, позволяющих вычислять значения атрибутов и управлять логикой процесса.</li>
</ul>
<h3 id="tutorial_hr_lesson_5_task_form">Доработка формы задачи «Зафиксировать результаты тестирования»</h3>
<p>Усовершенствуем форму задачи <em>«Зафиксировать результаты тестирования»</em>:</p>
<ul>
<li>сделаем переключатель результата тестирования наглядным <em>«Тестирование пройдено / не пройдено»</em>, вместо неинформативных вариантов <em>«Да/Нет»</em>;</li>
<li>сделаем указание результата тестирования обязательным.</li>
</ul>
<ol class="colored_numbers_list">
<li>Откройте диаграмму процесса <em>«Найм персонала»</em> для редактирования.</li>
<li>Перейдите к задаче <em>«Зафиксировать результаты тестирования»</em>.</li>
<li>Нажмите поле атрибута <em>«Результат тестирования»</em>.</li>
<li>Измените <strong>доступ</strong> к полю на «<strong>Требовать ввод</strong>».</li>
<li>В свойстве поля «<strong>Отображать как</strong>» выберете «<strong>Переключатель</strong>».</li>
<li>Установите флажок «<strong>Изменить названия вариантов</strong>».</li>
<li>
<p>Укажите следующие названия вариантов:</p>
<ul>
<li><strong>Истина:</strong> <em>Тестирование пройдено</em></li>
<li><strong>Ложь:</strong> <em>Тестирование не пройдено</em></li>
</ul>
</li>
<li>
<p>Сохраните форму задачи.</p>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настройка формы задачи «Зафиксировать результаты тестирования»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_5_task_test_form.png"/><figcaption class="caption">Настройка формы задачи «Зафиксировать результаты тестирования»</figcaption></p>
</figure>
<h2 id="tutorial_hr_lesson_5_interview_form">Доработка формы задачи «Провести собеседование»</h2>
<p>Добавим на форму задачи <em>«Провести собеседование»</em> полезные поля, зададим ограничение для ввода оценки и настроим наглядный переключатель для фиксации результата собеседования.</p>
<ol class="colored_numbers_list">
<li>Откройте диаграмму процесса <em>«Найм персонала»</em> для редактирования.</li>
<li>Откройте пользовательскую задачу <em>«Провести собеседование»</em>.</li>
<li>В область <em>«Результаты собеседования»</em> добавьте атрибут <em>«Дата и время собеседования»</em>.</li>
<li>Выберите поле <em>«Оценка за собеседование»</em> на макете формы.</li>
<li>С помощью панели свойств поля измените <strong>доступ</strong> на «<strong>Требовать ввод</strong>».</li>
<li>В свойстве поля «<strong>Максимум</strong>» укажите число <em>10</em>. Так мы зададим максимально допустимое значение для ввода в поле.</li>
<li>Удалите с формы поле <em>«Результат собеседования»</em>. Мы настроим автоматическое вычисление атрибута <em>«Результат собеседования»</em> и соответствующие переходы на диаграмме процесса. См. <em>«<a class="mkdocs_imported_link" href="#tutorial_hr_lesson_5_diagram_scenarios">Настройка переходов и сценариев на диаграмме процесса</a>»</em>.</li>
<li>Сохраните форму.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настройка формы задачи «Провести собеседование»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_5_task_interview.png"/><figcaption class="caption">Настройка формы задачи «Провести собеседование»</figcaption></p>
</figure>
<h2 id="tutorial_hr_lesson_5_security_check">Доработка формы задачи «Провести проверку кандидата»</h2>
<p>Усовершенствуем форму задачи для службы безопасности:</p>
<ul>
<li>сделаем переключатель результата  наглядным <em>«Проверка пройдена / не пройдена»</em>, вместо неинформативных вариантов <em>«Да/Нет»</em>;</li>
<li>сделаем указание результата проверки обязательным.</li>
</ul>
<ol class="colored_numbers_list">
<li>Откройте диаграмму шаблон процесса <em>«Найм персонала»</em> для редактирования.</li>
<li>Откройте пользовательскую задачу <em>«Провести проверку кандидата»</em>.</li>
<li>Нажмите поле атрибута <em>«Проверка службы безопасности»</em>.</li>
<li>Измените <strong>доступ</strong> к полю на «<strong>Требовать ввод</strong>».</li>
<li>В свойстве поля «<strong>Отображать как</strong>» выберете «<strong>Переключатель</strong>».</li>
<li>Установите флажок «<strong>Изменить названия вариантов</strong>».</li>
<li>
<p>Укажите следующие названия вариантов:</p>
<ul>
<li><strong>Истина:</strong> <em>Прошёл проверку</em></li>
<li><strong>Ложь:</strong> <em>Не прошёл</em></li>
</ul>
</li>
<li>
<p>Сохраните форму.</p>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настройка формы задачи «Провести проверку кандидата»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_5_task_check.png"/><figcaption class="caption">Настройка формы задачи «Провести проверку кандидата»</figcaption></p>
</figure>
<h2 id="tutorial_hr_lesson_5_diagram_scenarios">Настройка переходов и сценариев на диаграмме процесса</h2>
<p>Настроим сценарий и условия переходов на диаграмме процесса, чтобы реализовать бизнес-логику автоматического определения результата собеседования и дальнейших действий.</p>
<div class="notice notice-warning">
<p class="admonition-title">Бизнес-логика</p>
<p>Кандидат считается успешно прошедшим собеседование, если его оценка будет больше или равна 8 баллам и он пройдёт проверку <em>Службы безопасности</em>.</p>
<p>Для этого настроим изменение значения логического атрибута <em>«Результат собеседования»</em> при помощи сценария.</p>
</div>
<ol class="colored_numbers_list">
<li>Откройте диаграмму шаблон процесса <em>«Найм персонала»</em> для редактирования.</li>
<li>Выберите «<strong>Развилку «и» 2»</strong>.</li>
</ol>
<ol class="colored_numbers_list" start="3">
<li>Нажмите кнопку «<strong>Сценарий на выходе</strong>» <i class="fa-light fa-arrow-right-from-bracket">&zwnj;<!--icon--></i>.</li>
<li>Откроется конструктор сценария, который будет выполняться после выхода токена из развилки.</li>
<li>
<p>Внутри действия «<strong>Сменить контекст</strong>» нажмите кнопку «<strong>Добавить действие</strong>» <i class="fa-light fa-circle-plus">&zwnj;<!--icon--></i> и выберите пункт «<strong>Изменить значения атрибутов</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Кнопка «Добавить действие» в сценарии" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_5_scenario_add.png"/><figcaption class="caption">Кнопка «Добавить действие» в сценарии</figcaption></figure></p>
</li>
<li>
<p>Внутри действия «<strong>Сменить контекст</strong>» будет создано действие «<strong>Изменить значения атрибутов</strong>».</p>
</li>
<li>
<p>В заголовке действия «<strong>Изменить значения атрибутов</strong>» нажмите кнопку «<strong>Изменить</strong>» <i class="fa-light fa-pen-to-square">&zwnj;<!--icon--></i>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Кнопка «Изменить» действия «Изменить значения атрибутов»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_5_change_scenario.png"/><figcaption class="caption">Кнопка «Изменить» действия «Изменить значения атрибутов»</figcaption></figure></p>
</li>
<li>
<p>Отобразится окно «<strong>Действие: Изменить значения атрибутов</strong>» для настройки действия.</p>
</li>
<li>Нажмите кнопку «<strong>Создать</strong>», чтобы добавить операцию с атрибутом.</li>
<li>В столбце «<strong>Атрибут</strong>» выберите атрибут <em>«Результат собеседования»</em>.</li>
<li>В столбце «<strong>Операция со значениями</strong>» выберите пункт «<strong>Заменить</strong>».</li>
<li>В столбце «<strong>Значение</strong>» выберите пункт «<strong>Формула</strong>».</li>
<li>Нажмите поле в столбце «<strong>Значение</strong>». Отобразится компактный редактор выражения.</li>
<li>
<p>Введите <strong>формулу</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="n">AND</span><span class="p">(</span><span class="err">$</span><span class="n">Проверкаслужбыбезопасности</span><span class="p">,</span><span class="n">GREATEREQ</span><span class="p">(</span><span class="err">$</span><span class="n">Оценказасобеседование</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span></code> <br/></pre></code></div>
<div class="notice notice-success">
<p class="admonition-title">Синтаксис формулы для вычисления результата собеседования</p>
<ul>
<li><code>AND()</code> — эта функция принимает в качестве аргументов два выражения, возвращающих логическое значение, и возвращает логическое значение <code>true</code>, если оба аргумента вернули <code>true</code>.</li>
<li><code>GREATEREQ()</code> — эта функция сравнивает значения двух аргументов и возвращает логическое значение <code>true</code>, если значение первого аргумента больше или равно значению второго.</li>
<li><code>$Проверкаслужбыбезопасности</code>, <code>$Оценказасобеседование</code> — обращение к атрибутам атрибуту <em>«Проверка службы безопасности»</em> и <em>«Оценка за собеседование»</em> по их системным именам.</li>
</ul>
</div>
</li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>».</p>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настройка действия «Изменить значения атрибутов»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_5_scenario_change_attributes_setting.png"/><figcaption class="caption">Настройка действия «Изменить значения атрибутов»</figcaption></p>
</figure>
<h2 id="tutorial_hr_lesson_5_publish">Проверка и публикация диаграммы процесса</h2>
<p>Поверим и опубликуем обновлённую диаграмму процесса.</p>
<ol class="colored_numbers_list">
<li>Проверьте корректность настроек сценариев, условий и форм.</li>
<li>Нажмите кнопку «<strong>Проверить</strong>» в конструкторе диаграммы и устраните любые ошибки.</li>
<li>Опубликуйте обновлённую диаграмму процесса.</li>
</ol>
<h2 id="tutorial_hr_lesson_5_test">Тестирование обновлённого процесса</h2>
<p>Протестируем обновлённый процесс, чтобы убедиться, что автоматизация и бизнес-логика работают корректно.</p>
<ol class="colored_numbers_list">
<li>Создайте запись кандидата.</li>
<li>Пройдите этапы процесса, включая задачу <em>«Зафиксировать результаты тестирования»</em>.</li>
<li>Убедитесь, что поле результата тестирования отображается как переключатель с вариантами <em>«Тестирование пройдено / не пройдено»</em>, и что выбор обязателен.</li>
<li>Перейдите к задаче <em>«Провести собеседование»</em>. Заполните дату, время и оценку за собеседование. Проверьте, что поле оценки ограничено значением 10 и отображается как переключатель.</li>
<li>Перейдите к задаче <em>«Провести проверку кандидата»</em>. Убедитесь, что результат проверки фиксируется с помощью переключателя <em>«Проверка пройдена / не пройдена»</em> и что выбор обязателен.</li>
<li>Проверьте, что при выполнении условий (Оценка за собеседование <code>≥ 8</code> и проверка пройдена) процесс автоматически переходит на этап формирования предложения кандидату.</li>
<li>Проверьте альтернативный сценарий: если хотя бы одно из условий не выполнено, процесс завершается с соответствующим статусом.</li>
<li>Проверьте, что значения вычисляемых атрибутов корректно отображаются на формах.</li>
<li>При необходимости повторите тестирование с разными вариантами значений для проверки всех веток бизнес-логики.</li>
<li>Зафиксируйте результаты тестирования и при необходимости внесите корректировки в настройки процесса.</li>
</ol>
<div class="notice notice-example">
<p class="admonition-title">Факультативное задание</p>
<p>Попробуйте изменить условие автоматического перехода на этап предложения: например, требуйте не только прохождение проверки и высокую оценку, но и чтобы дата собеседования была не ранее определённой даты. Настройте формулу, проверьте работу процесса и проанализируйте, как изменится логика процесса.</p>
</div>
<h2 id="tutorial_hr_lesson_5_summary">Итоги урока</h2>
<p>Вы научились использовать автоматические вычисления, настраивать доступ к полям на форме, сценарии и условные переходы в процессе.</p>
<p>В <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5118">следующем уроке</a> вы научитесь настраивать систему управления доступом для участников процесса найма персонала.</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>