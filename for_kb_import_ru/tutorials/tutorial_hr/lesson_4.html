<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="5116" kb-tags="BPMS,BPMN,HR-процессы,автоматизация,бизнес-аналитика,бизнес-процессы,внедрение BPMN,для бизнес-аналитиков,low-code,лоукод,обучение,ознакомительный курс,основы BPMS,платформа,практика,старт для аналитика,управление процессами,уроки,цифровизация,атрибут типа «Документ»,атрибут типа «Запись»,взаимная связь,вакансии,кандидаты,создание записей на лету,документы кандидатов,форма,реестр данных,связанные шаблоны,связь 1:М,таблица на форме,типы документов,шаблон записи" kb-title="Урок 4. Связи и коллекции записей, документооборот">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_intro">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_taxonomy">
<span class="md-ellipsis">
      Темы, навыки и задания урока
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_definitions">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_document_types">
<span class="md-ellipsis">
      Настройка справочика типов документов
    </span>
</a>
<nav aria-label="Настройка справочика типов документов" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_create_document_types_template">
<span class="md-ellipsis">
      Создание шаблона записи «Типы документов»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_fill_document_types">
<span class="md-ellipsis">
      Заполнение справочника «Типы документов»
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_create_documents_template">
<span class="md-ellipsis">
      Создание шаблона записи «Документы кандидатов»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_add_1m_link">
<span class="md-ellipsis">
      Создание атрибута, связывающего два шаблона записей
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_table_on_form">
<span class="md-ellipsis">
      Настройка таблицы на форме для отображения документов кандидата
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_candidates_form">
<span class="md-ellipsis">
      Настройка добавления вакансий на форме кандидата
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_testing">
<span class="md-ellipsis">
      Тестирование
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#tutorial_hr_lesson_4_summary">
<span class="md-ellipsis">
      Итоги урока
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="tutorial_hr_lesson_4_intro">Введение</h2>
<p>В ходе этого урока вы научитесь расширять модель данных для процесса найма персонала: создавать связь «один ко многим» между шаблонами, использовать атрибут типа «<strong>Документ</strong>», настраивать представление таблицы для связанных записей и добавлять записи «на лету».</p>
<p><strong>Предусловия:</strong> пройден <em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5115">урок 3 «Мой первый бизнес-процесс»</a></em>.</p>
<p><strong>Расчётная продолжительность:</strong> 55 мин.</p>
<div class="notice notice-warning">
<p class="admonition-title">Бизнес-логика</p>
<p>В рамках процесса найма персонала для каждого кандидата необходимо хранить и обрабатывать связанные документы (например, резюме, паспорт, тестовое задание).</p>
<p>Для этого расширим модель данных с использованием связей между шаблонами записей: кандидат может предоставить несколько документов, и каждый документ имеет определённый тип.</p>
<p><em>HR-менеджер</em> должен иметь возможность:</p>
<ul>
<li>добавлять и просматривать документы, связанные с кандидатом;</li>
<li>указывать тип документа из справочника;</li>
<li>создавать новые типы документов и вакансии в текущей форме, то есть не покидая карточку кандидата.</li>
</ul>
<p>Такая организация данных обеспечит прозрачность документооборота, ускорит работу с кандидатами и позволит гибко настраивать бизнес-процесс под реальные потребности компании.</p>
</div>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>В данном уроке представлен продукт <strong>Comindware Platform</strong> версии 5.0, внешний вид страниц и меню в других версиях продукта может отличаться.</p>
</div>
<h2 id="tutorial_hr_lesson_4_taxonomy">Темы, навыки и задания урока</h2>
<p><strong>Темы</strong></p>
<ul>
<li>Связи «один ко многим» (коллекции записей)</li>
<li>Использование справочников для классификации данных</li>
<li>Обработка файлов</li>
<li>Атрибут типа «<strong>Документ</strong>»</li>
<li>Создание записей «на лету»</li>
<li>Настройка табличного представления для связанных записей</li>
<li>Настройка областей кнопок</li>
<li>Настройка требования обязательного ввода данных</li>
<li>Организация документооборота</li>
</ul>
<p><strong>Навыки</strong></p>
<ul>
<li>Устанавливать связи между шаблонами</li>
<li>Настраивать обработку файлов</li>
<li>Создавать и использовать атрибуты типа «<strong>Документ</strong>»</li>
<li>Добавлять записи в связанные шаблоны «на лету»</li>
<li>Настраивать контроль ввода данных пользователем</li>
<li>Настраивать области кнопок</li>
</ul>
<p><strong>Задания</strong></p>
<ul>
<li>Организовать хранение и обработку документов кандидатов в рамках процесса найма.</li>
<li>Настроить связи между данными для обеспечения документооборота.</li>
<li>Настроить таблицу на форме с записями из связанного шаблона.</li>
<li>Реализовать возможность добавления и просмотра связанных документов непосредственно с формы кандидата.</li>
<li>Обеспечить гибкость бизнес-процесса за счёт создания новых типов документов и вакансий «на лету».</li>
<li>Настроить формы и представления для эффективной работы HR-менеджера с документами и кандидатами.</li>
</ul>
<h2 id="tutorial_hr_lesson_4_definitions">Определения</h2>
<ul>
<li><strong>Атрибут типа «Документ»</strong> — поле для хранения файлов (резюме, результаты тестирования и др.).</li>
<li><strong>Атрибут типа «Запись»</strong> — поле для связи с другим шаблоном записи (например, Документы кандидата).</li>
<li><strong>Связь «один ко многим»</strong> — один объект (кандидат) связан с несколькими объектами (документами).</li>
<li><strong>Взаимная связь</strong> — двусторонняя связь между шаблонами записей.</li>
<li><strong>Создание записей «на лету»</strong> — добавление новых связанных записей прямо из формы.</li>
</ul>
<h2 id="tutorial_hr_lesson_4_document_types">Настройка справочика типов документов</h2>
<p>Чтобы <em>HR-менеджер</em> мог указать тип документов в записи кандидата, добавим справочник типов документов.</p>
<p>Для этого создадим <strong>шаблон записи</strong> <em>«Типы документов»</em>, настроим форму типа документа, список типов документов и заполним справочник данными.</p>
<h3 id="tutorial_hr_lesson_4_create_document_types_template">Создание шаблона записи «Типы документов»</h3>
<ol class="colored_numbers_list">
<li>Перейдите в раздел «<strong>Шаблоны</strong>» приложения <em>«Управление персоналом»</em>.</li>
<li>Создайте <strong>шаблон записи</strong> <em>«Типы документов»</em>.</li>
<li>Откройте шаблон и перейдите на вкладку «<strong>Атрибуты</strong>».</li>
<li>Создайте текстовый атрибут <em>«Тип документа»</em>.</li>
<li>В свойствах атрибута установите флажок «<strong>Использовать как заголовок записей</strong>».</li>
<li>Поместите атрибут <em>«Тип документа»</em> на форму <em>«Типы документов — Основная форма»</em>.</li>
<li>Сохраните форму.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Макет формы шаблона записи «Типы документов»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_4_document_type_form.png"/><figcaption class="caption">Макет формы шаблона записи «Типы документов»</figcaption></p>
</figure>
<h3 id="tutorial_hr_lesson_4_fill_document_types">Заполнение справочника «Типы документов»</h3>
<p>Чтобы указывать типы документов кандидатов в процессе найма, заполним справочник типов документов.</p>
<ol class="colored_numbers_list">
<li>Откройте список записей шаблона <em>«Типы документов»</em>.</li>
<li>В списке нажмите кнопку «<strong>Создать</strong>».</li>
<li>Отобразится форма для заполнения типа документа.</li>
<li>В поле <em>«Тип документа»</em> укажите значение <em>«Резюме»</em>.</li>
<li>Сохраните запись.</li>
<li>Нажмите ссылку <em>«Типы документов»</em> над формой, чтобы вернуться к списку записей.</li>
<li>Аналогичным образом создайте ещё два типа документов — <em>«Паспорт»</em> и <em>«Тестовое задание»</em>.</li>
</ol>
<h2 id="tutorial_hr_lesson_4_create_documents_template">Создание шаблона записи «Документы кандидатов»</h2>
<p>Для хранения документов кандидатов создадим отдельный реестр и свяжем его со справочником <em>«Типы документов»</em>.</p>
<ol class="colored_numbers_list">
<li>Перейдите в раздел «<strong>Шаблоны</strong>» приложения <em>«Управление персоналом»</em>.</li>
<li>Создайте <strong>шаблон записи</strong> <em>«Документы кандидатов»</em>.</li>
<li>Откройте шаблон и перейдите на вкладку «<strong>Атрибуты</strong>».</li>
<li>Создайте атрибут типа «<strong>Документ</strong>» с названием <em>«Файл»</em>.</li>
<li>
<p>Создайте <strong>текстовый</strong> атрибут со следующими свойствами:</p>
<ul>
<li><strong>Название:</strong> <em>«Наименование»</em></li>
<li><strong>Использовать как заголовок записей:</strong> флажок установлен</li>
</ul>
</li>
<li>
<p>Создайте атрибут типа «<strong>Запись</strong>» со следующими свойствами:</p>
<ul>
<li><strong>Название:</strong> <em>Тип</em></li>
<li><strong>Связанный шаблон:</strong> <em>Типы документов</em></li>
</ul>
</li>
</ol>
<h2 id="tutorial_hr_lesson_4_add_1m_link">Создание атрибута, связывающего два шаблона записей</h2>
<p>!!! "Бизнес-логика"</p>
<div class="highlight"><code><pre><span></span><code>Чтобы _HR-менеджер_ мог добавлять документы и сразу привязывать их к определённому кандидату, свяжем соответствующие шаблоны между собой.</code> <br/></pre></code></div>
<div class="notice notice-success">
<p class="admonition-title">Атрибут типа «Запись»</p>
<ul>
<li>Атрибут типа «<strong>Запись</strong>» используется для создания связи между шаблонами вида «один ко многим» (1:M), «один к одному» (1:1) или «многие ко многим» (N:M).</li>
<li>При установлении связи «один ко многим» несколько записей одного шаблона могут ссылаться на одну запись другого шаблона.</li>
<li>Такой шаблон называется <strong>связанным</strong>.</li>
<li><strong>Связанный шаблон</strong> всегда указывается при создании атрибута типа «<strong>Запись</strong>».</li>
</ul>
</div>
<ol class="colored_numbers_list">
<li>Откройте шаблон записи <em>«Кандидаты»</em>.</li>
<li>Перейдите на вкладку <strong>Атрибуты</strong>.</li>
<li>
<p>Создайте атрибут типа «<strong>Запись</strong>» со следующими свойствами:</p>
<ul>
<li><strong>Название:</strong> <em>«Документы»</em></li>
<li><strong>Связанный шаблон:</strong> <em>«Документы кандидатов»</em></li>
<li><strong>Хранить несколько значений:</strong> флажок установлен</li>
</ul>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Свойства атрибута «Документы»" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_4_attribute_multiple.png"/><figcaption class="caption">Свойства атрибута «Документы»</figcaption></figure></p>
</li>
</ol>
<h2 id="tutorial_hr_lesson_4_table_on_form">Настройка таблицы на форме для отображения документов кандидата</h2>
<p>Настроим отображение связанных с кандидатом документов в таблице на форме.</p>
<div class="notice notice-success">
<p class="admonition-title">Таблица на форме</p>
<p>На форме атрибут типа «<strong>Запись</strong>» с несколькими значениями может отображаться в виде таблицы, в столбцах которой отображаются атрибуты <strong>связанного шаблона</strong>. </p>
<p>Для таблицы на форме можно настроить набор столбцов, режим доступа, отображение дочерних записей, фильтр записей и кнопки.</p>
</div>
<ol class="colored_numbers_list">
<li>Перейдите на вкладку «<strong>Формы</strong>» шаблона записи <em>«Кандидаты»</em>.</li>
<li>Откройте форму <em>«Кандидаты — Основная форма»</em>.</li>
<li>Перетащите атрибут <em>«Документы»</em> на основную форму кандидата.</li>
<li>Для поля <em>«Документы»</em> выберите <strong>представление</strong> «<strong>Таблица</strong>» с помощью панели свойств.</li>
<li>Раскройте атрибут <em>«Документы»</em> на панели элементов.</li>
<li>Перетащите в таблицу на форме атрибуты <em>«Наименование»</em>, <em>«Тип»</em> и <em>«Файл»</em>.</li>
<li>
<p>Атрибуты будут добавлены в качестве столбцов таблицы.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка атрибута «Документы» на форме" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_4_form_table.png"/><figcaption class="caption">Настройка атрибута «Документы» на форме</figcaption></figure></p>
</li>
<li>
<p>Выберите область кнопок таблицы.</p>
</li>
<li>В панели элементов отобразятся кнопки, доступные для таблицы.</li>
<li>Перетащите на область кнопок таблицы кнопки «<strong>Создать</strong>», «<strong>Сохранить</strong>» и «<strong>Удалить</strong>». Эти кнопки позволят добавлять и удалять документы, связанные с кандидатом.</li>
<li>Сохраните форму.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настройка области кнопок атрибута «Документы» на форме" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_4_form_button_area.png"/><figcaption class="caption">Настройка области кнопок атрибута «Документы» на форме</figcaption></p>
</figure>
<h2 id="tutorial_hr_lesson_4_candidates_form">Настройка добавления вакансий на форме кандидата</h2>
<p>Добавим возможность создания новых вакансий «на лету».</p>
<ol class="colored_numbers_list">
<li>Перейдите на вкладку «<strong>Формы</strong>» шаблона записи <em>«Кандидаты»</em>.</li>
<li>Откройте форму <em>«Кандидаты — Основная форма»</em>.</li>
<li>Выберите поле атрибута <em>«Вакансия»</em>.</li>
<li>
<p>С помощью панели свойств поля установите флажок «<strong>Создание записей</strong>».</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>Установив флажок «<strong>Создание записей</strong>» в свойствах раскрывающегося списка, мы даём пользователю возможность создавать записи с помощью формы связанного шаблона.</p>
</div>
</li>
<li>
<p>В свойстве «<strong>Форма</strong>» выберите <em>«Вакансии — Основная форма»</em>.</p>
</li>
<li>Сохраните форму.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Настройка атрибута «Вакансия» на форме" src="/platform/v5.0/tutorials/tutorial_hr/img/lesson_4_form_create_new_record.png"/><figcaption class="caption">Настройка атрибута «Вакансия» на форме</figcaption></p>
</figure>
<h2 id="tutorial_hr_lesson_4_testing">Тестирование</h2>
<p>Перед тестированием усовершенствованного приложения, убедитесь, что все необходимые атрибуты и связи между шаблонами настроены согласно инструкциям в уроке.</p>
<p>Теперь проверим, как работает добавление и отображение связанных документов кандидата, а также создание новых вакансий непосредственно с формы кандидата.</p>
<ol class="colored_numbers_list">
<li>Откройте шаблон записи <em>«Кандидаты»</em>.</li>
<li>Нажмите кнопку «<strong>Перейти к экземплярам</strong>».</li>
<li>Откройте запись или создайте новую.</li>
<li>Нажмите кнопку «<strong>Создать</strong>» в области рядом с таблицей <em>«Документы»</em>.</li>
<li>Введите наглядное название документа в ячейку <em>«Наименование»</em>.</li>
<li>Выберите тип документа.</li>
<li>Прикрепите файл в ячейке <em>«Файл»</em>.</li>
<li>Нажмите кнопку «<strong>Сохранить</strong>».</li>
<li>Разверните список поля <em>«Вакансия»</em>.</li>
<li>Нажмите кнопку «<strong>Создать</strong>».</li>
<li>Введите название вакансии и нажмите кнопку «<strong>ОК</strong>».</li>
<li>Сохраните запись.</li>
</ol>
<div class="notice notice-example">
<p class="admonition-title">Факультативное задание</p>
<p>Попробуйте расширить модель документооборота: добавьте новый тип документа (например, "Медицинская справка") и настройте для него отдельные правила отображения или обязательности на форме кандидата. </p>
<p>Поэкспериментируйте с настройкой фильтров или сортировки в таблице документов кандидата — например, чтобы сначала отображались наиболее важные или недавно добавленные документы.</p>
</div>
<h2 id="tutorial_hr_lesson_4_summary">Итоги урока</h2>
<p>В ходе этого урока вы научились устанавливать между шаблонами записей связи типа «один ко многим», создавать справочники, использовать атрибут типа «<strong>Документ</strong>», настраивать таблицы на форме для со связанными записями, настраивать области кнопок таблиц, добавлять записи «на лету» и настраивать формы задач для бизнес-процесса найма персонала.</p>
<p>В <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5117">следующем уроке</a> вы познакомитесь с вычисляемыми атрибутами,  и автоматизацией расчётов в системе, условным управлением потоками процесса и контролем ввода данных.</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>