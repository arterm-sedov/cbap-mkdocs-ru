<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4684" kb-tags="N3,Notation 3,email,push-уведомления,задачи,настройка уведомлений,пользовательские задачи,путь передачи данных,уведомления,эл. почта" kb-title="Уведомления о задачах. Настройка текста и отправки эл. почтой">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_intro">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_standard">
<span class="md-ellipsis">
      Стандартное уведомление о задачах
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_display_methods">
<span class="md-ellipsis">
      Способы вывода уведомлений о задачах
    </span>
</a>
<nav aria-label="Способы вывода уведомлений о задачах" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_email">
<span class="md-ellipsis">
      Отправка уведомлений на эл. почту
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_configure_sequence">
<span class="md-ellipsis">
      Порядок настройки нестандартных уведомлений о задачах
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_communication_route">
<span class="md-ellipsis">
      Настройка пути передачи данных
    </span>
</a>
<nav aria-label="Настройка пути передачи данных" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_communication_route_general_properties">
<span class="md-ellipsis">
      Основные свойства
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_communication_route_message_attributes">
<span class="md-ellipsis">
      Атрибуты сообщения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#task_notifications_communication_route_message_properties">
<span class="md-ellipsis">
      Свойства сообщения
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="task_notifications_intro">Введение</h2>
<p><strong>Comindware Platform</strong> выводит стандартные уведомления о пользовательских задачах, если не настроены <strong>путь передачи данных</strong> типа «<strong>Уведомления о задачах</strong>» и <strong>данные сообщения пользовательской задачи</strong>.</p>
<p>Если стандартное содержимое системного уведомления о задаче вас не устраивает, <strong>Comindware Platform</strong> позволяет настроить тему и текст уведомления для отправки пользователям дополнительной информации о задачах.</p>
<p>Чтобы использовать особые уведомления, необходимо настроить <strong>путь передачи данных</strong> с выводом в уведомление бизнес-данных.</p>
<p>Здесь представлены инструкции по настройке <strong>пути передачи данных</strong> для отправки нестандартных уведомлений о пользовательской задаче.</p>
<h2 id="task_notifications_standard">Стандартное уведомление о задачах</h2>
<p>Если не настроены подключение к эл. почте по умолчанию и путь передачи данных с особым уведомлением, стандартные уведомления о задачах отображаются в информационной панели и push-сообщениях.</p>
<p>Если настроено подключение к эл. почте по умолчанию, но не настроен путь передачи данных с особым уведомлением, письма с уведомлениями о задачах приходят от <strong>имени отправителя</strong> и с <strong>адреса отправителя</strong>, настроенных в подключении для отправки эл. почты.</p>
<p>По умолчанию система формирует уведомления о задачах со следующими сведениями:</p>
<ul>
<li><strong>название объекта</strong> — значение атрибута-заголовка записи, по которой запущен процесс;</li>
<li><strong>заголовок задачи</strong> — задаётся в свойствах задачи на вкладке «<strong>Дополнительные</strong>»;</li>
<li><strong>ссылка на задачу</strong> — формируется автоматически;</li>
<li><strong>продолжительность выполнения</strong> — задаётся в свойствах задачи на вкладке «<strong>Дополнительные</strong>»;</li>
<li><strong>название процесса</strong> — задаётся в свойствах шаблона процесса.</li>
</ul>
<p>Стандартная тема письма содержит заголовок задачи. По нажатию на название задачи или кнопку «<strong>Перейти к задаче</strong>» пользователь перенаправляется в систему на форму назначенной задачи.</p>
<figure class="screenshot_with_caption">
<p><img alt="Пример системного уведомления о новой задаче" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_example_default.png"/><figcaption class="caption">Пример системного уведомления о новой задаче</figcaption></p>
</figure>
<h2 id="task_notifications_display_methods">Способы вывода уведомлений о задачах</h2>
<p>Можно настроить вывод уведомлений о задачах следующими способами:</p>
<ul>
<li>в информационной панели при нажатии значка «<strong>Уведомления</strong>» <i class="fa-light fa-bell">&zwnj;<!--icon--></i> (сервер должен быть подключен к Apache Kafka);</li>
<li>в push-сообщениях при использовании <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5090">Comindware Mobile</a></strong> и веб-версии <strong>Comindware Platform</strong> (сервер должен быть подключен к интернету и Apache Kafka);</li>
<li>на эл. почту исполнителям, если настроено подключение к эл. почте (должно быть настроено подключение для отправки эл. почты).</li>
</ul>
<h3 id="task_notifications_email">Отправка уведомлений на эл. почту</h3>
<p>Чтобы отправлять уведомления о задачах на эл. почту исполнителям, необходимо:</p>
<ul>
<li>настроить подключение типа «<strong>Отправка эл. почты из процесса</strong>» и установить в его свойствах флажок «<strong>Использовать по умолчанию</strong>» (см. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4690">Отправка эл. почты из процесса. Настройка подключения, пути передачи данных и события на диаграмме процесса</a>»</em>);</li>
<li>при необходимости настроить путь передачи данных с особым уведомлением.</li>
</ul>
<p>Если не настроен путь передачи данных с особым уведомлением, исполнителям будет приходить письмо со стандартным уведомлением от от <strong>имени отправителя</strong> и с <strong>адреса отправителя</strong>, настроенных в подключении для отправки эл. почты.</p>
<figure class="screenshot_with_caption">
<p><img alt="Просмотр уведомлений о задачах" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_view.png"/><figcaption class="caption">Просмотр уведомлений о задачах</figcaption></p>
</figure>
<h2 class="pageBreakBefore" id="task_notifications_configure_sequence">Порядок настройки нестандартных уведомлений о задачах</h2>
<p>Чтобы формировать нестандартные уведомления о пользовательской задаче, содержащие особый текст и данные из процесса, необходимо:</p>
<ol class="colored_numbers_list">
<li><a class="mkdocs_imported_link" href="#task_notifications_communication_route">Настройте <strong>путь передачи данных</strong></a> типа «<strong>Уведомления о задачах</strong>».</li>
<li>В свойствах <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4730">пользовательской задачи</a></strong> настройте сопоставление атрибутов <strong>пути передачи данных</strong> с <strong>данными сообщения</strong>.</li>
<li>Опубликуйте диаграмму процесса.</li>
<li>Протестируйте работу уведомления.</li>
</ol>
<h2 class="pageBreakBefore" id="task_notifications_communication_route">Настройка пути передачи данных</h2>
<p>Для создания пути передачи данных для уведомления о задачах требуются следующие действия:</p>
<ol class="colored_numbers_list">
<li>Откройте страницу «<strong>Администрирование</strong>» — «<strong>Архитектура</strong>» или страницу «<strong>Администрирование</strong>» приложения.</li>
<li>Выберите пункт «<strong>Пути передачи данных</strong>» <i class="fa-light fa-route">&zwnj;<!--icon--></i>.</li>
<li>Отобразится список путей передачи данных.</li>
<li>Создайте или откройте путь передачи данных типа «<strong>Системные подключения</strong>» — «<strong>Уведомления о задачах</strong>».</li>
<li>
<p>Настройте свойства пути передачи данных:</p>
<ul>
<li><strong><a class="mkdocs_imported_link" href="#task_notifications_communication_route_general_properties">Основные свойства</a></strong></li>
<li><strong><a class="mkdocs_imported_link" href="#task_notifications_communication_route_message_attributes">Атрибуты сообщения</a></strong></li>
<li><strong><a class="mkdocs_imported_link" href="#task_notifications_communication_route_message_properties">Свойства сообщения</a></strong></li>
</ul>
</li>
<li>
<p>Сохраните путь передачи данных.</p>
</li>
</ol>
<h3 id="task_notifications_communication_route_general_properties">Основные свойства</h3>
<p>Вкладка «<strong>Основные свойства</strong>» содержит основные параметры пути передачи данных:</p>
<ul>
<li><strong>Отключить</strong> — установите этот флажок, чтобы временно деактивировать путь передачи данных.</li>
<li><strong>Название</strong> — введите наглядное наименование пути передачи данных.</li>
<li><strong>Имя сообщения</strong> — введите <em>уникальный</em> идентификатор сообщения, проходящего по данному пути передачи данных.</li>
<li><strong>Приложение</strong> — выберите бизнес-приложение, в котором будет использоваться путь передачи данных.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка основных свойств пути передачи данных для уведомлений о задачах" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_primary_setting.png"/><figcaption class="caption">Настройка основных свойств пути передачи данных для уведомлений о задачах</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="task_notifications_communication_route_message_attributes">Атрибуты сообщения</h3>
<div class="notice notice-success">
<p class="admonition-title">Подстановка значений атрибутов сообщения в уведомление</p>
<p>Путь передачи данных для отправки уведомлений о задачах позволяет передавать данные из записей в эл. письмо с уведомлением.</p>
<ol class="colored_numbers_list">
<li>На вкладке «<strong>Атрибуты сообщения</strong>» пути передачи данных задайте набор атрибутов, значения которых требуется получить из пользовательской задачи и подставить в сообщение.</li>
<li>
<p>На вкладке «<strong><a class="mkdocs_imported_link" href="#task_notifications_communication_route_message_properties">Свойства сообщения</a></strong>» подставьте значения атрибутов сообщения в любое поле, указав их системные имена в фигурных скобках <code>{}</code>.</p>
<ul>
<li>Например, подставьте в тему письма номер заявления и имя заявителя:<ul>
<li><strong>Тема:</strong> <em>Заявление на отпуск № <code>{ApplicationNumber}</code> от: <code>{ApplicantName}</code></em></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Задайте значения атрибутов сообщения с помощью вкладки «<strong>Данные сообщения</strong>» в свойствах <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4730"><strong>пользовательской задачи</strong></a>, использующей этот путь передачи данных.</p>
</li>
</ol>
</div>
<p class="pageBreakBefore">Чтобы создать атрибут сообщения и сопоставить его с полем уведомления, нажмите кнопку «<strong>Создать</strong>» и заполните свойства атрибута в таблице «<strong>Атрибуты для передачи данных сообщения</strong>»:</p>
<ul>
<li><strong>Название</strong> — введите наглядное название атрибута.</li>
<li><strong>Системное имя</strong> — введите уникальное имя атрибута.</li>
<li><strong>Тип данных</strong> — выберите тип данных:<ul>
<li><strong>Текст</strong></li>
<li><strong>Число</strong></li>
<li><strong>Длительность</strong></li>
<li><strong>Дата и время</strong></li>
<li><strong>Логический</strong></li>
<li><strong>Документ</strong></li>
<li><strong>Аккаунт</strong></li>
</ul>
</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка атрибутов сообщения пути передачи данных для уведомлений о задачах" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_attributes_setting.png"/><figcaption class="caption">Настройка атрибутов сообщения пути передачи данных для уведомлений о задачах</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="task_notifications_communication_route_message_properties">Свойства сообщения</h3>
<p>На вкладке «<strong>Свойства сообщения</strong>» настройте шаблон системного уведомления с использованием атрибутов с вкладки «<strong>Атрибуты сообщения</strong>»:</p>
<ul>
<li><strong>Список атрибутов, которые можно использовать при написании эл. письма</strong> — содержит настроенные <strong>атрибуты сообщения</strong>. Копируйте их (вместе с фигурными скобками) и вставляйте в поля электронного письма.</li>
<li><strong>Тема</strong> — введите произвольный текст темы уведомления и имена атрибутов в фигурных скобках для подстановки их значений.</li>
<li><strong>Сообщение</strong> — введите произвольный текст уведомления и имена атрибутов в фигурных скобках для подстановки их значений.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка свойств сообщения пути передачи данных для уведомлений о задачах" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_message_setting.png"/><figcaption class="caption">Настройка свойств сообщения пути передачи данных для уведомлений о задачах</figcaption></p>
</figure>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4730">Пользовательская задача</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4676">Пути передачи данных</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4690">Отправка эл. почты из процесса. Настройка подключения, пути передачи данных и события на диаграмме процесса</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4879">Гиперссылка на задачу. Вычисление с помощью N3 и формулы</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5090">Мобильное приложение. Использование</a></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>