<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4681" kb-title="Общие уведомления. Настройка">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#definitions">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#порядок-настройки-общих-уведомлений">
<span class="md-ellipsis">
      Порядок настройки общих уведомлений
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#communication_routes_setting">
<span class="md-ellipsis">
      Настройка пути передачи данных
    </span>
</a>
<nav aria-label="Настройка пути передачи данных" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#communication_route_general_properties">
<span class="md-ellipsis">
      Основные свойства
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#communication_route_message_attributes">
<span class="md-ellipsis">
      Атрибуты сообщения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#communication_route_message_properties">
<span class="md-ellipsis">
      Свойства сообщения
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#common_notification_example">
<span class="md-ellipsis">
      Пример: вывод общих уведомлений в информационной панели и на странице входа
    </span>
</a>
<nav aria-label="Пример: вывод общих уведомлений в информационной панели и на странице входа" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#common_notification_example_app_configure">
<span class="md-ellipsis">
      Настройка приложения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#common_notification_example_testing">
<span class="md-ellipsis">
      Тестирование уведомлений
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<div class="notice notice-success">
<h2 class="admonition-title" id="definitions">Определения</h2>
<p><strong>Общие уведомления</strong> — это сообщения, которые отображаются в течение заданного времени для всех пользователей:</p>
<ul>
<li>при нажатии значка «<strong>Уведомления</strong>» <i class="fa-light fa-bell">&zwnj;<!--icon--></i> в информационной панели;</li>
<li>на странице входа в <strong>Comindware Platform</strong> (если в <a class="mkdocs_imported_link" href="#communication_route_message_properties">свойствах сообщения</a> не установлен флажок «<strong>Внутреннее уведомление</strong>»);</li>
<li>в push-сообщениях.</li>
</ul>
<p>Общие уведомления формируются с помощью событий отправки сообщений на диаграмме процесса и путей передачи данных.</p>
</div>
<figure class="screenshot_with_caption">
<p><img alt="Вызов панели «Уведомления»" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_board_call.png"/><figcaption class="caption">Вызов панели «Уведомления»</figcaption></p>
</figure>
<figure class="screenshot_with_caption">
<p><img alt="Критически важное общее уведомление на странице входа" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_entry_page_urgent_message_generic.png"/><figcaption class="caption">Критически важное общее уведомление на странице входа</figcaption></p>
</figure>
<h2 class="pageBreakBefore" id="порядок-настройки-общих-уведомлений">Порядок настройки общих уведомлений</h2>
<ol class="colored_numbers_list">
<li>Настройте <a class="mkdocs_imported_link" href="#communication_routes_setting"><strong>путь передачи данных</strong></a> типа «<strong>Общие уведомления</strong>».</li>
<li>Используйте настроенный путь передачи данных в качестве <strong>места назначения</strong> в <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4740">промежуточном событии-отправке сообщения</a></strong> или <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4745">конечном событии-отправке сообщения</a></strong>.</li>
</ol>
<p>См. также <em><a class="autorefs autorefs-internal mkdocs_imported_link" href="#common_notification_example">Пример: вывод общих уведомлений в информационной панели и на странице входа</a>.</em></p>
<h2 class="pageBreakBefore" id="communication_routes_setting">Настройка пути передачи данных</h2>
<ol class="colored_numbers_list">
<li>Откройте страницу «<strong>Администрирование</strong>» — «<strong>Архитектура</strong>» или страницу «<strong>Администрирование</strong>» приложения.</li>
<li>Выберите пункт «<strong>Пути передачи данных</strong>» <i class="fa-light fa-route">&zwnj;<!--icon--></i>.</li>
<li>Отобразится список путей передачи данных.</li>
<li>Дважды нажмите в списке или создайте путь передачи данных типа «<strong>Системные подключения</strong>» — «<strong>Общие уведомления</strong>».</li>
<li>
<p>Настройте свойства пути передачи данных:</p>
<ul>
<li><strong><a class="mkdocs_imported_link" href="#communication_route_general_properties">Основные свойства</a></strong></li>
<li><strong><a class="mkdocs_imported_link" href="#communication_route_message_attributes">Атрибуты сообщения</a></strong></li>
<li><strong><a class="mkdocs_imported_link" href="#communication_route_message_properties">Свойства сообщения</a></strong></li>
</ul>
</li>
<li>
<p>Сохраните путь передачи данных.</p>
</li>
</ol>
<h3 id="communication_route_general_properties">Основные свойства</h3>
<p>Вкладка «<strong>Основные свойства</strong>» содержит основные параметры пути передачи данных:</p>
<ul>
<li><strong>Отключить</strong> — установите этот флажок, чтобы временно деактивировать путь передачи данных.</li>
<li><strong>Название</strong> — введите наглядное наименование пути передачи данных.</li>
<li><strong>Имя сообщения</strong> — введите <em>уникальный</em> идентификатор сообщения, проходящего по данному пути передачи данных.</li>
<li><strong>Приложение</strong> — выберите бизнес-приложение, в котором будет использоваться путь передачи данных.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка основных свойств пути передачи данных для общего уведомления" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_properties_setting.png"/><figcaption class="caption">Настройка основных свойств пути передачи данных для общего уведомления</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="communication_route_message_attributes">Атрибуты сообщения</h3>
<p>На вкладке «<strong>Атрибуты сообщения</strong>» заполните таблицу соответствия атрибутов сообщения с атрибутами уведомления.</p>
<p>Настроенные на этой вкладке атрибуты будут использоваться для передачи данных из процесса в уведомление.</p>
<p>Эти атрибуты следует использовать на вкладке «<strong><a class="mkdocs_imported_link" href="#communication_route_message_properties">Свойства сообщения</a></strong> » пути передачи данных,</p>
<p>Значения этих атрибутов необходимо задать на вкладке «<strong>Данные сообщения</strong> » в свойствах  <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4740">промежуточного события-отправки сообщения</a></strong> и <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4745">конечного события-отправки сообщения</a></strong>.</p>
<p>Чтобы создать атрибут сообщения и сопоставить его с полем уведомления, нажмите кнопку «<strong>Создать</strong>» и заполните строку таблицы сопоставления:</p>
<ul>
<li><strong>Название</strong> — введите наглядное название атрибута.</li>
<li><strong>Системное имя</strong> — введите уникальное имя атрибута, оно будет использоваться в уведомления на вкладке «<strong>Свойства сообщения</strong>».</li>
<li><strong>Тип данных</strong> — выберите тип данных  в соответствии с данными, которые в него будут передаваться из процесса:<ul>
<li><strong>Текст</strong></li>
<li><strong>Число</strong></li>
<li><strong>Длительность</strong></li>
<li><strong>Дата и время</strong></li>
<li><strong>Логический</strong></li>
<li><strong>Документ</strong></li>
<li><strong>Аккаунт</strong></li>
</ul>
</li>
</ul>
<p>Чтобы удалить атрибут, установите рядом с ним флажок, и нажмите кнопку «<strong>Удалить</strong>».</p>
<figure class="screenshot_with_caption">
<p><img alt="Настройка атрибутов сообщения в пути передачи данных для общих уведомлений" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_attributes_setting.png"/><figcaption class="caption">Настройка атрибутов сообщения в пути передачи данных для общих уведомлений</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="communication_route_message_properties">Свойства сообщения</h3>
<p>На вкладке «<strong>Свойства сообщения</strong>» настройте шаблон уведомления с использованием атрибутов с вкладки «<strong>Атрибуты сообщения</strong>».</p>
<ul>
<li>
<p><strong>Список атрибутов, которые можно использовать при написании эл. письма</strong> содержит настроенные <a class="mkdocs_imported_link" href="#communication_route_message_attributes"><strong>атрибуты сообщения</strong></a>.</p>
<div class="notice notice-tip">
<p class="admonition-title">Подстановка значений атрибутов сообщения в уведомление</p>
<ul>
<li>Чтобы поместить значение атрибута сообщения в эл. письмо, введите его системное имя в фигурных скобках <code>{ }</code> в соответствующее поле письма.</li>
<li>В текстовые поля письма (адреса и имена отправителей и получателей, тема, текст сообщения, место встречи) можно вводить произвольный текст и несколько <strong>атрибутов сообщений</strong>.</li>
<li>
<p>Например, в поле «<strong>Заголовок</strong>» можно ввести строку:</p>
<div class="highlight"><code><pre><span></span><code>Уведомление «{Title}» от {Date}</code> <br/></pre></code></div>
<p>Здесь: <code>{Title}</code> — атрибут сообщения, содержащий название уведомления, а <code>{Date}</code> — дата формирования уведомления.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Электронное письмо</strong> — это шаблон, в полях которого следует ввести статические значения и системные имена <strong>атрибутов сообщения</strong>. В шаблоне уведомления предусмотрены перечисленные ниже поля.</p>
<ul>
<li><strong>Заголовок</strong> — введите тему письма или укажите <strong>атрибут сообщения</strong> типа «<strong>Текст</strong>», содержащий тему письма.</li>
<li><strong>Текст сообщения</strong> — введите текст письма или укажите <strong>атрибут сообщения</strong> типа «<strong>Текст</strong>», содержащий текст письма.</li>
<li><strong>Длительность</strong> — задайте длительность отображения уведомления.</li>
<li>
<p><strong>Важность</strong> — выберите уровень важности уведомления:</p>
<ul>
<li>Критический</li>
<li>Высокий</li>
<li>Обычный</li>
<li>Низкий</li>
</ul>
</li>
<li>
<p><strong>Внутреннее уведомление</strong> — установите этот флажок, чтобы уведомление отображалось только для авторизованных пользователей.</p>
</li>
</ul>
</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка свойств сообщения для общего уведомления" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_setting.png"/><figcaption class="caption">Настройка свойств сообщения для общего уведомления</figcaption></p>
</figure>
<h2 class="pageBreakBefore" id="common_notification_example">Пример: вывод общих уведомлений в информационной панели и на странице входа</h2>
<p>Рассмотрим пример настройки приложения для вывода общих уведомлений с текстом, содержащим значения атрибутов.</p>
<p>Уведомления будут отображаться в информационной панели и на странице входа.</p>
<h3 id="common_notification_example_app_configure">Настройка приложения</h3>
<ol class="colored_numbers_list">
<li>Настройте получение уведомлений в <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5067">конфигурационном файле экземпляра ПО</a>. Может потребоваться помощь системного администратора.</li>
<li>Создайте шаблон процесса <em>«Отправка общих уведомлений»</em>.</li>
<li>Перейдите к <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4721#process_diagram_designer">конструктору диаграммы процесса</a>.</li>
<li>Откройте <strong>стартовую форму</strong> начального события с помощью меню элемента.</li>
<li>
<p>С помощью панели элементов создайте и поместите на стартовую форму два атрибута типа «<strong>Текст</strong>» (см. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4786#form_designer">Редактирование формы. Создание атрибута</a>»</em>):</p>
<ul>
<li><em>Тема сообщения</em></li>
<li>
<p><em>Текст сообщения</em></p>
<p><img alt="Настройка стартовой формы процесса отправки общих уведомлений" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_start_form_setting.png"/></p>
</li>
</ul>
</li>
<li>
<p>Сохраните стартовую форму.</p>
</li>
<li>
<p>Вернитесь к диаграмме процесса, нажав в браузере кнопку «<strong>Назад</strong>».</p>
</li>
<li>
<p>Добавьте на диаграмму процесса <strong>промежуточное событие-отправку сообщения</strong>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Событие отправка-сообщения на диаграмме процесса" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_event_diagram.png"/><figcaption class="caption">Событие отправка-сообщения на диаграмме процесса</figcaption></figure></p>
</li>
<li>
<p>Откройте свойства события-отправки сообщения.</p>
</li>
<li>На вкладке «<strong>Дополнительные</strong>» в группе «<strong>Место назначения</strong>» выберите «<strong>Общее уведомление</strong>».</li>
<li>
<p>В раскрывающемся списке «<strong>Использовать путь передачи данных</strong>» создайте путь передачи данных типа «<strong>Общие уведомления</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка события-отправки сообщения для общих уведомлений" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_event_setting.png"/><figcaption class="caption">Настройка события-отправки сообщения для общих уведомлений</figcaption></figure></p>
</li>
<li>
<p>Настройте путь передачи данных, как указано ниже. Подробные инструкции см. в параграфе <em>«<a class="mkdocs_imported_link" href="#communication_routes_setting">Настройка пути передачи данных</a>»</em>.</p>
<ul>
<li>
<p><strong>Основные свойства</strong></p>
<ul>
<li><strong>Название:</strong> <em>Уведомление для пользователей</em></li>
<li><strong>Имя сообщения:</strong> <em>UserNotification</em></li>
</ul>
</li>
<li>
<p><strong>Атрибуты сообщения</strong></p>
<table style="width: 100%;">
<thead>
<tr>
<th>Название</th>
<th>Системное имя</th>
<th>Тип данных</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Текст сообщения</em></td>
<td><em>body</em></td>
<td><strong>Текст</strong></td>
</tr>
<tr>
<td><em>Тема</em></td>
<td><em>subject</em></td>
<td><strong>Текст</strong></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Свойства сообщения</strong></p>
<ul>
<li><strong>Заголовок:</strong> <code>{subject}</code></li>
<li><strong>Текст сообщения:</strong> <code>{body}</code></li>
<li><strong>Длительность: 5 минут</strong></li>
<li><strong>Важность: Критический</strong></li>
</ul>
</li>
</ul>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка свойств сообщения пути передачи общих уведомлений" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_routes_setting.png"/><figcaption class="caption">Настройка свойств сообщения пути передачи общих уведомлений</figcaption></figure></p>
</li>
<li>
<p>Задайте значения атрибутов на вкладке «<strong>Данные сообщения</strong>». См. параграфы <em>«<a class="mkdocs_imported_link" href="#communication_routes_setting">Настройка пути передачи данных</a>»</em>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка данных сообщения для отправки общих уведомлений" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_data_setting.png"/><figcaption class="caption">Настройка данных сообщения для отправки общих уведомлений</figcaption></figure></p>
</li>
<li>
<p>Опубликуйте диаграмму процесса.</p>
</li>
</ol>
<h3 class="pageBreakBefore" id="common_notification_example_testing">Тестирование уведомлений</h3>
<ol class="colored_numbers_list">
<li>Откройте шаблон процесса <em>«Отправка общих уведомлений»</em>.</li>
<li>Нажмите кнопку «<strong>Перейти к экземплярам</strong>».</li>
<li>В списке экземпляров процесса нажмите кнопку «<strong>Создать</strong>».</li>
<li>Отобразится стартовая форма процесса.</li>
<li>Заполните поля <em>«Тема сообщения»</em> и <em>«Текст сообщения»</em>.</li>
<li>
<p>Нажмите кнопку «Создать».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Заполнение стартовой формы для отправки общего уведомления" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_start_form.png"/><figcaption class="caption">Заполнение стартовой формы для отправки общего уведомления</figcaption></figure></p>
</li>
<li>
<p>Нажмите значок «<strong>Уведомления</strong>» <i class="fa-light fa-bell">&zwnj;<!--icon--></i> в информационной панели, чтобы просмотреть уведомление.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Просмотр уведомления в информационной панели" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_view.png"/><figcaption class="caption">Просмотр уведомления в информационной панели</figcaption></figure></p>
</li>
<li>
<p>Выйдите из системы, чтобы просмотреть уведомление на странице входа.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Критически важное уведомление на странице входа" src="/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_entry_page_urgent_message.png"/><figcaption class="caption">Критически важное уведомление на странице входа</figcaption></figure></p>
</li>
</ol>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4734">Простое начальное событие</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4745">Конечное событие-отправка сообщения</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4740">Промежуточное событие-отправка сообщения</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4786#form_designer">Редактирование формы. Создание атрибута</a></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>