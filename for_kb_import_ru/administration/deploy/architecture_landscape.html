<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4596">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#архитектура-системы">
<span class="md-ellipsis">
      Архитектура Системы
    </span>
</a>
<nav aria-label="Архитектура Системы" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#безопасность-и-отказоустойчивость-системы">
<span class="md-ellipsis">
      Безопасность и отказоустойчивость Системы
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#интеграция-с-внешними-системами">
<span class="md-ellipsis">
      Интеграция с внешними системами
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#ландшафт-развертывания-системы">
<span class="md-ellipsis">
      Ландшафт развертывания Системы
    </span>
</a>
<nav aria-label="Ландшафт развертывания Системы" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#рекомендуемые-варианты-развертывания-системы">
<span class="md-ellipsis">
      Рекомендуемые варианты развертывания Системы
    </span>
</a>
<nav aria-label="Рекомендуемые варианты развертывания Системы" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация">
<span class="md-ellipsis">
      Минимальная конфигурация
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#продуктовая-конфигурация">
<span class="md-ellipsis">
      Продуктовая конфигурация
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#рекомендуемый-набор-серверов-приложений">
<span class="md-ellipsis">
      Рекомендуемый набор серверов приложений
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#техническое-обеспечение-системы">
<span class="md-ellipsis">
      Техническое обеспечение Системы
    </span>
</a>
<nav aria-label="Техническое обеспечение Системы" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-серверов-приложений">
<span class="md-ellipsis">
      Конфигурация серверов приложений
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#методика-расчета-требуемых-аппаратных-ресурсов">
<span class="md-ellipsis">
      Методика расчета требуемых аппаратных ресурсов
    </span>
</a>
<nav aria-label="Методика расчета требуемых аппаратных ресурсов" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#инфраструктурные-сервисы">
<span class="md-ellipsis">
      Инфраструктурные сервисы
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#продуктовый-ландшафт">
<span class="md-ellipsis">
      Продуктовый ландшафт
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#ландшафт-тестирования-и-разработки">
<span class="md-ellipsis">
      Ландшафт тестирования и разработки
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация-основного-сервера-приложений">
<span class="md-ellipsis">
      Минимальная конфигурация основного сервера приложений
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация-резервного-сервера-приложений">
<span class="md-ellipsis">
      Минимальная конфигурация резервного сервера приложений
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация-серверов-разработки-и-тестирования">
<span class="md-ellipsis">
      Минимальная конфигурация серверов разработки и тестирования
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-системы-хранения-данных">
<span class="md-ellipsis">
      Конфигурация системы хранения данных
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-подсистем">
<span class="md-ellipsis">
      Конфигурация подсистем
    </span>
</a>
<nav aria-label="Конфигурация подсистем" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-сервера-распределённой-субд">
<span class="md-ellipsis">
      Конфигурация сервера распределённой СУБД
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-сервера-журналирования-транзакций">
<span class="md-ellipsis">
      Конфигурация сервера журналирования транзакций
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-обратного-прокси-сервера">
<span class="md-ellipsis">
      Конфигурация обратного прокси-сервера
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#конфигурация-сервера-zabbix">
<span class="md-ellipsis">
      Конфигурация сервера Zabbix
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="введение">Введение</h2>
<p><strong>Comindware Platform</strong> представляет собой целостный программный комплекс на базе стека современных технологий.</p>
<p>Здесь представлено краткое описание архитектуры <strong>Comindware Platform</strong>, а также даны рекомендации по выбору ландшафта и конфигурации программного и аппаратного (технического) обеспечения для развёртывания Системы на основе <strong>Comindware Platform</strong>.</p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<ul>
<li><strong>Сервер приложений</strong> — установленный экземпляр ПО <strong>Comindware Platform</strong>.</li>
<li><strong>Приложение</strong> — обособленное бизнес-решение, реализованное на сервере приложений.</li>
<li><strong>Активные пользователи</strong> — пользователи, регулярно генерирующие данные на сервере приложений.</li>
<li><strong>DAS</strong> — запоминающее устройство, непосредственно подключенное к серверу приложений.</li>
<li><strong>SAN</strong> — сетевая система хранения (СХД, сеть хранения данных).</li>
<li><strong>IOPS</strong> — количество операций ввода-вывода в секунду.</li>
</ul>
</div>
<h2 id="архитектура-системы">Архитектура Системы</h2>
<p>В основе Системы лежит клиент-серверная компонентно-многослойная сервисно-ориентированная архитектура, расширяемая плагинами и адаптерами.</p>
<p>В состав Системы входят следующие компоненты:</p>
<ul>
<li><em>Веб-приложение</em>: одностраничное приложение (SPA) на основе Marionette, Backbone, React, Redux.</li>
<li><em>Мобильное приложение</em>: React Native on Expo.</li>
<li><em>Бэкенд</em>: компоненты-сервисы на основе .NET 6.0, .NET Framework 4.8 (Windows), Mono 6.12 (Linux), JDK 17.</li>
<li><em>СУБД</em>: фирменная патентованная СУБД Comindware ElasticData</li>
<li><em>Хранилище данных</em>: распределённая высокопроизводительная СУБД Apache Ignite.</li>
<li><em>Сервис журналирования транзакций</em>: OpenSearch (Elasticsearch).</li>
<li><em>Сервис сбора и анализа журналов и данных мониторинга Системы</em>: ZabbixOpenSearch (Elasticsearch), Kibana (OpenSearch Dashboards).</li>
<li><em>Сервис файловых журналов</em>: NLog.</li>
<li><em>Модули для интеграции</em>: см. <em>«<a class="mkdocs_imported_link" href="#интеграция-с-внешними-системами">Интеграция с внешними системами</a>»</em>.</li>
</ul>
<p>См <em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4582">Перечень стороннего ПО, входящего в состав и необходимого для работы Системы</a></em>.</p>
<figure class="screenshot_with_caption">
<p><img alt="Диаграмма архитектуры Comindware Platform" src="https://kb.comindware.ru/assets/Picture1.png"/><figcaption class="caption">Диаграмма архитектуры Comindware Platform</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="безопасность-и-отказоустойчивость-системы">Безопасность и отказоустойчивость Системы</h3>
<p>В Системе предусмотрены следующие механизмы обеспечения безопасности и отказоустойчивости:</p>
<ul>
<li>Внешняя безопасность — реализуется посредством:<ul>
<li>механизма аутентификации пользователей Kerberos и OpenID;</li>
<li>сетевого экрана;</li>
<li>обратного прокси-сервера.</li>
</ul>
</li>
<li>Внутренняя безопасность — реализуется посредством ролевой модели безопасности.</li>
<li>Отказоустойчивость — реализуется посредством использованием резервных серверов и дополнительных узлов хранения и обработки данных.</li>
<li>Масштабируемость — реализуется посредством увеличения количества серверов, обрабатывающих запросы.</li>
</ul>
<p>См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4660">Безопасность</a>»</em>.</p>
<h3 id="интеграция-с-внешними-системами">Интеграция с внешними системами</h3>
<p>В Системе предусмотрены следующие механизмы интеграции с внешними системами:</p>
<ul>
<li>Git —контроль версий приложений, создаваемых с помощью Системы.</li>
<li>OData — обмен данными с внешними системами посредством REST API.</li>
<li>OpenLDAP (Active Directory) — аутентификация, управление аккаунтами и единый вход.</li>
<li>SMTP/IMAP/Exchange — получение и отправка электронных писем.</li>
<li>ESB (RabbitMQ / MSMQ) — обмен сообщениями с внешними системами в распределенных и федеративных конфигурациях.</li>
</ul>
<p>См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4675">Подключения</a>»</em>.</p>
<h2 class="pageBreakBefore" id="ландшафт-развертывания-системы">Ландшафт развертывания Системы</h2>
<p>Для обеспечения бесперебойной работы Систему необходимо развернуть в окружении, обеспечивающем достаточную производительность и отказоустойчивость.</p>
<p>Систему можно развернуть для доступа через интернет и интранет:</p>
<ul>
<li><em>в минимальной конфигурации</em> — на одной виртуальной или физической машине заказчика.</li>
<li><em>в продуктовой конфигурации</em>— на мощностях заказчика в отказоустойчивой конфигурации в соответствии с требованиями заказчика.</li>
</ul>
<h3 id="рекомендуемые-варианты-развертывания-системы">Рекомендуемые варианты развертывания Системы</h3>
<h4 id="минимальная-конфигурация">Минимальная конфигурация</h4>
<p>Компоненты типовой минимальная конфигурации Системы, предназначенной для демонстраций и реализации пилотных проектов:</p>
<ul>
<li><em><strong>Comindware Platform</strong></em>: установленный экземпляр ПО.</li>
<li><em>СУБД</em> <em>Comindware ElasticData</em>.</li>
<li><em>Сервер журналирования транзакций OpenSearch (Elasticsearch)</em> — в конфигурации с одним узлом.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Минимальная конфигурация Системы" src="https://kb.comindware.ru/assets/Picture2_2.png"/><figcaption class="caption">Минимальная конфигурация Системы</figcaption></p>
</figure>
<h4 class="pageBreakBefore" id="продуктовая-конфигурация">Продуктовая конфигурация</h4>
<p>Компоненты типовой продуктовой конфигурации, обеспечивающей дублирование и резервирование ресурсов, а также отказоустойчивость Системы:</p>
<ul>
<li><em><strong>Comindware Platform</strong></em>: установленный экземпляр ПО.</li>
<li><em>СУБД Comindware ElasticData</em>.</li>
<li><em>Сервер журналирования транзакций OpenSearch (Elasticsearch)</em>.</li>
<li><em>Обратный прокси-сервер NGINX</em> для фильтрации нежелательных запросов и ретрансляции допустимых запросов во внутреннюю сеть.</li>
<li><em>Сервер мониторинга Zabbix</em> для мониторинга доступности служб и свободного пространства на дисках.</li>
<li><em>Сервер уведомлений SMTP/IMAP</em> (необязательно) для передачи уведомлений.</li>
<li><em>Сервер LDAP</em> (необязательно) для централизованного управления инфраструктурой сети.</li>
<li><em>Сервер Git</em> (необязательно) для контроля версий приложений, создаваемых с помощью <strong>Comindware Platform</strong>.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Продуктовая конфигурация: ландшафт подсистем" src="https://kb.comindware.ru/assets/Picture3_3.png"/><figcaption class="caption">Продуктовая конфигурация: ландшафт подсистем</figcaption></p>
</figure>
<p class="pageBreakBefore">Продуктовое использование накладывает требования на следующие характеристики Системы:</p>
<ul>
<li><em>безопасность</em> — реализуется за счет настройки сетевого экрана и обратного прокси-сервера;</li>
<li><em>отказоустойчивость</em> — реализуется за счет использования резервных серверов и дополнительных узлов на серверах, хранящих данные;</li>
<li><em>масштабируемость</em> — реализуется за счет добавления дополнительных серверов, обрабатывающих запросы.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Типовой ландшафт сервисов в составе Системы" src="https://kb.comindware.ru/assets/Picture4_4.png"/><figcaption class="caption">Типовой ландшафт сервисов в составе Системы</figcaption></p>
</figure>
<h3 id="рекомендуемый-набор-серверов-приложений">Рекомендуемый набор серверов приложений</h3>
<p>Для повышения эффективности разработки и тестирования приложений, а также отказоустойчивости и безопасности эксплуатации приложений рекомендуется развернуть несколько серверов приложений (необходимость использования каждого из этих серверов определяется при составлении технических требований):</p>
<ul>
<li><em>сервер разработки</em> (development), на котором осуществляется разработка приложений;</li>
<li><em>сервер тестирования</em> (pre-production), на котором осуществляется тестирование приложений;</li>
<li><em>основной сервер</em> (production), на котором осуществляется эксплуатация приложений;</li>
<li><em>резервный сервер</em> (standby), который используется в случае перегрузки или выхода из строя основного сервера.</li>
</ul>
<h2 class="pageBreakBefore" id="техническое-обеспечение-системы">Техническое обеспечение Системы</h2>
<p>Здесь представлены рекомендуемые характеристики технического обеспечения для развёртывания Системы на мощностях заказчика под управлением операционной системы Windows или Linux.</p>
<h3 id="конфигурация-серверов-приложений">Конфигурация серверов приложений</h3>
<p>Сервер приложений размещается на физической или виртуальной машине, обеспечивая взаимодействие с пользователями, сторонними системами, ввод, обработку и хранение таких данных, как файлы базы данных, файлы конфигурации, загружаемые пользователями файлы, файлы журналов,  файлы резервных копий.</p>
<p>Следующие рекомендации позволят определить необходимую конфигурацию технического обеспечения для работы серверов приложений.</p>
<p>В минимальной конфигурации достаточно развернуть один сервер приложений для разработки, тестирования и эксплуатации приложений.</p>
<p>Приведенные ниже требования носят рекомендательный характер и позволяют обеспечить комфортную работу конечных пользователей, гражданских разработчиков и тестировщиков приложений <strong>Comindware Platform</strong>.</p>
<p>Фактические требования к техническому обеспечению могут значительно отличаться и зависят от следующих факторов:</p>
<ul>
<li>количества активных пользователей в Системе;</li>
<li>количества приложений в Системе;</li>
<li>количества запускаемых процессов;</li>
<li>количества настроенных вычислений, правил, условий и зависимостей данных;</li>
<li>объема хранимой информации и документов.</li>
</ul>
<p>Подсистемы (см. параграф <em>«<a class="mkdocs_imported_link" href="#конфигурация-подсистем">Конфигурация подсистем</a>»</em>) и виртуальные машины с ПО рекомендуется размещать на нескольких физических машинах.</p>
<p>Каналы связи между узлами Системы должны обеспечивать пропускную способность не менее 10 Гбит/с.</p>
<h3 class="pageBreakBefore" id="методика-расчета-требуемых-аппаратных-ресурсов">Методика расчета требуемых аппаратных ресурсов</h3>
<p>Здесь представлены примеры расчёта системных ресурсов отказоустойчивой системы.</p>
<p>В следующих таблицах представлена конфигурация системы для следующего количества пользователей:</p>
<ul>
<li>500 зарегистрированных;</li>
<li>200 активных;</li>
<li>25 постоянных.</li>
</ul>
<h4 id="инфраструктурные-сервисы">Инфраструктурные сервисы</h4>
<ul>
<li>Виртуальные серверы одного сервиса должны быть размещены на разных физических серверах.</li>
<li>Скорость соединения между серверами должна быть не менее 10 Гб/с.</li>
<li>SSD-накопитель для базы данных должен быть высокоскоростным и высоконадёжным.</li>
</ul>
<table style="width: 100%;">
<thead>
<tr>
<th>Логич. ядер ЦП от 3,0 ГГц</th>
<th>ОЗУ, ГБ</th>
<th>Раздел с ПО, ГБ, SSD</th>
<th>БД, ГБ, SSD</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="4">
<strong>Обратные прокси (VPS): <code>Reverse proxy1</code>, <code>Reverse proxy2</code></strong>
</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>24</td>
<td></td>
</tr>
<thead>
<tr>
<td colspan="7">
<strong>Система мониторинга и отслеживания (VPS): <code>Zabbix1</code>, <code>Zabbix2</code></strong>
</td>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>4</td>
<td>24</td>
<td>128</td>
</tr>
</tbody>
</tbody>
</table>
<h4 class="pageBreakBefore" id="продуктовый-ландшафт">Продуктовый ландшафт</h4>
<ul>
<li>Виртуальные серверы одного сервиса должны быть размещены на разных физических серверах.</li>
<li>Скорость соединения между серверами должна быть не менее 10 Гб/с.</li>
<li>SSD-накопитель для базы данных должен быть высокоскоростным и высоконадёжным.</li>
</ul>
<table style="width: 100%;">
<thead>
<tr>
<th>Логич. ядер ЦП от 3,0 ГГц</th>
<th>ОЗУ, ГБ</th>
<th>Раздел с ПО, ГБ, SSD</th>
<th>БД, ГБ, SSD</th>
<th>Загру­­­жаемые файлы, ГБ,<br/>СХД HDD</th>
<th>Жур­налы, HDD</th>
<th>Резерв­­ные копии, ГБ,<br/>СХД HDD</th>
</tr>
<tr>
<td colspan="8">
<strong>Серверы приложений (VPS): <code>CBAP-node1</code>, <code>CBAP-node2</code>, <code>CBAP-node3</code></strong>
</td>
</tr>
</thead>
<tbody>
<tr>
<td>8</td>
<td>32</td>
<td>64</td>
<td>128</td>
<td>1024</td>
<td>16</td>
<td>512</td>
</tr>
<tr>
<td colspan="7">
<strong>Сервер журналов OpenSearch (VPS): <code>OpenSearch-node1</code>, <code>OpenSearch-node2</code>, <code>OpenSearch-node3</code></strong>
</td>
</tr>
<tbody>
<tr>
<td>4</td>
<td>16</td>
<td>24</td>
<td>128</td>
<td></td>
<td>16</td>
<td>512</td>
</tr>
</tbody>
</tbody>
</table>
<h4 id="ландшафт-тестирования-и-разработки">Ландшафт тестирования и разработки</h4>
<ul>
<li>SSD-накопитель для базы данных должен быть высокоскоростным и высоконадёжным.</li>
</ul>
<table style="width: 100%;">
<thead>
<tr>
<th>Логич. ядер ЦП от 3,0 ГГц</th>
<th>ОЗУ, ГБ</th>
<th>Раздел с ПО, ГБ, SSD</th>
<th>БД, ГБ, SSD</th>
<th>Загру­­­жаемые файлы, ГБ,<br/>СХД HDD</th>
<th>Жур­налы, HDD</th>
<th>Резерв­­ные копии, ГБ,<br/>СХД HDD</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="7">
<strong>GitLab: <code>git-server</code></strong>
</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
<td>24</td>
<td>128</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td colspan="7">
<strong>Сервер приложений (VPS): <code>CBAP-test</code></strong>
</td>
</tr>
<tr>
<td>8</td>
<td>24</td>
<td>64</td>
<td>128</td>
<td>32</td>
<td>16</td>
<td>128</td>
</tr>
<tr>
<td colspan="7">
<strong>Сервер приложений (VPS): <code>CBAP-dev</code></strong>
</td>
</tr>
<tr>
<td>8</td>
<td>24</td>
<td>64</td>
<td>128</td>
<td>32</td>
<td>16</td>
<td>128</td>
</tr>
<tr>
<td colspan="7">
<strong>Сервер журналирования транзакций (VPS): <code>OpenSearch</code></strong>
</td>
</tr>
<tr>
<td>4</td>
<td>16</td>
<td>24</td>
<td>128</td>
<td></td>
<td>16</td>
<td>128</td>
</tr>
</tbody>
</table>
<h4 class="pageBreakBefore" id="минимальная-конфигурация-основного-сервера-приложений">Минимальная конфигурация основного сервера приложений</h4>
<table style="width: 100%;">
<thead>
<tr>
<th><strong>Кол-во польз.</strong></th>
<th><strong>ЦП</strong></th>
<th><strong>ОЗУ</strong></th>
<th><strong>HDD</strong></th>
<th><strong>SSD</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>1–200 активных</td>
<td>4 ядра от 3,7 ГГц + <br/>(1 ядро × 100 акт. польз. × кол-во прил.)</td>
<td>16 ГБ + <br/>(4 ГБ × 100 акт. польз. × кол-во прил.)</td>
<td>16 ГБ</td>
<td>16 ГБ</td>
</tr>
<tr>
<td>200 активных</td>
<td>4 ядра + <br/>(2 ядра × кол-во прил.)</td>
<td>16 ГБ + <br/>(8 ГБ × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>16 ГБ × кол-во прил.</td>
</tr>
<tr>
<td>300 активных</td>
<td>4 ядра + <br/>(3 ядра × кол-во прил.)</td>
<td>16 ГБ + <br/>(12 ГБ × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>16 ГБ × кол-во прил.</td>
</tr>
<tr>
<td>400 активных</td>
<td>4 ядра + <br/>(4 ядра × кол-во прил.)</td>
<td>16 ГБ + <br/>(16 ГБ × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>16 ГБ × кол-во прил.</td>
</tr>
</tbody>
</table>
<h4 id="минимальная-конфигурация-резервного-сервера-приложений">Минимальная конфигурация резервного сервера приложений</h4>
<table style="width: 100%;">
<thead>
<tr>
<th><strong>Кол-во польз.</strong></th>
<th><strong>ЦП</strong></th>
<th><strong>ОЗУ</strong></th>
<th><strong>HDD</strong></th>
<th><strong>SSD</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>1­–200</td>
<td>4 ядра от 3,7 ГГц + <br/>(1 ядро × 100 польз. × кол-во прил.)</td>
<td>16 ГБ + <br/>(4 ГБ × 100 польз. × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>8 ГБ × кол-во прил.</td>
</tr>
<tr>
<td>200</td>
<td>4 ядра + <br/>(2 ядра × кол-во прил.)</td>
<td>16 ГБ + <br/>(8 ГБ × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>8 ГБ × кол-во прил.</td>
</tr>
<tr>
<td>300</td>
<td>4 ядра + <br/>(3 ядра × кол-во прил.)</td>
<td>16 ГБ + <br/>(12 ГБ × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>8 ГБ × кол-во прил.</td>
</tr>
<tr>
<td>400</td>
<td>4 ядра + <br/>(4 ядра × кол-во прил.)</td>
<td>16 ГБ + <br/>(16 ГБ × кол-во прил.)</td>
<td>16 ГБ × кол-во прил.</td>
<td>16 ГБ × кол-во прил.</td>
</tr>
</tbody>
</table>
<h4 id="минимальная-конфигурация-серверов-разработки-и-тестирования">Минимальная конфигурация серверов разработки и тестирования</h4>
<table style="width: 100%;">
<thead>
<tr>
<th><strong>Кол-во польз.</strong></th>
<th><strong>ЦП</strong></th>
<th><strong>ОЗУ</strong></th>
<th><strong>HDD</strong></th>
<th><strong>SSD</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>1–100</td>
<td>4 ядра от 3,7 ГГц</td>
<td>16 ГБ</td>
<td>16 ГБ</td>
<td>16 ГБ</td>
</tr>
</tbody>
</table>
<h3 class="pageBreakBefore" id="конфигурация-системы-хранения-данных">Конфигурация системы хранения данных</h3>
<p>В минимальной конфигурации все папки данных сервера приложений могут храниться в одном разделе на высокопроизводительном SSD-накопителе.</p>
<p>Высокопроизводительные системы хранения (SSD DAS/SAN) должны обеспечивать производительность не меньше 100 000 IOPS на 1 сервер приложений.</p>
<p>Объем выделяемого пространства на высокопроизводительных (SSD DAS/SAN) и низкопроизводительных системах хранения (HDD DAS/SAN) следует определить в ходе составления технических требований.</p>
<p>Для оптимизации обработки, хранения и резервного копирования папки данных сервера приложений можно разместить в отдельных хранилищах:</p>
<ul>
<li><em>файлы базы данных и конфигурации</em> — SSD DAS/SAN (эти данные сервер приложений обрабатывает постоянно в оперативном режиме, что создает высокую нагрузку на подсистему хранения);</li>
<li><em>загруженные пользователями файлы</em> — HDD DAS/SAN (такие файлы хранятся долговременно, не в базе данных и запрашиваются по ссылке, поэтому для их обработки и хранения высокопроизводительная подсистема хранения не требуется);</li>
<li><em>журнал Системы</em> — HDD DAS/SAN (запись файлов журнала создает минимальную нагрузку на подсистему хранения);</li>
<li><em>резервные копии</em> — HDD DAS/SAN (резервные копии формируются периодически, используются редко, для их хранения важнее объем, а не производительность хранилища; тем не менее, скорость резервного копирования может снижаться в случае наличия большого количества мелких файлов, загруженных пользователями, в таком случае можно разместить папку резервных копий на высокопроизводительном накопителе);</li>
<li><em>временная папка</em> — SSD DAS/SAN (нагрузка при хранении и обработке временных файлов может возрастать при большом количестве активных пользователей и транзакций, загрузке пользователями множества файлов и под влиянием прочих факторов).</li>
</ul>
<h2 class="pageBreakBefore" id="конфигурация-подсистем">Конфигурация подсистем</h2>
<h3 id="конфигурация-сервера-распределённой-субд">Конфигурация сервера распределённой СУБД</h3>
<p>Сервер распределённой СУБД Apache Ignite в минимально необходимой конфигурации можно установить автоматически при развертывании <strong>Comindware Platform</strong> либо самостоятельно в требуемой конфигурации.</p>
<p><strong>Требования к конфигурации</strong></p>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4600">Apache Ignite. Установка и настройка. Краткое руководство</a></em>.</li>
</ul>
<p><strong>Примеры конфигураций</strong></p>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4600">Apache Ignite. Установка и настройка. Краткое руководство</a></em>.</li>
</ul>
<h3 id="конфигурация-сервера-журналирования-транзакций">Конфигурация сервера журналирования транзакций</h3>
<p>Сервер журналирования транзакций OpenSearch (Elasticsearch) в минимально необходимой конфигурации можно установить автоматически при развертывании <strong>Comindware Platform</strong> либо самостоятельно в требуемой конфигурации.</p>
<p><strong>Требования к конфигурации</strong></p>
<ul>
<li>Должна быть включена аутентификация.</li>
<li>Должна быть разрешена работа под любым аккаунтом, кроме стандартного (например, <code>elastic</code>).</li>
<li>Номер порта должен отличаться от стандартного 9200.</li>
<li>В конфигурации должно быть задано достаточное количество шардов: минимум 3000.</li>
</ul>
<p><strong>Примеры конфигураций</strong></p>
<ul>
<li>
<p><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4612">Установка Elasticsearch и настройка кластера Elasticsearch без сертификатов подлинности</a></em></p>
</li>
<li>
<p><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4617">Установка Elasticsearch. Краткое руководство для Windows</a></em></p>
</li>
</ul>
<h3 class="pageBreakBefore" id="конфигурация-обратного-прокси-сервера">Конфигурация обратного прокси-сервера</h3>
<p>Обратный прокси-сервер NGINX в минимально необходимой конфигурации можно установить автоматически при развертывании <strong>Comindware Platform</strong> либо самостоятельно в требуемой конфигурации.</p>
<p><strong>Требования к конфигурации</strong></p>
<ul>
<li>NGINX;</li>
<li>Модуль ModSecurity;</li>
<li>Модуль GeoIP.</li>
</ul>
<p><strong>Примеры конфигураций</strong></p>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4611">NGINX. Установка и настройка</a>»</em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4610">Модуль GeoIP для NGINX. Установка и настройка</a></em>.</li>
</ul>
<h3 class="pageBreakBefore" id="конфигурация-сервера-zabbix">Конфигурация сервера Zabbix</h3>
<p><strong>Требования к конфигурации</strong></p>
<p>Конфигурация сервера Zabbix должна обеспечивать мониторинг работоспособности Системы, как указано ниже.</p>
<ul>
<li>Мониторинг доступности сервера распределённой СУБД Apache Ignite.<ul>
<li>Сервер может быть недоступен из-за проблем с сетью.</li>
<li>На сервере может закончиться свободное место на диске.</li>
<li>Конфигурация сервера может не позволять обработать запросы, например, ввиду невозможности создания нового индекса или соответствующего ему шарду.</li>
</ul>
</li>
<li>Мониторинг доступности сервера журналирования транзакций OpenSearch (Elasticsearch)<ul>
<li>Сервер может быть недоступен из-за проблем с сетью.</li>
<li>На сервере может закончиться свободное место на диске.</li>
<li>Конфигурация сервера может не позволять обработать запросы, например, ввиду невозможности создания нового индекса или соответствующего ему шарда.</li>
</ul>
</li>
<li>Мониторинг места на дисках с базой данных, журналами, резервными копиями и т. п.</li>
<li>Мониторинг ошибок в процессе работы Системы<ul>
<li>Ошибки конфигурации Системы.</li>
<li>Ошибки в процессе эксплуатации Системы.</li>
<li>Ошибки, связанные с обновлением окружения, в котором работает Система, или компонентов самой Системы.</li>
</ul>
</li>
</ul>
<p><strong>Примеры конфигураций</strong></p>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://client.sbertech.ru/docs/public/OPM/6.0.10/common/documents/installation-guide/index.html">Platform V Monitor. Руководство по установке</a></em>.</li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4609">Zabbix. Установка и настройка. Краткое руководство</a></em>.</li>
</ul>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>