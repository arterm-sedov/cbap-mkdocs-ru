<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="5063" kb-title="Установка, запуск, инициализация и остановка ПО в Windows">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_intro">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_requirements">
<span class="md-ellipsis">
      Требования к серверу
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#общие-сведения">
<span class="md-ellipsis">
      Общие сведения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_order">
<span class="md-ellipsis">
      Порядок установки ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_server_prepare">
<span class="md-ellipsis">
      Подготовка сервера к установке ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_install_prerequisites">
<span class="md-ellipsis">
      Установка вспомогательного ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_install_sw">
<span class="md-ellipsis">
      Установка Comindware Platform
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_instance_create">
<span class="md-ellipsis">
      Создание экземпляра ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_instance_start">
<span class="md-ellipsis">
      Запуск экземпляра ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_instance_stop">
<span class="md-ellipsis">
      Остановка экземпляра ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#instance_initialize">
<span class="md-ellipsis">
      Инициализация Comindware Platform
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_instance_prepare">
<span class="md-ellipsis">
      Подготовка экземпляра ПО к разработке приложений
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_instance_upgrade">
<span class="md-ellipsis">
      Обновление экземпляра ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_instance_delete">
<span class="md-ellipsis">
      Удаление экземпляра ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#deploy_guide_windows_version_delete">
<span class="md-ellipsis">
      Удаление версии ПО
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="deploy_guide_windows_intro">Введение</h2>
<p>Для быстрого развёртывания <strong>Comindware Platform</strong> в Windows компания <strong>Comindware</strong> предоставляет дистрибутив с установщиком, настраивающим необходимое программное обеспечение.</p>
<p>Здесь представлены инструкции по развёртыванию и инициализации <strong>Comindware Platform</strong> из дистрибутива в ОС Windows.</p>
<h2 id="deploy_guide_windows_requirements">Требования к серверу</h2>
<p>Для работы <strong>Comindware Platform</strong> требуются операционная система, сервер базы данных, веб-сервер, обратный прокси-сервер и сервер журналирования.</p>
<p>Перед установкой ПО убедитесь, что сервер соответствует следующим требованиям:</p>
<ul>
<li>сервер работает под управлением <em>Windows Server</em>;</li>
<li>настройку сервера выполняет пользователь с правами администратора;</li>
<li>установлена служба <em>IIS (Internet Information Services)</em>.</li>
</ul>
<div class="notice notice-info">
<p class="admonition-title">Конфигурация сервера журналирования транзакций OpenSearch (Elasticsearch)</p>
<ul>
<li>В конфигурации сервера журналирования транзакций необходимо создать одного пользователя для <strong>Comindware Platform</strong>.</li>
<li>В конфигурации экземпляра ПО необходимо указать адрес сервера и уникальный префикс индексов OpenSearch (Elasticsearch). Индекс префикса служит для идентификации данных экземпляра ПО на сервере журналирования транзакций. Поэтому во избежание конфликтов данных для каждого экземпляра ПО следует указывать собственный префикс индекса.</li>
<li>При <a class="mkdocs_imported_link" href="#instance_initialize">инициализации экземпляра ПО</a> необходимо указать пользователя <strong>Comindware Platform</strong>, используемого сервером журналирования транзакций.</li>
<li>Экземпляр ПО будет взаимодействовать с сервером журналирования транзакций под указанным пользователем и создавать, наполнять и читать индексы с заданным префиксом.</li>
</ul>
</div>
<h2 id="общие-сведения">Общие сведения</h2>
<div class="notice notice-tip">
<p class="admonition-title">Вызов справки для скриптов</p>
<p>Ключ <code>-h</code> позволяет просмотреть справку по ключам и назначению любого скрипта для развёртывания <strong>Comindware Platform</strong>.</p>
<p>Используйте его без других ключей, например:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">version_install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-h</span></code> <br/></pre></code></div>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Обязательные ключи для скриптов</p>
<p>Если не указать обязательный ключ, скрипт запросит его после запуска.</p>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Условные обозначения</p>
<p>Значения, которые вы должны подставить согласно своей конфигурации, заключены в угловые скобки: </p>
<ul>
<li><code>&lt;instanceName&gt;</code> — имя экземпляра ПО;</li>
<li><code>&lt;portNumber&gt;</code> —  номер порта;</li>
<li><code>&lt;versionNumber&gt;</code> — номер версии ПО вида <code>X.X.XXXX.X</code> (например: <code>5.0.1234.0</code>);</li>
<li><code>&lt;prerequisitesDistPath&gt;</code> — путь к распакованному дистрибутиву вспомогательного ПО;</li>
<li><code>&lt;distPath&gt;</code> — путь к распакованному дистрибутиву ПО <strong>Comindware Platform</strong>.</li>
</ul>
</div>
<p><a class="mkdocs_imported_link" href="" id="powershell_execution_policy"></a></p>
<div class="notice notice-tip">
<p class="admonition-title">Политика выполнения PowerShell</p>
<p>В зависимости от конфигурации вашей системы для выполнения скриптов из дистрибутива <strong>Comindware Platform</strong> может потребоваться установить неограниченную политику выполнения <em>PowerShell</em>. Для этого может выполните указанные ниже действия.</p>
<ol class="colored_numbers_list">
<li>Запустите <em>PowerShell</em>.</li>
<li>
<p>Определите текущую политику выполнения <em>PowerShell</em>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">Get-ExecutionPolicy</span></code> <br/></pre></code></div>
</li>
<li>
<p>Если политика отличается от <code>Unrestricted</code>, установите неограниченную политику выполнения <em>PowerShell</em>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">Set-ExecutionPolicy</span> <span class="n">Unrestricted</span></code> <br/></pre></code></div>
</li>
<li>
<p>В запросе на изменение политики выберите вариант «<strong>Да для всех</strong>», введя букву <span class="keys"><kbd class="key-a">A</kbd></span>.</p>
</li>
</ol>
<div class="notice notice-warning">
<p class="admonition-title">Внимание!</p>
<p>По окончании работы с дистрибутивом <strong>Comindware Platform</strong> верните исходную политику выполнения <em>PowerShell</em>.</p>
</div>
</div>
<h2 id="deploy_guide_windows_order">Порядок установки ПО</h2>
<ol class="colored_numbers_list">
<li>Подготовьте сервер к установке ПО.</li>
<li>Установите и настройте необходимое вспомогательное ПО.</li>
<li>Установите ПО <strong>Comindware Platform</strong>.</li>
<li>Создайте экземпляр ПО.</li>
<li>Запустите экземпляр ПО.</li>
<li>Инициализируйте экземпляр ПО.</li>
</ol>
<h2 id="deploy_guide_windows_server_prepare">Подготовка сервера к установке ПО</h2>
<ol class="colored_numbers_list">
<li>Откройте <strong>Диспетчер серверов</strong>.</li>
<li>Добавьте в список серверов компьютер, на котором будет установлено ПО <strong>Comindware Platform</strong>.</li>
<li>Запустите <strong>Мастер добавления ролей и компонентов</strong>, выбрав пункт «<strong>Добавить роли и компоненты</strong>» для данного сервера.</li>
<li>На шаге «<strong>Тип установки</strong>» выберите пункт «<strong>Установка ролей или компонентов</strong>».</li>
<li>На шаге «<strong>Выбор сервера</strong>» укажите сервер, на котором будет установлено ПО.</li>
<li>
<p>На шаге «<strong>Роли сервера</strong>» установите следующие флажки</p>
<ul>
<li><strong>Web Server (IIS)</strong><ul>
<li><strong>Web Server</strong><ul>
<li><strong>Common HTTP Features</strong><ul>
<li>Default Document</li>
<li>HTTP Errors</li>
<li>Static Content</li>
<li>HTTP Redirection</li>
<li>WebDAV Publishing</li>
</ul>
</li>
<li><strong>Health and Diagnostics</strong><ul>
<li>HTTP Logging</li>
<li>Custom Logging</li>
<li>Request Monitor</li>
</ul>
</li>
<li><strong>Performance</strong><ul>
<li>Static Content Compression</li>
<li>Dynamic Content Compression</li>
</ul>
</li>
<li><strong>Security</strong><ul>
<li>Request Filtering</li>
<li>Basic Authentication</li>
<li>Centralized SSL</li>
<li>IP and Domain Restrictions</li>
<li>Windows Authentication</li>
</ul>
</li>
<li><strong>Application Development</strong><ul>
<li>ASP.NET 4.8 (или новее)</li>
<li>Application Initialization</li>
<li>WebSocket Protocol</li>
<li>.NET Extensibility 4.8 (или новее)</li>
<li>ISAPI Extensions</li>
<li>ISAPI Filters</li>
</ul>
</li>
<li><strong>Management Tools</strong><ul>
<li>IIS Management Console</li>
<li>IIS Management Scripts and Tools</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>На шаге «<strong>Компоненты</strong>» установите следующие флажки:</p>
<ul>
<li><strong>.NET Framework 4.8 Features</strong> (или новее)<ul>
<li>.Net Framework 4.8</li>
<li>ASP.NET 4.8</li>
<li><strong>WCF Services</strong><ul>
<li>HTTP Activation</li>
<li>TCP Port Sharing</li>
</ul>
</li>
</ul>
</li>
<li><strong>Windows Process Activation Service</strong><ul>
<li>Process Model</li>
<li>Configuration API</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Сверьтесь со следующим примером корректной конфигурации IIS:</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Пример корректно настроенных ролей и компонентов веб-сервера IIS" src="/platform/v5.0/administration/deploy/windows/img/deploy_guide_windows_iis_components.png"/><figcaption class="caption">Пример корректно настроенных ролей и компонентов веб-сервера IIS</figcaption></figure></p>
</li>
<li>
<p>На шаге «<strong>Подтверждение</strong>» нажмите кнопку «<strong>Установить</strong>» и дождитесь завершения процесса.</p>
</li>
</ol>
<h2 id="deploy_guide_windows_install_prerequisites">Установка вспомогательного ПО</h2>
<div class="notice notice-tip">
<p class="admonition-title">Необходимое вспомогательное ПО</p>
<p>Для работы Comindware Platform требуется следующее вспомогательное ПО:</p>
<ul>
<li><a class="mkdocs_imported_link" href="https://dotnet.microsoft.com/en-us/download/dotnet/8.0">.NET 8.0 SDK версии 8.0.408 или выше</a></li>
<li><a class="mkdocs_imported_link" href="https://dotnet.microsoft.com/ru-ru/download/dotnet/thank-you/runtime-aspnetcore-8.0.15-windows-hosting-bundle-installer">ASP.NET Core 8.0 Runtime - Windows Hosting Bundle Installer</a></li>
<li><a class="mkdocs_imported_link" href="https://learn.microsoft.com/en-us/java/openjdk/download#openjdk-17">Microsoft Build of OpenJDK версии 17 или выше</a></li>
</ul>
<p>Вы можете скачать требуемое ПО по ссылкам выше и установить его самостоятельно, либо установить наш дистрибутив вспомогательного ПО, следуя приведённым ниже инструкциям.</p>
<p>Также могут потребоваться:</p>
<ul>
<li><a class="mkdocs_imported_link" href="https://www.7-zip.org/">7-Zip</a> </li>
<li><a class="mkdocs_imported_link" href="https://code.visualstudio.com/Download">VSCode</a></li>
</ul>
</div>
<ol class="colored_numbers_list">
<li>Скачайте и распакуйте архив с дистрибутивом вспомогательного ПО для <strong>Comindware Platform</strong>.</li>
<li>Запустите <em>PowerShell</em> от имени администратора.</li>
<li>При необходимости установите неограниченную политику выполнения <em>PowerShell</em>. См. <em>«<a class="mkdocs_imported_link" href="#powershell_execution_policy">Политика выполнения PowerShell</a>»</em>.</li>
<li>
<p>Перейдите в папку со скриптами для развёртывания вспомогательного ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;prerequisitesDistPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
<p>Здесь <code>&lt;prerequisitesDistPath&gt;</code> — путь к распакованному дистрибутиву вспомогательного ПО (например <code>X:\&lt;distPath&gt;\X.X-release-ru-&lt;versionNumber&gt;.prerequisites.windows</code>).</p>
</li>
<li>
<p>Разблокируйте доступ к скачанным из интернета установочным файлам:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">files_unblock</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
</li>
<li>
<p>Установите необходимое вспомогательное ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">prerequisites_install</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
</li>
<li>
<p>Перезагрузите машину.</p>
</li>
<li>Запустите <em>PowerShell</em> от имени администратора.</li>
<li>
<p>Перейдите в папку со скриптами для развёртывания вспомогательного ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;prerequisitesDistPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Проверьте, что вспомогательное ПО установлено:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">prerequisites_list</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
<p>Если какое-либо вспомогательное ПО не было установлено, повторите шаги 6–10.</p>
</li>
</ol>
<h2 id="deploy_guide_windows_install_sw">Установка Comindware Platform</h2>
<ol class="colored_numbers_list">
<li>Скачайте и распакуйте архив с дистрибутивом <strong>Comindware Platform</strong>.</li>
<li>Запустите <em>PowerShell</em> от имени администратора.</li>
<li>При необходимости установите неограниченную политику выполнения <em>PowerShell</em>. См. <em>«<a class="mkdocs_imported_link" href="#powershell_execution_policy">Политика выполнения PowerShell</a>»</em>.</li>
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;distPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
<p>Здесь <code>&lt;distPath&gt;</code> — путь к распакованному дистрибутиву вспомогательного ПО (например <code>X:\&lt;distPath&gt;\X.X-release-ru-&lt;versionNumber&gt;.windows</code>).</p>
</li>
<li>
<p>Разблокируйте доступ к скачанным из интернета установочным файлам:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">files_unblock</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
</li>
<li>
<p>Установите версию ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">version_install</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
<p>Пример результата выполнения скрипта:</p>
<div class="highlight"><code><pre><span></span><code><span class="n">Operation</span> <span class="n">complete</span><span class="p">.</span></code> <br/><code></code> <br/><code><span class="c">###############################################</span></code> <br/><code><span class="n">Installer</span> <span class="n">folder</span>    <span class="p">:</span> <span class="n">C</span><span class="p">:\</span><span class="n">install</span><span class="p">\</span><span class="n">CMW_Windows_5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13334</span><span class="p">.</span><span class="n">0</span></code> <br/><code><span class="n">Version</span> <span class="n">file</span> <span class="n">path</span>   <span class="p">:</span> <span class="n">C</span><span class="p">:\</span><span class="n">install</span><span class="p">\</span><span class="n">CMW_Windows_5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13334</span><span class="p">.</span><span class="n">0</span><span class="p">\</span><span class="n">core</span><span class="p">\</span><span class="n">bin</span><span class="p">\</span><span class="n">Comindware</span><span class="p">.</span><span class="n">Platform</span><span class="p">.</span><span class="n">Core</span><span class="p">.</span><span class="n">dll</span></code> <br/><code><span class="n">Version</span>             <span class="p">:</span> <span class="n">5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13334</span><span class="p">.</span><span class="n">0</span></code> <br/><code><span class="n">Source</span> <span class="n">bin</span> <span class="n">folder</span>   <span class="p">:</span> <span class="n">C</span><span class="p">:\</span><span class="n">install</span><span class="p">\</span><span class="n">CMW_Windows_5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13334</span><span class="p">.</span><span class="n">0</span><span class="p">\</span><span class="n">core</span><span class="p">\*</span></code> <br/><code><span class="n">Target</span> <span class="n">bin</span> <span class="n">path</span>     <span class="p">:</span> <span class="n">C</span><span class="p">:\</span><span class="n">Program</span> <span class="n">Files</span><span class="p">\</span><span class="n">Comindware</span><span class="p">\</span><span class="n">CBAP</span><span class="p">\</span><span class="n">5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13334</span><span class="p">.</span><span class="n">0</span></code> <br/><code><span class="n">Command</span> <span class="n">executed</span><span class="p">.</span></code> <br/><code><span class="n">Complete</span> <span class="n">script</span> <span class="n">version_install</span><span class="p">.</span><span class="n">ps1</span><span class="p">.</span></code> <br/><code><span class="c">###############################################</span></code> <br/><code><span class="n">Status</span><span class="p">:</span> <span class="n">Completed</span></code> <br/></pre></code></div>
</li>
<li>
<p>Удостоверьтесь, что ПО установлено, вызывав список установленных версий ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">version_list</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
<p>Пример результата выполнения скрипта:</p>
<div class="highlight"><code><pre><span></span><code><span class="n">Running</span> <span class="n">script</span> <span class="n">version_list</span><span class="p">.</span><span class="n">ps1</span><span class="p">.</span></code> <br/><code><span class="p">====================================================================</span></code> <br/><code><span class="n">Source</span> <span class="n">folder</span><span class="p">:</span> <span class="n">C</span><span class="p">:\</span><span class="n">Program</span> <span class="n">Files</span><span class="p">\</span><span class="n">Comindware</span><span class="p">\</span><span class="n">CBAP</span></code> <br/><code><span class="p">====================================================================</span></code> <br/><code><span class="n">Version</span></code> <br/><code><span class="p">====================================================================</span></code> <br/><code><span class="n">5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13286</span><span class="p">.</span><span class="n">0</span></code> <br/><code><span class="n">5</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">13334</span><span class="p">.</span><span class="n">0</span></code> <br/><code></code> <br/><code><span class="c">####################################################################</span></code> <br/><code><span class="n">Command</span> <span class="n">executed</span><span class="p">.</span></code> <br/><code><span class="n">Complete</span> <span class="n">script</span> <span class="n">version_list</span><span class="p">.</span><span class="n">ps1</span><span class="p">.</span></code> <br/><code><span class="c">####################################################################</span></code> <br/><code><span class="n">Status</span><span class="p">:</span> <span class="n">Completed</span></code> <br/></pre></code></div>
</li>
</ol>
<h2 id="deploy_guide_windows_instance_create">Создание экземпляра ПО</h2>
<ol class="colored_numbers_list">
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;distPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Разверните экземпляр ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_create</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-name</span> <span class="p">&lt;</span><span class="n">instanceName</span><span class="p">&gt;</span> <span class="n">-version</span> <span class="p">&lt;</span><span class="n">versionNumber</span><span class="p">&gt;</span></code> <br/></pre></code></div>
<p>Ключи:</p>
<ul>
<li><code>name</code> — имя экземпляра;</li>
<li><code>version</code> — номер версии ПО;</li>
<li><code>port</code> (необязательно) — порт для экземпляра ПО (по умолчанию: 80).</li>
</ul>
</li>
</ol>
<h2 id="deploy_guide_windows_instance_start">Запуск экземпляра ПО</h2>
<ol class="colored_numbers_list">
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;distPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Запустите экземпляр ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_start</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-name</span> <span class="p">&lt;</span><span class="n">instanceName</span><span class="p">&gt;</span></code> <br/></pre></code></div>
<p>Ключ:</p>
<ul>
<li><code>name</code> — имя экземпляра.</li>
</ul>
</li>
</ol>
<h2 id="deploy_guide_windows_instance_stop">Остановка экземпляра ПО</h2>
<ol class="colored_numbers_list">
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"X:\&lt;distPath&gt;\X.X-release-ru-&lt;versionNumber&gt;.windows\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Остановите экземпляр ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_stop</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-name</span> <span class="p">&lt;</span><span class="n">instanceName</span><span class="p">&gt;</span></code> <br/></pre></code></div>
<p>Ключ:</p>
<ul>
<li><code>name</code> — имя экземпляра.</li>
</ul>
</li>
</ol>
<h2 id="instance_initialize">Инициализация Comindware Platform</h2>
<ol class="colored_numbers_list">
<li>
<p>Запустите веб-браузер и в адресной строке введите URL-адрес, на котором был развёрнут экземпляр ПО:</p>
<div class="highlight"><code><pre><span></span><code>http://&lt;instanceHost&gt;:&lt;portNumber&gt;</code> <br/></pre></code></div>
</li>
<li>
<p>Дождитесь запуска и отображения веб-сайта <strong>Comindware Platform</strong>, что может занять примерно 5 минут.</p>
</li>
<li>
<p>Откроется страница создания аккаунта администратора <strong>Comindware Platform</strong>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Страница создания аккаунта администратора" src="/platform/v5.0/administration/deploy/windows/../linux/img/deploy_guide_admin_account_create.png"/><figcaption class="caption">Страница создания аккаунта администратора</figcaption></figure></p>
</li>
<li>
<p>Введите учётные данные аккаунта администратора и нажмите кнопку «<strong>Создать аккаунт</strong>».</p>
<div class="notice notice-warning">
<p class="admonition-title">Внимание!</p>
<ul>
<li>В <strong>Comindware Platform</strong> всегда должен оставаться хотя бы один аккаунт администратора. Он может потребоваться для восстановления системы.</li>
<li>Аккаунт администратора, созданный при инициализации экземпляра ПО, не следует удалять, даже если впоследствии аккаунты будут синхронизироваться с Active Directory.</li>
</ul>
</div>
</li>
<li>
<p>При необходимости откроется страница активации ПО. Выполните <strong>онлайновую</strong> или <strong>ручную активацию</strong> либо нажмите кнопку «<strong>Пропустить</strong>» для первоначального ознакомления с ПО без активации.</p>
</li>
<li>
<p>При необходимости откроется страница настройки подключения к службе OpenSearch (Elasticsearch).</p>
<ul>
<li>В поле «<strong>URI</strong>» введите адрес сервера OpenSearch (Elasticsearch), например: <code>http://&lt;openSearchHost&gt;:&lt;opeSearchPort&gt;</code>.</li>
<li>При необходимости введите <strong>имя пользователя</strong> и <strong>пароль</strong> OpenSearch (Elasticsearch).</li>
<li>Установите уникальный <strong>префикс индекса</strong>, например <code>mycompanyprefix</code>.</li>
<li>Экземпляр ПО будет взаимодействовать с OpenSearch (Elasticsearch) под указанным пользователем и создавать, наполнять и читать индексы с заданным префиксом.</li>
<li>Нажмите кнопку «<strong>Далее</strong>».</li>
</ul>
</li>
<li>
<p>При необходимости откроется страница инициализации данных в OpenSearch (Elasticsearch).</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Страница инициализации данных в OpenSearch (Elasticsearch)" src="/platform/v5.0/administration/deploy/windows/../linux/img/deploy_guide_elasticsearch_initialize.png"/><figcaption class="caption">Страница инициализации данных в OpenSearch (Elasticsearch)</figcaption></figure></p>
</li>
<li>
<p>Нажмите кнопку «<strong>Обновить</strong>».</p>
</li>
<li>Дождитесь открытия начальной страницы <strong>Comindware Platform</strong>.</li>
<li>На этом этапе развертывание экземпляра <strong>Comindware Platform</strong> завершено.</li>
<li>Подготовьте экземпляр к разработке приложений.</li>
</ol>
<h2 class="pageBreakBefore" id="deploy_guide_windows_instance_prepare">Подготовка экземпляра ПО к разработке приложений</h2>
<p>Прежде чем вносить какие-либо изменения, создавать и использовать приложения, настройте резервное копирование и возможность восстановления паролей. Это позволит обеспечить работоспособность <strong>Comindware Platform</strong> в долгосрочной перспективе.</p>
<ol class="colored_numbers_list">
<li>
<p>Создайте резервную копию созданного экземпляра <strong>Comindware Platform</strong>:</p>
<ul>
<li>Создайте конфигурацию резервного копирования по расписанию.</li>
<li>Запустите резервное копирование вручную, чтобы создать первую резервную копию чистого экземпляра ПО.</li>
</ul>
<p>См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4642">Резервное копирование. Настройка, запуск и просмотр журнала сеансов</a>»</em>.</p>
</li>
<li>
<p>Настройте подключение к почтовому серверу для отправки писем для сброса пароля и двухфакторной аутентификации:</p>
<ul>
<li>Создайте подключение типа «<strong>Отправка эл. почты из процесса</strong>».</li>
<li>Установите в свойствах подключения флажок «<strong>Использовать по умолчанию</strong>».</li>
<li><strong>Отправьте тестовое сообщение</strong>, чтобы удостовериться в работоспособности подключения.</li>
<li>Не настраивайте путь передачи данных и процесс. Это не требуется для отправки уведомлений.</li>
</ul>
<p>См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4690">Отправка почты из процесса. Настройка подключения</a>»</em>.</p>
</li>
<li>
<p>Снова запустите резервное копирование вручную, чтобы создать резервную копию работоспособного экземпляра ПО.</p>
</li>
<li>Теперь можно приступать к созданию приложений на основе <strong>Comindware Platform</strong>.</li>
</ol>
<h2 id="deploy_guide_windows_instance_upgrade">Обновление экземпляра ПО</h2>
<ol class="colored_numbers_list">
<li>Скачайте и установите ПО новой версии согласно инструкциям в параграфе <em>«<a class="mkdocs_imported_link" href="#deploy_guide_windows_install_sw">Установка Comindware Platform</a>»</em>.</li>
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;distPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Запустите обновление экземпляра ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_upgrade</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-name</span> <span class="p">&lt;</span><span class="n">instanceName</span><span class="p">&gt;</span> <span class="n">-version</span> <span class="p">&lt;</span><span class="n">versionNumber</span><span class="p">&gt;</span> </code> <br/></pre></code></div>
<p>Ключи:</p>
<ul>
<li><code>name</code> — имя экземпляра ПО;</li>
<li><code>version</code> — номер версии ПО, до которой необходимо обновить экземпляр (например: <code>5.0.1234.0</code>)</li>
</ul>
</li>
<li>
<p>Просмотрите список установленных экземпляров ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_list</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
</li>
<li>
<p>Рядом с именем экземпляра ПО отобразится номер версии.</p>
</li>
</ol>
<h2 id="deploy_guide_windows_instance_delete">Удаление экземпляра ПО</h2>
<ol class="colored_numbers_list">
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;distPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Удалите экземпляр ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_delete</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-name</span> <span class="p">&lt;</span><span class="n">instanceName</span><span class="p">&gt;</span></code> <br/></pre></code></div>
<p>Ключи:</p>
<ul>
<li>
<p><code>name</code> — имя экземпляра.</p>
<p>Если не указать другие ключи, будет удалена только служба <code>comindware&lt;instanceName&gt;</code>.</p>
</li>
<li>
<p><code>deleteData</code> (необязательно) — удалить следующие объекты:</p>
<ul>
<li>базу данных из папки вида <code>C:\ProgramData\Comindware\Instances\&lt;instanceName&gt;\Data</code>;</li>
<li>пользовательские файлы экземпляра ПО из папки вида <code>C:\ProgramData\Comindware\Instances\&lt;instanceName&gt;\Streams</code>.</li>
</ul>
<p>Без указания этого ключа или ключа <code>clear</code> база данных экземпляра ПО не будет удалена.</p>
</li>
<li>
<p><code>clear</code> (необязательно)  — удалить следующие объекты:</p>
<ul>
<li>все файлы, папки, базу данных и пользовательские файлы экземпляра ПО;</li>
<li>папку экземпляра ПО вида <code>C:\ProgramData\Comindware\Instances\&lt;instanceName&gt;</code>;</li>
<li>все службы экземпляра ПО;</li>
<li>сайт и пул приложения из IIS.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="deploy_guide_windows_version_delete">Удаление версии ПО</h2>
<ol class="colored_numbers_list">
<li>
<p>Перейдите в папку со скриптами для развёртывания ПО <strong>Comindware Platform</strong>:</p>
<div class="highlight"><code><pre><span></span><code><span class="nb">cd </span><span class="s2">"&lt;distPath&gt;\CMW_Windows&lt;versionNumber&gt;\scripts"</span></code> <br/></pre></code></div>
</li>
<li>
<p>Просмотрите список установленных экземпляров ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">instance_list</span><span class="p">.</span><span class="n">ps1</span></code> <br/></pre></code></div>
</li>
<li>
<p>Удалите все экземпляры с версией ПО, которую требуется удалить, или обновите их до другой версии.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>Удалить версию ПО, которая используется в каких-либо экземплярах, не удастся.</p>
<p>Сначала удалите экземпляр по, см. <em>«<a class="mkdocs_imported_link" href="#deploy_guide_windows_instance_delete">Удаление экземпляра ПО</a>»</em>.</p>
</div>
</li>
<li>
<p>Удалите версию ПО:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">.\</span><span class="n">version_delete</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-version</span> <span class="p">&lt;</span><span class="n">versionNumber</span><span class="p">&gt;</span></code> <br/></pre></code></div>
<p>Ключ:</p>
<ul>
<li><code>version</code> — номер версии ПО (например: <code>5.0.1234.0</code>).</li>
</ul>
</li>
</ol>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4620">Пути и содержимое директорий экземпляра ПО</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4642">Резервное копирование. Настройка, запуск и просмотр журнала сеансов</a></li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4690">Отправка почты из процесса. Настройка подключения</a></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>