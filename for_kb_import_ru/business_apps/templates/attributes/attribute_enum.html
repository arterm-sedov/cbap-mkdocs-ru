<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4779" kb-title="Атрибут типа «Список значений»">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#attribute_enum_description">
<span class="md-ellipsis">
      Описание атрибута
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#attribute_enum_settings">
<span class="md-ellipsis">
      Настройка свойств атрибута
    </span>
</a>
<nav aria-label="Настройка свойств атрибута" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#attribute_enum_create_value">
<span class="md-ellipsis">
      Создание элементов списка значений
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#attribute_enum_delete_value">
<span class="md-ellipsis">
      Удаление элементов из списка значений
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#attribute_enum_examples">
<span class="md-ellipsis">
      Примеры использования
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="attribute_enum_description">Описание атрибута</h2>
<div class="notice notice-success">
<p class="admonition-title">Структура атрибута типа «Список значений»</p>
<ul>
<li>Атрибут типа «<strong>Список значений</strong>» хранит ID значения, выбранного из предварительно заданного списка.</li>
<li>Список возможных значений настраивается в свойствах атрибута и не может быть изменён при выполнении приложения.</li>
<li>Каждое возможное значение содержит:<ul>
<li><strong>Системное имя</strong> значения.</li>
<li>Отображаемые названия на <strong>русском</strong>, <strong>английском</strong> и <strong>немецком</strong> языках (достаточно указать название на одном языке).</li>
<li><strong>Цвет</strong> — числовой код <strong>в десятичном формате</strong>. Для поиска кодов цветов и их преобразования из шестнадцатеричной в десятичную форму можно воспользоваться, например, сайтом <a class="mkdocs_imported_link" href="https://convertingcolors.com/">https://convertingcolors.com/</a>.</li>
<li><strong>Значок</strong> — строка с кодом FontAwesome. Для поиска кодов значков можно воспользоваться встроенной <strong>галереей значков</strong> или сайтом <a class="mkdocs_imported_link" href="https://fontawesome.com/">https://fontawesome.com/</a>.</li>
</ul>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Получение данных из атрибута с помощью формулы</p>
<p>С помощью <strong>формулы</strong> для атрибута типа «<strong>Список значений</strong>» можно получить:</p>
<ul>
<li>
<p>ID текущего значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="err">—</span><span class="o">&gt;</span><span class="n">cmw</span><span class="p">.</span><span class="n">variantName</span></code> <br/></pre></code></div>
</li>
<li>
<p>системное имя значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="err">—</span><span class="o">&gt;</span><span class="n">cmw</span><span class="p">.</span><span class="n">variantAlias</span></code> <br/></pre></code></div>
</li>
<li>
<p>код значка значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="err">—</span><span class="o">&gt;</span><span class="n">cmw</span><span class="p">.</span><span class="n">variantIcon</span></code> <br/></pre></code></div>
</li>
<li>
<p>цвет значения атрибута в десятичном формате:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="err">—</span><span class="o">&gt;</span><span class="n">cmw</span><span class="p">.</span><span class="n">color</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Установка значения атрибута с помощью формулы</p>
<p>Чтобы c помощю <strong>формулы</strong> задать значение атрибута типа «<strong>Список значений</strong>» (например, для вычисляемого атрибута или правила на форме), необходимо:</p>
<ul>
<li>
<p>вернуть ID требуемого значения атрибута, указав системные имена атрибута и требуемого значения:</p>
<div class="highlight"><code><pre><span></span><code><span class="n">ID</span><span class="p">(</span><span class="n">ENUMVALUE</span><span class="p">(</span><span class="s">"EnumAttributeSystemName"</span><span class="p">,</span><span class="w"> </span><span class="s">"EnumValueSystemName"</span><span class="p">))</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Сравнение значения атрибута с помощью формулы</p>
<p>С помощью <strong>формулы</strong> сравнить значение атрибута типа «<strong>Список значений</strong>» с требуемым можно по системному имени значения следующими способами:</p>
<ul>
<li>
<p>равенство</p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">EnumValueSystemName</span></code> <br/></pre></code></div>
<p>или</p>
<div class="highlight"><code><pre><span></span><code><span class="n">EQUALS</span><span class="p">(</span><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="o">-&gt;</span><span class="n">cmw</span><span class="p">.</span><span class="n">variantAlias</span><span class="p">,</span><span class="w"> </span><span class="s">"EnumValueSystemName"</span><span class="p">)</span></code> <br/></pre></code></div>
<p>или</p>
<div class="highlight"><code><pre><span></span><code><span class="n">EQUALS</span><span class="p">(</span><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="p">,</span><span class="w"> </span><span class="n">ENUMVALUE</span><span class="p">(</span><span class="s">"EnumAttributeSystemName"</span><span class="p">,</span><span class="w"> </span><span class="s">"EnumValueSystemName"</span><span class="p">))</span></code> <br/></pre></code></div>
</li>
<li>
<p>неравенство</p>
<div class="highlight"><code><pre><span></span><code><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="n">EnumValueSystemName</span></code> <br/></pre></code></div>
<p>или</p>
<div class="highlight"><code><pre><span></span><code><span class="n">NOT</span><span class="p">(</span><span class="n">EQUALS</span><span class="p">(</span><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="o">-&gt;</span><span class="n">cmw</span><span class="p">.</span><span class="n">variantAlias</span><span class="p">,</span><span class="w"> </span><span class="s">"EnumValueSystemName"</span><span class="p">))</span></code> <br/></pre></code></div>
<p>или</p>
<div class="highlight"><code><pre><span></span><code><span class="n">NOT</span><span class="p">(</span><span class="n">EQUALS</span><span class="p">(</span><span class="err">$</span><span class="n">EnumAttributeSystemName</span><span class="p">,</span><span class="w"> </span><span class="n">ENUMVALUE</span><span class="p">(</span><span class="s">"EnumAttributeSystemName"</span><span class="p">,</span><span class="w"> </span><span class="s">"EnumValueSystemName"</span><span class="p">)))</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Префиксы N3 для работы с атрибутом</p>
<p>Для работы с атрибутом типа «<strong>Список значений</strong>» в выражениях на N3 (например, в сценариях) могут потребоваться следующие префиксы:</p>
<div class="highlight"><code><pre><span></span><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">object:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/object#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">cmw:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/logics#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">l10n:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/l10n#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">cmwentity:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/entity#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">string:</span><span class="w"> </span><span class="nv">&lt;http://www.w3.org/2000/10/swap/string#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">convert:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/logics/convertions#&gt;</span><span class="p">.</span></code> <br/></pre></code></div>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Получение данных из атрибута с помощью N3</p>
<p>С помощью <strong>N3</strong> для атрибута типа «<strong>Список значений</strong>» можно получить:</p>
<ul>
<li>
<p>ID определённого значения:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">(</span><span class="s">"EnumAttributeSystemName"</span> <span class="s">"enumValueSystemName"</span><span class="p">)</span> <span class="nn">convert</span><span class="p">:</span><span class="nt">enumValue</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
<li>
<p>объект с атрибутом:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">(</span><span class="s">"TemplateSystemName"</span> <span class="s">"EnumAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?enumAttribute</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
<li>
<p>из объекта с атрибутом — массив возможных значений атрибута в текущей записи:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">?item</span> <span class="err">?enumAttribute</span> <span class="err">?enumAttributeValues</span><span class="p">.</span></code> <br/></pre></code></div>
<p><strong>Из этого массива можно получить:</strong></p>
<ul>
<li>
<p>ID текущего значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">?enumAttributeValues</span> <span class="nn">cmw</span><span class="p">:</span><span class="nt">variantName</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
<li>
<p>системное имя значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">?enumAttributeValues</span> <span class="nn">cmw</span><span class="p">:</span><span class="nt">variantAlias</span> <span class="err">?enumValueSystemName</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
<li>
<p>код значка значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">?enumAttributeValues</span> <span class="nn">cmw</span><span class="p">:</span><span class="nt">variantIcon</span> <span class="err">?enumValueIcon</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
<li>
<p>цвет значения атрибута в десятичном формате:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">?enumAttributeValues</span> <span class="nn">cmw</span><span class="p">:</span><span class="nt">color</span> <span class="err">?enumValueColor</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
</ul>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Получение значения атрибута на определённом языке с помощью N3</p>
<p>С помощью <strong>N3</strong> для атрибута типа «<strong>Список значений</strong>» можно получить названия значения атрибута на английском, русском и немецком языках:</p>
<div class="highlight"><code><pre><span></span><code><span class="c"># Находим атрибут EnumAttributeSystemName в шаблоне TemplateSystemName.</span></code> <br/><code><span class="p">(</span><span class="s">"TemplateSystemName"</span> <span class="s">"EnumAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?enumAttribute</span><span class="p">.</span></code> <br/><code><span class="c"># Присваиваем переменной ?enumAttributeValues</span></code> <br/><code><span class="c"># объект со списком значений атрибута.</span></code> <br/><code><span class="err">?item</span> <span class="err">?enumAttribute</span> <span class="err">?enumAttributeValues</span><span class="p">.</span></code> <br/><code><span class="c"># Присваиваем переменной ?enumValueId</span></code> <br/><code><span class="c"># объект с выбранным значением атрибута.</span></code> <br/><code><span class="err">?enumAttributeValues</span> <span class="nn">cmw</span><span class="p">:</span><span class="nt">variantName</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code><span class="c"># Присваиваем переменной ?enumAttributeValues массив объектов</span></code> <br/><code><span class="c"># с заполненными названиями значения атрибута на всех языках.</span></code> <br/><code><span class="err">?enumValueId</span> <span class="nn">l10n</span><span class="p">:</span><span class="nt">text</span> <span class="err">?enumValueLanguageVersions</span><span class="p">.</span></code> <br/><code><span class="c"># Начинаем цикл по ?enumValueLanguageVersions</span></code> <br/><code>    <span class="c"># Присваиваем переменной ?langCodeStr код языка</span></code> <br/><code>    <span class="c"># названия значения атрибута на текущей итерации цикла.</span></code> <br/><code>    <span class="err">?enumValueLanguageVersions</span> <span class="nn">l10n</span><span class="p">:</span><span class="nt">lang</span> <span class="err">?langCode</span><span class="p">.</span></code> <br/><code>    <span class="p">(</span><span class="s">"{0}"</span> <span class="err">?langCode</span><span class="p">)</span> <span class="nn">string</span><span class="p">:</span><span class="nt">format</span> <span class="err">?langCodeStr</span><span class="p">.</span></code> <br/><code>    <span class="c"># Сравниваем код языка для значения атрибута с желаемым.</span></code> <br/><code>    <span class="c"># "ru" — код русского языка, "en" — английского, "de" — немецкого.</span></code> <br/><code>    <span class="err">?langCodeStr</span> <span class="nn">cmwentity</span><span class="p">:</span><span class="nt">contains</span> <span class="s">"ru"</span><span class="p">.</span></code> <br/><code>        <span class="c"># Если предыдущее предложение возвращает true,</span></code> <br/><code>        <span class="c"># записываем значение на русском языке в вычисляемый атрибут.</span></code> <br/><code>        <span class="err">?names</span> <span class="nn">l10n</span><span class="p">:</span><span class="nt">data</span> <span class="err">?value</span><span class="p">.</span></code> <br/><code><span class="c"># переходим к следующей итерации по ?enumValueLanguageVersions.</span></code> <br/></pre></code></div>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Установка значения атрибута с помощью N3</p>
<p>Чтобы c помощю <strong>N3</strong> задать значение атрибута типа «<strong>Список значений</strong>» (например, для вычисляемого атрибута или правила на форме), необходимо:</p>
<ul>
<li>
<p>получить ID требуемого значения атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="p">(</span><span class="s">"EnumAttributeSystemName"</span> <span class="s">"ValueSystemName"</span><span class="p">)</span> <span class="nn">convert</span><span class="p">:</span><span class="nt">enumValue</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
<li>
<p>вернуть полученный ID:</p>
<div class="highlight"><code><pre><span></span><code><span class="err">?enumIdOverdue</span> <span class="err">-&gt;</span> <span class="err">?value</span><span class="p">.</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Сравнение значения атрибута с помощью с помощью N3</p>
<p>С помощью <strong>N3</strong> для атрибута типа «<strong>Список значений</strong>» можно выполнять сравнение по системному имени его значения:</p>
<ul>
<li>
<p>Сравнение значения атрибута с требуемым:</p>
<div class="highlight"><code><pre><span></span><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">object:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/object#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">cmw:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/logics#&gt;</span><span class="p">.</span></code> <br/><code><span class="p">{</span></code> <br/><code>    <span class="c"># Получаем атрибут типа «Список значений» из шаблона по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"TemplateSystemName"</span> <span class="s">"EnumAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?enumAttribute</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем коллекцию возможных значений атрибута.</span></code> <br/><code>    <span class="err">?item</span> <span class="err">?enumAttribute</span> <span class="err">?enumAttributeValues</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем системное имя значения атрибута в текущей записи.</span></code> <br/><code>    <span class="err">?enumAttributeValues</span> <span class="nn">cmw</span><span class="p">:</span><span class="nt">variantAlias</span> <span class="err">?enumValueSystemName</span><span class="p">.</span></code> <br/><code>    <span class="c"># Сравниваем системное имя значения атрибута с требуемым</span></code> <br/><code>    <span class="c"># и возвращаем результат.</span></code> <br/><code>    <span class="err">if</span></code> <br/><code>    <span class="p">{</span></code> <br/><code>        <span class="err">?enumValueSystemName</span> <span class="err">==</span> <span class="s">"targetValueSystemName"</span><span class="p">.</span></code> <br/><code>    <span class="p">}</span></code> <br/><code>    <span class="err">then</span></code> <br/><code>    <span class="p">{</span></code> <br/><code>        <span class="l">true</span> <span class="err">-&gt;</span> <span class="err">?value</span><span class="p">.</span></code> <br/><code>    <span class="p">}</span></code> <br/><code>    <span class="err">else</span></code> <br/><code>    <span class="p">{</span></code> <br/><code>        <span class="l">false</span> <span class="err">-&gt;</span> <span class="err">?value</span><span class="p">.</span></code> <br/><code>    <span class="p">}</span></code> <br/><code><span class="p">}</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
<div class="notice notice-tip">
<p class="admonition-title">Фильтрация значения атрибута с помощью с помощью N3</p>
<p>
С помощью <strong>N3</strong> для атрибута типа «<strong>Список значений</strong>» можно выполнять фильтрацию по системному имени его значения:</p>
<ul>
<li>
<p>Фильтрация (в таблице шаблона) записей с требуемым значением атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">convert:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/logics/convertions#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">object:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/object#&gt;</span><span class="p">.</span></code> <br/><code><span class="p">{</span></code> <br/><code>    <span class="c"># Получаем атрибут типа «Список значений» из шаблона по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"TemplateSystemName"</span> <span class="s">"EnumAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?enumAttribute</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем ID значения атрибута по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"EnumAttributeSystemName"</span> <span class="s">"enumValueSystemName"</span><span class="p">)</span> <span class="nn">convert</span><span class="p">:</span><span class="nt">enumValue</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code>    <span class="c"># Возвращаем записи, у которых атрибут имеет значение "enumValueSystemName".</span></code> <br/><code>    <span class="err">?item</span> <span class="err">?enumAttribute</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code><span class="p">}</span></code> <br/></pre></code></div>
</li>
<li>
<p>Фильтрация добавляемых записей (в таблице на форме или раскрывающемся списке на форме) записей с требуемым значением атрибута:</p>
<p><div class="highlight"><code><pre><span></span><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">convert:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/logics/convertions#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">object:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/object#&gt;</span><span class="p">.</span></code> <br/><code><span class="p">{</span></code> <br/><code>    <span class="c"># Получаем атрибут типа «Список значений» из шаблона по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"TemplateSystemName"</span> <span class="s">"EnumAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?enumAttribute</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем ID значения атрибута по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"EnumAttributeSystemName"</span> <span class="s">"enumValueSystemName"</span><span class="p">)</span> <span class="nn">convert</span><span class="p">:</span><span class="nt">enumValue</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code>    <span class="c"># Фильтруем и возвращаем записи, </span></code> <br/><code>    <span class="c"># у которых атрибут имеет значение "enumValueSystemName".</span></code> <br/><code>    <span class="err">?filteredRecordIds</span> <span class="err">?enumAttribute</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code>    <span class="err">?filteredRecordIds</span> <span class="err">-&gt;</span> <span class="err">?value</span><span class="p">.</span></code> <br/><code><span class="p">}</span></code> <br/></pre></code></div>
</p>
</li>
<li>
<p>Фильтрация отображаемых записей (в таблице на форме, раскрывающемся списке на форме, вычисляемом атрибуте или правиле для формы) записей с требуемым значением атрибута:</p>
<div class="highlight"><code><pre><span></span><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">convert:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/logics/convertions#&gt;</span><span class="p">.</span></code> <br/><code><span class="k">@prefix</span><span class="w"> </span><span class="nn">object:</span><span class="w"> </span><span class="nv">&lt;http://comindware.com/ontology/object#&gt;</span><span class="p">.</span></code> <br/><code><span class="p">{</span></code> <br/><code>    <span class="c"># Получаем атрибут типа «Запись» из шаблона с коллекцией записей.</span></code> <br/><code>    <span class="p">(</span><span class="s">"ParentTemplateSystemName"</span> <span class="s">"RecordAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?RecordAttribute</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем атрибут типа «Список значений» из связанного шаблона по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"LinkedTemplateSystemName"</span> <span class="s">"EnumAttributeSystemName"</span><span class="p">)</span> <span class="nn">object</span><span class="p">:</span><span class="nt">findProperty</span> <span class="err">?enumAttribute</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем ID значения атрибута по системному имени.</span></code> <br/><code>    <span class="p">(</span><span class="s">"EnumAttributeSystemName"</span> <span class="s">"enumValueSystemName"</span><span class="p">)</span> <span class="nn">convert</span><span class="p">:</span><span class="nt">enumValue</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code>    <span class="c"># Получаем коллекцию записей из атрибута RecordAttribute.</span></code> <br/><code>    <span class="err">?item</span> <span class="err">?RecordAttribute</span> <span class="err">?filteredRecordIds</span><span class="p">.</span></code> <br/><code>    <span class="c"># Фильтруем и возвращаем записи,</span></code> <br/><code>    <span class="c"># у которых атрибут имеет значение "enumValueSystemName".</span></code> <br/><code>    <span class="err">?filteredRecordIds</span> <span class="err">?enumAttribute</span> <span class="err">?enumValueId</span><span class="p">.</span></code> <br/><code>    <span class="err">?filteredRecordIds</span> <span class="err">-&gt;</span> <span class="err">?value</span><span class="p">.</span></code> <br/><code><span class="p">}</span></code> <br/></pre></code></div>
</li>
</ul>
</div>
<h2 class="pageBreakBefore" id="attribute_enum_settings">Настройка свойств атрибута</h2>
<p>Помимо <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4765">общих свойств</a></strong> для атрибута типа «<strong>Список значений</strong>» предусмотрены перечисленные ниже свойства.</p>
<ul>
<li>
<p>Вкладка «<strong>Свойства</strong>»</p>
<ul>
<li>«<strong>Вычислять автоматически</strong>» — установите этот флажок, чтобы значение атрибута вычислялось во время работы приложения. См. «<strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4770">Вычисляемые атрибуты</a></strong>».</li>
<li><strong>Формат отображения:</strong><ul>
<li><strong>Текст</strong> — значения атрибута будут отображаться в виде простого текста;</li>
<li><strong>Индикатор</strong> — перед значением атрибута будет отображаться кружок (если не задан значок) или значок заданного цвета;</li>
<li><strong>Бейдж</strong> — значение и значок атрибута будут отображаться на подложке заданного цвета. См. <a class="mkdocs_imported_link" href="#attribute_enum_examples">пример</a>.</li>
</ul>
</li>
</ul>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Свойства атрибута типа «Список значений»" src="/platform/v5.0/business_apps/templates/attributes/img/attribute_enum_properties.png"/><figcaption class="caption">Свойства атрибута типа «Список значений»</figcaption></figure></p>
</li>
<li>
<p>Вкладка «<strong>Список значений</strong>»</p>
<ul>
<li><strong>Системное имя</strong> <strong>(обязательное поле)</strong> — системное имя элемента списка.</li>
<li><strong>EN</strong> — английское название пункта в списке.</li>
<li><strong>DE</strong> — немецкое название пункта в списке.</li>
<li><strong>RU</strong> — русское название пункта в списке.</li>
<li><strong>Цвет</strong> — цвет, которым будет отображаться значение атрибута.</li>
<li><strong>Значок</strong> — значок, который будет отображаться рядом со значением атрибута.</li>
</ul>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Список значений" src="/platform/v5.0/business_apps/templates/attributes/img/attribute_enum_properties_value_list_tab.png"/><figcaption class="caption">Список значений</figcaption></figure></p>
</li>
</ul>
<h3 class="pageBreakBefore" id="attribute_enum_create_value">Создание элементов списка значений</h3>
<ol class="colored_numbers_list">
<li>На вкладке «<strong>Список значений</strong>» нажмите кнопку «<strong>Создать</strong>».</li>
<li>Нажмите поле «<strong>Системное имя</strong>» и введите системное имя элемента списка.</li>
<li>Нажмите поле «<strong>EN</strong>» и введите английское отображаемое название пункта в списке.</li>
<li>Нажмите поле «<strong>RU</strong>» и введите русское отображаемое название пункта в списке.</li>
<li>Нажмите поле «<strong>Цвет</strong>» и выберите цвет пункта в списке.</li>
<li>Нажмите поле «<strong>Значок</strong>» и выберите значок пункта в списке.</li>
<li>Повторите шаги 1–5, чтобы создать остальные элементы списка.</li>
<li>Нажмите кнопку «<strong>Сохранить</strong>», чтобы сохранить атрибут.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Создание элементов списка значений" src="/platform/v5.0/business_apps/templates/attributes/img/attribute_enum_create_value_list.png"/><figcaption class="caption">Создание элементов списка значений</figcaption></p>
</figure>
<h3 id="attribute_enum_delete_value">Удаление элементов из списка значений</h3>
<ol class="colored_numbers_list">
<li>На вкладке «<strong>Список значений</strong>» установите флажки выбора для элементов, подлежащих удалению.</li>
<li>Нажмите кнопку «<strong>Удалить</strong>».</li>
<li>В отобразившемся окне подтверждения нажмите кнопку «<strong>Удалить</strong>».</li>
<li>Нажмите кнопку «<strong>Сохранить</strong>», чтобы сохранить атрибут.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Удаление элементов из списка значений" src="/platform/v5.0/business_apps/templates/attributes/img/attribute_enum_delete_values.png"/><figcaption class="caption">Удаление элементов из списка значений</figcaption></p>
</figure>
<h2 id="attribute_enum_examples">Примеры использования</h2>
<p>Ознакомьтесь с перечисленными ниже подробными статьями, а также простейшим примером настройки атрибута типа «<strong>Список значений</strong>».</p>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4913">Вычисление текущего значения</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4916">Вычисление значения по справочнику</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5077">Фильтрация связанных записей по значению атрибута с помощью N3</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4920">Вычисление значения с помощью N3 и формул</a></em></li>
</ul>
<div class="notice notice-example">
<p class="admonition-title">Выбор типа ТС из списка значений на форме</p>
<p><strong>Исходные данные</strong></p>
<p>В приложении настроен и помещён на форму следующий атрибут:</p>
<ul>
<li>
<p><em>Тип транспортного средства</em></p>
<ul>
<li><strong>Тип данных: список значений</strong></li>
<li><strong>Формат отображения: бейдж</strong></li>
<li><strong>Список значений:</strong></li>
</ul>
<table style="width: 100%;">
<thead>
<tr>
<th>Системное имя</th>
<th>EN</th>
<th>RU</th>
<th>Цвет</th>
<th>Значок</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bus</code></td>
<td><em>Bus</em></td>
<td><em>Автобус</em></td>
<td><code style="background-color: #ff0000; color: #ffffff;">#ff0000</code></td>
<td><i class="fa-light fa-bus">&zwnj;<!--icon--></i> bus</td>
</tr>
<tr>
<td><code>passengerCar</code></td>
<td><em>Car</em></td>
<td><em>Легковой автомобиль</em></td>
<td><code style="background-color: #0000ff; color: #ffffff;">#0000ff</code></td>
<td><i class="fa-light fa-car">&zwnj;<!--icon--></i> car</td>
</tr>
<tr>
<td><code>truck</code></td>
<td><em>Truck</em></td>
<td><em>Грузовик</em></td>
<td><code style="background-color: #00ff00;">#00ff00</code></td>
<td><i class="fa-light fa-truck">&zwnj;<!--icon--></i> truck</td>
</tr>
<tr>
<td><code>van</code></td>
<td><em>Minivan</em></td>
<td><em>Микроавтобус</em></td>
<td><code style="background-color: #ffff00;">#ffff00</code></td>
<td><i class="fa-light fa-van-shuttle">&zwnj;<!--icon--></i> van-shuttle</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Результирующее поведение</strong></p>
<ul>
<li>Поле <em>«Тип транспортного средства»</em> будет отображаться как раскрывающийся список с названиями и значками автомобилей, пункты списка будут окрашены указанными цветами:</li>
</ul>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Раскрывающийся список значений на форме" src="/platform/v5.0/business_apps/templates/attributes/img/attribute_enum_example.png"/><figcaption class="caption">Раскрывающийся список значений на форме</figcaption></figure></p>
</div>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4913">Атрибут типа «Список значений». Вычисление текущего значения</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4916">Атрибут типа «Список значений». Вычисление значения по справочнику</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=5077">Атрибут типа «Список значений». Фильтрация связанных записей по значению атрибута с помощью N3</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4920">Атрибут типа «Список значений». Вычисление значения с помощью N3 и формул</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4765">Общие свойства атрибутов</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4772">Атрибуты. Определения, типы, настройка, архивирование, удаление</a></em></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>