<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr"> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <nav aria-label="Содержание" class="md-nav md-nav--secondary"> <div class="mce-toc"> <h2 class="toc-heading"> Содержание </h2> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#введение"> <span class="md-ellipsis"> Введение </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#установка-zabbix-agent-из-msi-пакета"> <span class="md-ellipsis"> Установка Zabbix Agent из MSI-пакета </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#проверка-установки-zabbix-agent"> <span class="md-ellipsis"> Проверка установки Zabbix Agent </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#добавление-windows-хоста-в-сеть-мониторинга"> <span class="md-ellipsis"> Добавление Windows-хоста в сеть мониторинга </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#использованные-ресурсы"> <span class="md-ellipsis"> Использованные ресурсы </span> </a> </li> </ul> </div> </nav> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset">  <h2 id="введение">Введение</h2> <p>Программное обеспечение <em>Zabbix Agent</em> позволяет осуществлять мониторинг устройств, на которые оно установлено. Для сбора и отображения данных мониторинга используется ПО <em>Zabbix Server</em>. См. статью «<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2292">Zabbix Server, Zabbix Agent, Zabbix Frontend и MySQL. Инструкции по установке</a>».</p> <p>Здесь представлены инструкции по установке и настройке Zabbix Agent в операционной системе MS Windows.</p> <h2 id="установка-zabbix-agent-из-msi-пакета">Установка Zabbix Agent из MSI-пакета</h2> <ol class="colored_numbers_list"> <li>Скачайте MSI-пакет <em>Zabbix Agent</em> по ссылке <a class="mkdocs_imported_link" href="https://www.zabbix.com/download_agents">https://www.zabbix.com/download_agents</a></li> </ol> <p><img alt="Скачивание MSI-пакета Zabbix Agent" src="https://kb.comindware.ru/assets/img_63bbfec30de92.png"/></p> <p><em>Скачивание MSI-пакета Zabbix Agent</em></p> <ol class="colored_numbers_list" start="2"> <li> <p>Запустите установку MSI-пакета.</p> </li> <li> <p>В процессе установки выберите папку для установки Zabbix Agent.</p> </li> <li> <p>Настройте конфигурацию службы <em>Zabbix Agent</em>:</p> </li> </ol> <ul> <li><strong>Host name</strong> — имя хоста;</li> <li><strong>Zabbix server IP/DNS</strong> — IP-адрес <em>Zabbix Server</em> (в запросах с неизвестных адресов будет отказано);</li> <li><strong>Agent listen port</strong> — номер сетевого порта <em>Zabbix Agent</em> (10050 по-умолчанию);</li> <li><strong>Server or Proxy for active checks</strong> — IP-адрес сервера для активных проверок агента Zabbix;</li> <li><strong>Enable PSK</strong> — установите этот флажок, чтобы впоследствии настроить зашифрованный канал связи между <em>Zabbix Agent</em> и <em>Zabbix Server</em>;</li> <li><strong>Add agent location to the PATH</strong> — установите этот флажок, чтобы добавить путь к агенту в переменную среды PATH.</li> </ul> <figure class="screenshot_with_caption"> <p><img alt="Настройка конфигурации службы Zabbix Agent" src="https://kb.comindware.ru/assets/img_63bbfef9ee8a0.png"/><figcaption class="caption">Настройка конфигурации службы Zabbix Agent</figcaption></p> </figure> <h2 id="проверка-установки-zabbix-agent">Проверка установки Zabbix Agent</h2> <ol class="colored_numbers_list"> <li>Откройте <em>Брандмауэр Защитника Windows</em> в режиме администратора. </li> <li>Перейдите на вкладку «<strong>Правила для входящих подключений</strong>». </li> <li>Удостоверьтесь, что установщик <em>Zabbix Agent</em> создал правило, разрешающее входящие запросы по сетевому порту 10050. </li> <li>Если правила нет, создайте его и перезагрузите компьютер.</li> </ol> <figure class="screenshot_with_caption"> <p><img alt="Проверка наличия правила для входящих подключений Zabbix Agent" src="https://kb.comindware.ru/assets/img_63bbff2a30cfd.png"/><figcaption class="caption">Проверка наличия правила для входящих подключений Zabbix Agent</figcaption></p> </figure> <ol class="colored_numbers_list" start="5"> <li>Откройте приложение «<em>Службы</em>». </li> <li>Удостоверьтесь, что служба <em>Zabbix Agent</em> находится в состоянии «<strong>Выполняется</strong>». </li> <li>Если состояние службы <em>Zabbix Agent</em> отличается от «<strong>Выполняется</strong>», установите состояние «<strong>Выполняется</strong>» и перезагрузите компьютер.</li> </ol> <p><img alt="" src="https://kb.comindware.ru/assets/img_63bbff44016eb.png"/></p> <p><em>Проверка состояния Zabbix Agent в диспетчере служб</em></p> <h2 id="добавление-windows-хоста-в-сеть-мониторинга">Добавление Windows-хоста в сеть мониторинга</h2> <ol class="colored_numbers_list"> <li>Откройте <em>Zabbix Frontend</em> (см. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2292">Zabbix Server, Zabbix Agent, Zabbix Frontend и MySQL. Инструкции по установке</a></em>). Для э того в адресной строке браузера наберите: <code>&lt;http://zabbix-server-ip-address:8080&gt;</code> </li> <li>Откройте раздел «<strong>Monitoring</strong>» &gt; «<strong>Hosts</strong>» и нажмите кнопку «<strong>Create host</strong>».</li> </ol> <figure class="screenshot_with_caption"> <p><img alt="Создание хоста" src="https://kb.comindware.ru/assets/img_63bc000e92138.png"/><figcaption class="caption">Создание хоста</figcaption></p> </figure> <ol class="colored_numbers_list" start="3"> <li>Задайте имя хоста в поле «<strong>Host name</strong>». </li> <li>Выберите шаблон «<strong>Template OS Linux by Zabbix agent</strong>». </li> <li>Создайте группу мониторинга для хоста или добавьте его в существующую группу. </li> <li>Под полем «<strong>Interfaces</strong>» нажмите кнопку «<strong>Add</strong>» и в раскрывающемся меню выберите пункт «<strong>Agent</strong>».</li> </ol> <figure class="screenshot_with_caption"> <p><img alt="Настройка свойств хоста Zabbix Agent" src="https://kb.comindware.ru/assets/img_63bbffd613538.png"/><figcaption class="caption">Настройка свойств хоста Zabbix Agent</figcaption></p> </figure> <ol class="colored_numbers_list" start="7"> <li>В поле «<strong>Agent</strong>» задайте IP-адрес или доменное имя компьютера, на котором установлен <em>Zabbix Agent</em>.</li> <li>Если при установке <em>Zabbix Agent</em> был указан сетевой порт, отличный от 10050, укажите используемый порт</li> <li>Нажмите кнопку «<strong>Add</strong>».</li> </ol> <figure class="screenshot_with_caption"> <p><img alt="Настройка IP-адреса хоста Zabbix Agent" src="https://kb.comindware.ru/assets/img_63bbffb0a5b4a.png"/><figcaption class="caption">Настройка IP-адреса хоста Zabbix Agent</figcaption></p> </figure> <ol class="colored_numbers_list" start="10"> <li>Перейдите в раздел «<strong>Monitoring</strong>» &gt; «<strong>Hosts</strong>».</li> <li>В списке хостов должна появиться новая запись.</li> <li>Подождите приблизительно 2 минуты, пока индикатор статуса доступности ZBX не станет зелёным.</li> </ol> <figure class="screenshot_with_caption"> <p><img alt="Статус хоста Zabbix Agent" src="https://kb.comindware.ru/assets/img_63bbfe8013410.png"/><figcaption class="caption">Статус хоста Zabbix Agent</figcaption></p> </figure> <ol class="colored_numbers_list" start="13"> <li>Если индикатор красный, удостоверьтесь, что:</li> </ol> <ul> <li>сетевой экран на машине, где развернут <em>Zabbix Server</em>, разрешает обмен данными через порт 10051;</li> <li>сетевой экран и (или) <em>Брандмауэр Защитника Windows</em> на машине, где развернут <em>Zabbix Agent</em>, разрешает обмен данными через порт 10050;</li> <li>значения <code>Server</code> и <code>ServerActive</code> в файле конфигурации <em>Zabbix Agent</em> <code>/etc/zabbix/zabbix_agentd.conf</code> соответствуют IP-адресу <em>Zabbix Server</em>:</li> </ul> <div class="highlight"><code><pre><span></span><code>Server=192.168.0.1 # ip-адрес приведён как пример</code><br/>
</pre></code></div> <div class="highlight"><code><pre><span></span><code>ServerActive=192.168.0.1 # ip-адрес приведён как пример</code><br/>
</pre></code></div> <div class="notice notice-info"> <p class="admonition-title">Примечание</p> <p>При любых изменениях в файле конфигурации необходимо остановить и снова запустить (при перезапуске используется конфигурация из памяти) сервис <em>Zabbix Agent</em> или перезагрузить компьютер.</p> </div> <h2 id="использованные-ресурсы">Использованные ресурсы</h2> <p><a class="mkdocs_imported_link" href="https://www.zabbix.com/documentation/current/en/manual/installation/install_from_packages/win_msi">Официальная инструкция по установке Zabbix Agent в Windows из MSI-пакета (на английском языке)</a></p> </article> </div> </div> <a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#"> <i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i> К началу </a> </main> </div> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>