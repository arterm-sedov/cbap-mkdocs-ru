---
title: 'Урок 4. Согласование, аудит, публикация, контроль изменений'
kbId: 5128
tags:
  # Common tutorial_architect tags
  - Architect
  - BPMN
  - аналитика 
  - архитектор
  - архитект
  - автоматизация
  - бизнес-процессы
  - документооборот
  - корпоративная архитектура
  - процессная архитектура
  - обучение
  - оргструктура
  - организационно-функциональная структура
  - платформа
  - управление процессами
  - цифровая трансформация
  # Lesson-specific tags:
  - согласование
  - контроль изменений
  - формы и атрибуты
  - исполняемые процессы
  - сценарии
  - шаблоны моделей
hide: tags
---

# Урок 4. Согласование, аудит, публикация, контроль изменений {: #tutorial_architect_lesson_4 }

## Введение и бизнес-логика {: #tutorial_architect_lesson_4_intro }

В ходе этого урока вы научитесь настраивать и использовать исполняемые процессы и интегрировать их с архитектурными моделями с помощью **{{ productNameEnterprise }}**:

- создавать исполняемые процессы и интегрировать их с архитектурными моделями;
- настраивать шаблоны архитектурных моделей, их атрибуты и формы;
- настраивать кнопки и сценарии для автоматизации операций;
- реализовывать процессы согласования архитектурных изменений.

Освоив этот урок, вы сможете обеспечить качественный контроль изменений корпоративной архитектуры через формализованные и автоматизированные процессы согласования, что снижает риски ошибок, обеспечивает вовлечённость всех заинтересованных сторон и контроль внедрения новых архитектурных моделей.

**Предусловия:** пройден [урок 3 «Моделирование процессной архитектуры»][tutorial_architect_lesson_3].

**Расчётная продолжительность:** 50 мин.

!!! warning "Бизнес-логика"

    Компания внедряет новые процессы и совершенствует корпоративную архитектуру согласно требованиям бизнеса и регуляторов.
    
    Для обеспечения качества и прозрачности новых решений требуется не только моделировать процессы, но и управлять их изменениями: согласовывать процессы силами лиц, принимающих решения относительно корпоративной архитектуры.
    
    Это позволит быстро адаптироваться к изменениям бизнеса и законодательства.

<div class="admonition question" markdown="block">

## Определения {: #tutorial_architect_lesson_4_definitions }

- **Согласование** — процесс утверждения изменений с фиксацией решений и комментариев.
- **Модель** — формализованное представление архитектурного объекта (например, процесса, элемента BPMN, бизнес-способности и т.&nbsp;п.), включающее его структуру, атрибуты, взаимосвязи и поведение. Модели используются для описания, анализа и автоматизации архитектурных решений.
- **Шаблон модели** — структура для настройки и хранения архитектурных моделей, содержит атрибуты, формы и другие данные модели. Используется аналогично шаблону записи. Шаблон модели можно связать с исполняемым шаблоном процесса.
- **Исполняемый процесс** — процесс, моделируемый с помощью диаграммы процесса (BPMN 2.0), который может быть запущен и выполнен в автоматизированной системой. Такой процесс управляет последовательностью задач, действий, назначением исполнителей, выполнением сценариев, отправкой сообщений и позволяет автоматизировать бизнес-логику и контроль изменений.

</div>

## Темы, навыки и задания урока {: #tutorial_architect_lesson_4_taxonomy }

### Темы {: #tutorial_architect_lesson_4_topics }

- Использование исполняемых процессов в сочетании с архитектурными моделями предприятия
- Настройка шаблонов, атрибутов и форм архитектурных моделей
- Настройка кнопок и сценариев для автоматизации операций
- Выполнение процессов согласования корпоративной архитектуры

### Навыки {: #tutorial_architect_lesson_4_skills }

- Настраивать и выполнять исполняемые процессы
- Интегрировать исполняемые процессы с архитектурными моделями
- Настраивать атрибуты и формы архитектурных моделей
- Настраивать исполняемые пользовательские задачи
- Настраивать исполнителей задач через атрибуты и оргструктуру
- Настраивать кнопки для запуска процессов
- Настраивать сценарии для автоматической обработки данных

### Задания {: #tutorial_architect_lesson_4_tasks }

- Создать исполняемый процесс согласования архитектурной модели
- Настроить форму пользовательской задачи процесса
- Настроить атрибуты и форму шаблона архитектурной модели
- Настроить кнопку для запуска исполняемого процесса
- Настроить сценарий для изменения данных архитектурной модели
- Выполнить процесс согласования архитектурной модели

## Настройка согласования неисполняемых процессов

!!! "Бизнес-логика"

    **{{ productNameEnterprise }}** позволяет моделировать и интегрировать исполняемые и неисполняемые процессы для автоматизации управления корпоративной архитектурой.
    
    Настроим исполняемый процесс согласования неисполняемых процессов — архитектурных моделей.

### Настройка исполняемого процесса «Согласование процесса» {: #tutorial_architect_lesson_4_executable_process }

Настроим исполняемый процесс, который позволит согласовывать изменения в процессной модели предприятия.

1. Перейдите к приложению _«Архитектура компании»_.
2. Откройте раздел «**Шаблоны**».
3. Откройте вкладку «**Шаблоны процессов**».
4. Создайте шаблон процесса со следующими свойствами:

    - **Название:** _Согласование процесса_
    - **Связь с шаблоном записи: связать с существующим шаблоном**
    - **Связанный шаблон: Процессы**

5. Откройте диаграмму процесса для редактирования.
6. После начального события добавьте пользовательскую задачу _«Согласовать процесс»_.
7. Откройте **свойства** задачи.
8. На вкладке «**Дополнительные**» в поле «**Исполнители**» укажите **атрибут** «**Владелец процесса**».
9. Откройте форму задачи.
10. Поместите область на макет и переименуйте её в _«Решение по согласованию процесса»_.
11. В панели слева нажмите кнопку «**Добавить атрибут**» <i class="fa-light fa-plus"></i> у атрибута «**Процессы**».
12. Создайте **логический** атрибут _«Согласован»_.
13. Раскройте атрибут «**Процессы**» в панели слева.
14. Поместите атрибут _«Согласован»_ на область _«Решение по согласованию процесса»_.
15. В свойствах поля _«Согласован»_ установите параметр «**Отображать как: переключатель**».
16. Поместите на макет **форму «Процессы»**.
17. Сохраните форму.
18. Вернитесь к редактированию диаграммы процесса.
19. После пользовательской задачи _«Согласовать процесс»_ добавьте **развилку «или/или»** и переименуйте её в _«Процесс согласован?»_.
20. Соедините развилку _«Процесс согласован?»_ с простыми конечными событиями _«Процесс согласован»_ и _«Процесс не согласован»_.
21. Откройте свойства развилки _«Процесс согласован?»_.
22. На вкладке «**Дополнительные**» установите следующие значения:

    | Поток «иначе»     | Конечная точка          | Условие                    |
    | ----------------- | ----------------------- | -------------------------- |
    |                   | _Процесс согласован_    | **Формула:** `$Согласован` |
    | Флажок установлен | _Процесс не согласован_ |                            |

23. Опубликуйте диаграмму.

### Настройка шаблона моделей «Процессы» {: #tutorial_architect_lesson_4_model_template }

!!! warning "Бизнес-логика"

    В процессе согласования модели процесса необходимо указывать, хранить и отслеживать статус согласования.

    Для этого дополним шаблон архитектурной модели логическим атрибутом. 
    Данный атрибут поместим на форму модели процесса в виде переключателя.

!!! question "Определения"

    **Шаблон модели** «**Процессы**» содержит данные всех моделей процессов, настроенных в корпоративной архитектуре.

   **Форма шаблона модели** отображается на панели свойств в редакторе диаграмм **{{ productNameEnterprise }}**.

1. Откройте процесс _«Поиск кандидата»_.
2. Откройте «**Свойства**» <i class="fa-light fa-sidebar-flip"></i>.
3. Нажмите кнопку «**Изменить**» <i class="fa-light fa-arrow-up-right-from-square"></i>.
4. Перейдите к шаблону модели «**Процессы**».
5. Перейдите на вкладку «**Кнопки**».
6. Создайте кнопку со следующими свойствами:

    - **Отображаемое название:** _Согласовать_
    - **Контекст операции: модель**
    - **Операция: запустить процесс**
    - **Результат выполнения: обновить данные**
    - **Шаблон:** _Согласование процесса_

7. Сохраните кнопку.
8. Перейдите на вкладку «**Формы**».
9. Откройте форму «**Процессы**».
10. Добавьте на область «**Атрибуты по умолчанию**» атрибут _«Согласован»_.
11. Добавьте в область кнопок области «**Атрибуты по умолчанию**» кнопку _«Согласовать»_.
12. Сохраните форму.

### Настройка сценария для отслеживания изменений диаграмм процессов {: #tutorial_architect_lesson_4_process_diagram_change_tracking }

!!! warning "Бизнес-логика"

    При изменении диаграммы процесса в рамках корпоративной архитектуры её статус согласования должен сбрасываться. После чего потребуется согласовать диаграмму заново.

    Для этого настроим сценарий, который будет срабатывать при внесении любых изменений в модели процессов.

1. Откройте приложение _«Архитектура компании»_.
2. Перейдите на страницу «**Сценарии**».
3. Создайте сценарий _«Редактирование процесса»_.
4. Задайте для **начального события** следующие свойства:

    - **Тип: изменение записи**
    - **Контекстный шаблон: Процессы**

5. После начального события добавьте действие «**Изменить значение атрибутов**» со следующими свойствами:

    - **Атрибут:** _Согласован_
    - **Операция со значениями: заменить**
    - **Значение: формула**

        ``` sql
        False
        ```

6. Сохраните действие.

## Тестирование процесса согласования архитектурной модели {: #tutorial_architect_lesson_4_approval }

!!! warning "Бизнес-логика"

    При внесении изменений в неисполняемую диаграмму процесса всегда запускается процесс согласования: это снижает риски ошибок и обеспечивает вовлечённость участников процесса.

1. Выберите пункт **«Архитектура»** — **«Процессы»** в панели навигации.
2. Откройте процесс _«Поиск кандидата»_ для редактирования.
3. Внесите в диаграмму или свойства процесса любые изменения.
4. Нажмите кнопку «**Свойства**» <i class="fa-light fa-sidebar-flip"></i>.
5. Отобразится панель свойств процесса.
6. Нажмите кнопку _«Согласовать»_.
7. При необходимости войдите в аккаунт владельца процесса.
8. Откройте «**Мои задачи**».
9. Перейдите к задаче согласования процесса.
10. Установите значение «**Да**» для атрибута _«Согласован»_.
11. Завершите задачу.
12. Вернитесь к диаграмме процесса _«Поиск кандидата»_.
13. Откройте свойства диаграммы.
14. Флажок _«Согласован»_ должен быть автоматически установлен.
15. Снова внесите изменения в диаграмму процесса. В результате флажок _«Согласован»_ должен быть автоматически снят.

<!-- _![Иллюстрация](img/tutorial_architect_lesson_4_xxxx.png)_ -->

## Итоги урока {: #tutorial_architect_lesson_4_summary }

В ходе этого урока вы научились создавать исполняемые процессы, настраивать шаблоны моделей с атрибутами и формами, интегрировать исполняемые процессы с архитектурными моделями, настраивать кнопки и сценарии для автоматизации операций, а также выполнять процессы согласования архитектурных изменений.

В ходе [следующего урока][tutorial_architect_lesson_5] вы научитесь формировать собственные шаблоны экспорта регламентов корпоративной архитектуры, управлять версиями корпоративной архитектуры, а также экспортировать диаграммы в различных форматах для интеграции с внешними системами.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
