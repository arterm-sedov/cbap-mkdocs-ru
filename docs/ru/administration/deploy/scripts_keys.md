---
title: 'Скрипты и их ключи'
kbId: 
---

# Поддерживаемые ключи скриптов {: #scripts_keys}


!!! tip "Обязательные ключи для скриптов"

    Если не указать обязательный ключ для любого скрипта, он запросит его после запуска.

## Условные обозначения

`<instanceName>` — название экземпляра ПО
`<versionNumber>` — номер версии ПО
`<portNumber>` — номер порта
`<versionPath>` — путь до директории с версией ПО
`<hostName>` — имя хоста для экземпляра ПО
`<value>` — 

## Скрипты установки вспомогательного ПО

`X.X-release-ru-<versionNumber>.prerequisites.windows\CMW_Windows<versionNumber>\scripts`

### files_unblock.ps1
Назначение: Разблокировка установочных файлов скачанных из Интернета

| **Ключ** | **Описание** |
| --- | --- |
| `path` | путь до распакованной папки с установочными файлами (**опционально**) |
| `h` | вызвать справку по использованию скрипта (**указывается без остальных ключей**). |

### prerequisites_install.ps1
Назначение: Установка вспомогательного ПО

Скрипт не имеет параметров.

### prerequisites_list.ps1
Назначение: Вывод списка установленных компонентов вспомогательного ПО

Скрипт не имеет параметров.


## Скрипты установки {{ productName }}

`X.X-release-ru-<versionNumber>.windows\CMW_Windows<versionNumber>\scripts`

### version_install.ps1
Назначение: Установка версии ПО

Скрипт не имеет параметров.

### version_delete.ps1
Назначение: Удаление версии ПО

**WINDOWS**

| **Ключ** | **Описание** |
| --- | --- |
| `version` | указать номер версии ПО вида `X.X.XXXX.X` (например: `5.0.1234.0`). |
| `h` | вызвать справку по использованию скрипта (указывается без остальных ключей). |

**Пример:**
``` powershell
.\version_delete.ps1 -version <versionNumber>
```

**LINUX**

| **Ключ** | **Описание** |
| --- | --- |
| `-v=`, `--version=` | указать номер версии ПО вида `X.X.XXXX.X` (например: `5.0.1234.0`). |
| `-h`, `--help` | вызвать справку по использованию скрипта (указывается без остальных ключей). |

**Пример:**
``` sh
bash version_delete.sh -v=5.0.12345.0
```

### version_list.ps1
Назначение: Вывод установленных выводов ПО

Скрипт не имеет параметров.

### instance_create.ps1
Назначение: Создание экземпляра ПО

Скрипт поддерживает следующие ключи:

**WINDOWS**

| **Ключ** | **Описание** |
| --- | --- |
| `name <instanceName>` | **обязательный** ключ с именем экземпляра ПО. |
| `port <portNumber>` | порт для экземпляра ПО, по умолчанию: 80 (необязательный ключ). |
| `version <versionNumber>` | развернуть ПО указанной версии вида `X.X.XXXX.X` (например: `5.0.1234.0`) из папки вида `C:\Program Files\Comindware\CBAP\<versionNumber>`. |
| `versionPath <versionPath>` | развернуть ПО из указанной папки `<versionPath>` с версией ПО. |
| `demoDB` | создать экземпляр ПО **{{ productName }}** c демонстрационной базой данных. |
| `fqdn <hostName>` | имя хоста для экземпляра ПО (необязательный ключ). По умолчанию: `localhost`. |
| `h` | вызвать справку по использованию скрипта (указывается без остальных ключей). |

**Пример:**
``` powershell
.\instance_create.ps1 -name <instanceName> -port <portNumber> -version <versionNumber> 
```

!!! tip "Обязательные ключи для скриптов"

	Если не указать обязательный ключ для любого скрипта, он запросит его после запуска.


**LINUX**

Обязательные
  `-n=<value>`|`--name=<value>` —  имя экземпляра ПО (например: `cp_instance`).
  `-p=<value>`|`--port=<value>` — порт для экземпляра ПО (по умолчанию: `80`)
  `-v=<value>`|`--version=<value>` — развернуть ПО указанной версии (например: `5.0.12345.0`)

Необязательные
  `-fqdn=<value>`|`--instance-fqdn=<value>` — имя хоста для экземпляра ПО для NGINX (по умолчанию: `localhost`)
  `-el=<value>`|`--elasticsearch-url=<value>` — указывает ссылку или IP-адрес для Elasticsearch (например: `192.168.0.1`)
  `-kf=<value>`|`--kafka-url=<value>` — указывает ссылку или IP-адрес для Kafka Message Broker (например: `192.168.0.1`)
  `-d`|`--demoDB` — создать экземпляр ПО **{{ productName }}** c демонстрационной базой данных
  `-h`|`--help` — Вызвать справку по использованию скрипта (указывается без остальных ключей).

**Пример:**
``` sh
bash instance_create.sh -n=cp_instance -p=80 -v=5.0.12345.0
```


### instance_start.ps1
Назначение: Запуск экземпляра ПО

| **Ключ** | **Описание** |
| --- | --- |
| `-name` | **обязательный** ключ с именем экземпляра ПО. |

 
**Пример:**
``` powershell
.\instance_start.ps1 -name <instanceName>
```

### instance_stop.ps1
Назначение: Остановка экземпляра ПО

** Пример:**
``` powershell
.\instance_stop.ps1 -name <instanceName>
```

| **Ключ** | **Описание** |
| --- | --- |
| `-name` | **обязательный** ключ с именем экземпляра ПО. |

### instance_upgrade.ps1
Назначение: Обновление экземпляра ПО

Скрипт поддерживает следующие ключи:

  - `name <instanceName>` — **обязательный** ключ с именем экземпляра ПО.
  - `version <versionNumber>` — **обязательный** ключ с указанием номера версии  до указанной необходимо обновить экземпляр ПО (например: `5.0.1234.0`) из папки вида `C:\Program Files\Comindware\CBAP\<versionNumber>`.
  - `versionPath <versionPath>` — обновить экземпляр ПО до версии из указанной папки `<versionPath>`.
  - `h` — вызвать справку по использованию скрипта (указывается без остальных ключей).

**Пример:**
  ``` powershell
  .\instance_upgrade.ps1 -name <instanceName> -version <versionNumber> 
  ```


### instance_list.ps1
Назначение: Вывод списка установленных экземпляров ПО

Скрипт не имеет параметров.

### instance_delete.ps1
Назначение: Удаление экземпляра ПО

**WINDOWS**

- `name <instanceName>` — **обязательный** ключ с именем экземпляра ПО. Если не указать другие ключи, будет удалена только служба `comindware<instanceName>`.
- `deleteData` — удалить базу данных из папки вида `C:\ProgramData\Comindware\Instances\<instanceName>\Data` и пользовательские файлы экземпляра ПО из папки вида `C:\ProgramData\Comindware\Instances\<instanceName>\Streams`. Без указания этого ключа или ключа `clear` база данных экземпляра ПО не будет удалена.
- `clear` — удалить все файлы, папки, базу данных и пользовательские файлы вместе с папкой вида `C:\ProgramData\Comindware\Instances\<instanceName>`, а также службы экземпляра ПО, сайт и пул приложения из IIS.

**Пример:**
``` powershell
.\instance_delete.ps1 -name <instanceName> -clear
```

**LINUX**

**Обязательные**
`  -n=<value>`|`--name=<value>` —  имя экземпляра ПО (например: `cp_instance`).

**Необязательные**
  `--deleteData` — удалить базу данных и пользовательские файлы экземпляра ПО

  `--deleteLogs` — удалить журналы экземпляра ПО

  `--deleteBackups` — удалить резервные копии экземпляра ПО

  `-h`|`--help` — вызвать справку по использованию скрипта (указывается без остальных ключей).

**Пример:**
``` sh
bash instance_delete.sh -n=cp_instance
```


<div class="relatedTopics" markdown="block">

--8<-- "related_topics_heading.md"

- [Пути и содержимое директорий экземпляра ПО][paths]

</div>

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
