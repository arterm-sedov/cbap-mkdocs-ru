---
title: 'Интеграции: с чего начать'
kbId:
tags:
    - интеграции
    - интеграция
hide: tags
---

# Интеграции: с чего начать

<div class="admonition question" markdown="block">
## Определения {: .admonition-title #definitions}

**Интеграция** — это автоматизированный процесс взаимодействия **{{ productName }}** с внешними системами, направленный на двусторонний обмен данными и синхронизацию процессов. Реализуется через REST API, OData, адаптеры или пользовательские решения, что позволяет:

- Настраивать подключения и маршруты передачи данных.
- Использовать стандартные методы (GET, POST, PUT, DELETE) для управления данными.
- Применять готовые решения или разрабатывать специализированные сценарии.
- Подключать стороннее оборудование и внедрять его использование в бизнес-процессы.
- Определять роли систем и направление интеграции.

Интеграция обеспечивает гибкость за счёт поддержки разных форматов, преобразования данных и транзакционной обработки, что упрощает совместное использование функционала между системами.

</div>

## Роли {{ productName }} в интеграциях

**{{ productName }}** может как получать, так и передавать любые данные в формате JSON или XML. В зависимости от роли, в которой выступает экземпляр ПО, отличается процесс его настройки. **{{ productName }}** может выступать в роли получателя и отправителя одновременно.

**{{ productName }}** поддерживает методы **REST API**. Чтобы посмотреть доступные методы для взаимодействия с продуктом, введите URL в своём браузере:

``` html
http://your-host/docs
```

Здесь `your-host` — адрес сервера **{{ productName }}**.

См. также _«[Введение в API][api_intro]»_.

### Получение запросов от внешних систем

**{{ productName }}** может получать запросы от внешних систем. ПО позволяет настроить интервал времени, с которым оно будет проверять наличие новых запросов.

В ряде случаев чтобы вносить изменения в данные **{{ productName }}**, внешняя система должна быть авторизована через аккаунт, которому предоставлены соответствующие права. См. _«[Системные роли. Определения, настройка, объединение, удаление][system_roles]»_.

### Отправка запросов во внешние системы

**{{ productName }}** может отправлять запросы во внешние системы. Причём могут быть использованы методы `PUT` и `POST` для внесения изменений в данные внешних систем, так и метод `GET` для получения данных из них.

Для передачи данных во внешние системы их следует преобразовать в необходимый формат.

## Возможности интеграций

**{{ productName }}** предоставляет гибкие инструменты для автоматизации обмена данными с внешними системами. Интеграции имеют следующие преимущества:

- Поддержка стандартных протоколов и форматов.
- Готовые решения для популярных систем.
- Гибкая настройка пользовательских сценариев.
- Поддержка различных направлений интеграций (импорт, экспорт, двусторонняя синхронизация).
- Минимизация ручного ввода данных.
- Снижение ошибок за счёт автоматизации.
- Возможность масштабирования бизнес-процессов.

При помощи интеграций можно передавать и получать различные данные:

- текстовые данные;
- числовые показатели;
- данные типа даты и времени;
- файлы различных форматов.

С помощью интеграций можно решить ряд бизнес-задач:

- Синхронизация данных.
- Загрузка исторических данных.
- Подключение оборудования и внедрение его в процессы.
- Обмен данными с внешними системами, в том числе:
    - Сервисы электронной почты
    - СФЕРА Курьер
    - СУБД
    - 1С
    - СберКорус
    - Bitrix24
    - Телфин
    - Novofon
    - OnlinePBX
    - Megaplan
    - Telegram
    - SAP
    - DocuSign
    - Private Branch Exchange
    - MS Dynamics
    - MailChimp
    - Unisender
    - UiPath
    - Viber

## Механизмы и выбор интеграций

Прежде чем приступать к настройке интеграции, ознакомьтесь с доступными типами и их особенностями:

| Критерий         | Стандартные интеграции | OData    | Кастомные адаптеры | API |
| ---------------- | ----------- | -------- | ------------------ |---|
| Гибкость         | Средняя     | Высокая  | Высокая            | Высокая |
| Назначение | Готовые решения для популярных систем | Синхронизация данных с ERP/CRM | Работа с нестандартными протоколами и оборудованием | Универсальная интеграция через API |
| Требуемые навыки | Low-code-разработка     | <p>Low-code-разработка</p><p>Знание стандарта OData</p>  | Программирование | Программирование |
| Время настройки  | 1–2 часа    | 2–4 часа | 1+ неделя          | 4-6   часов |

## Преимущества разных типов интеграций

**{{ productName }}** поддерживает несколько подходов к интеграции, каждый из которых решает специфические задачи. Вот ключевые особенности и преимущества:

- Стандартные интеграции — готовые решения для популярных систем с использованием HTTP-запросов, SMTP/IMAP.
    - Преимущества:
        - Быстрое подключение: минимум настроек — достаточно указать параметры аутентификации.
        - Поддержка специализированных процессов: помимо сценариев можно настроить обработку данных прямо в процессе, что делает настройку приложения гибче.
        - Низкий порог входа: не требует навыков программирования.
    - Пример: отправка электронной почты.
- Интеграции по OData — автоматическая синхронизация данных между **{{ productName }}** и внешними системами через стандарт OData.
    - Преимущества:
        - Автоматизация по расписанию: данные обновляются без ручного вмешательства.
        - Отсутствие сценариев: настройка ограничивается подключением и интеграцией.
        - Полная синхронизация: поддерживает массовую выгрузку и загрузку записей шаблонов.
    - Пример: интеграция с 1С.
- Кастомные адаптеры — решение для интеграции с системами, использующими проприетарные протоколы или оборудование.
    - Преимущества:
        - Работа с нестандартными протоколами:  позволяют работать с проприетарными протоколами и аппаратными комплексами.
        - Нестандартная обработка данных: при настройке адаптера можно создать уникальную структуру обрабатываемых данных.
    - Пример: интеграция принтера.
- Интеграция по REST API
    - Преимущества:
        - Стабильность: методы API в большинстве случаев не меняются при обновлении системы и продолжают свою работу.
        - Безопасность: API предоставляет возможности для настройки аутентификации и авторизации, что обеспечивает безопасность данных при обмене между системами.
        - Автоматизация: API позволяет автоматизировать процессы обмена данными, что снижает необходимость ручного ввода и минимизирует ошибки.
    - Пример: добавление записей по API.

## Общий порядок настройки

Чтобы настроить интеграцию, выполните следующие шаги:

1. Определите, какая система является отправителем данных, а какая получателем.
2. Определите структуру передаваемых данных для интеграции и отформатируйте для передачи в нужном формате.
3. Сопоставьте полученные данные со структурой данных в системе-получателе (маппинг данных).
4. Создайте шаблон записи и атрибуты в нём в соответствии со структурой запроса.
5. Настройте интеграцию в приложении.
    - для OData:
        - настройте подключение тип «**Подключения REST и OData**» — «**Синхронизация с веб-сервисом**».
        - настройте подключение к OData на странице «**[Интеграции][odata_integration]**» <i class="fal  fa-sync-alt"></i> приложения.
    - для встроенных подключений:
        - настройте [подключение][connections] необходимого типа.
        - настройте [путь передачи данных][communication_routes] необходимого типа.
        - настройте сценарий или процесс для обработки и преобразования данных в требуемый формат.
    - для пользовательских адаптеров:
        - создайте решение Visual Studio для адаптера.
        - добавьте адаптер в разделе «**[Адаптеры][adapters]**» <i class="fa-light fa-puzzle-piece-simple">‌</i>.
        - настройте пользовательское подключение для адаптера.
        - настройте пользовательский путь передачи данных для адаптера.
        - настройте сценарий для обработки и преобразования данных в требуемый формат.
    - для REST API:
        - настройте доступ к API для аккаунта с помощью [роли][system_roles].
        - настройте вызов методов API с использованием заголовков аутентификации.

!!! tip "Подключение и пути передачи данных"

    К одному подключению могут относиться несколько путей передачи данных:

    - При создании подключения формируется базовый путь для интеграции.
    - При создании пути передачи данных можно настроить префикс, который будет отличать его от других путей, базирующихся на том же подключении.

## Тестирование интеграций

Чтобы проверить корректность настроенной интеграции, воспользуйтесь одним из следующих инструментов:

- В командной строке отправьте запрос при помощи Curl.
- Используйте сторонние сервисы для проверки отправки и получения запросов, например:
    - Postman
    - Apidog
    - Insomnia
    - Hoppscotch
    - SoapUI

## Примеры настроек интеграций

- Для работы с электронной почтой:
    - _[Отправка эл. почты из сценариев по SMTP/Exchange][scenario_send_email]_
    - _[Получение эл. почты с помощью сценариев через IMAP и Exchange][scenario_receive_email]_
    - _[Отправка почты из процесса][process_sending_connection]_
    - _[Получение эл. почты и веб-запросов в процессе][process_receiving_connection]_
- Для работы с HTTP-запросами:
    - _[HTTP-запросы типа GET. Отправка запроса и обработка ответа в формате JSON][http_send_example]_
    - _[HTTP-запросы. Получение JSON-данных в сценарии][http_receive_example]_
    - _[HTTP-запросы. Получение и обработка данных с помощью JSONPath][http_receive_jpath]_
    - _[HTTP-запросы типа POST. Отправка и получение ответа][http_send_post]_
    - _[HTTP-запросы типа POST. Отправка составного содержимого и файлов][http_send_file]_
    - _[HTTP-запросы с составным содержимым. Получение файлов в сценарии][http_receive_file]_
- Для работы с СУБД:
    - _[Внешняя СУБД (MySQL, MSSQL, Oracle, PostgreSQL). Отправка SQL-запроса. Настройка подключения, пути передачи данных и сценария][sql_send_connection]_
    - _[Внешняя СУБД (MySQL, MSSQL, Oracle, PostgreSQL). Получение данных по таймеру. Настройка подключения, пути передачи данных и сценария][sql_receive_connection]_
- Для работы с различными сервисами:
    - _[Синхронизация с веб-сервисом. Интеграция по OData][odata_integration]_
    - _[Интеграция с 1С по OData. Настройка для импорта данных][1c_integrations]_
    - _[Collabora Online. Настройка подключения][collabora_connection]_
    - _[Р7 Офис. Настройка сервера и подключения][r7_connection]_
    - _[Отправка запросов данных в «СФЕРА Курьер»][esphere_send_configure]_
    - _[Получение документов из «СФЕРА Курьер»][esphere_receive_configure]_
    - _[Отправка уведомлений с помощью Telegram-бота][telegram_send_notification]_

## Типичные проблемы

В процессе настройки интеграции могут возникнуть различные ошибки. Здесь приведён список часто возникающих проблем:

- Отключено подключение или путь передачи данных.
- Неправильно настроены атрибуты сообщений или параметры интеграции в пути передачи данных.
- Неправильно обозначено поле в адаптере.
- Неверно определён формат данных.
- Неправильно сопоставлены поля данных у отправителя и получателя.
- Пользователю не предоставлены права доступа к API.
- Отсутствуют данные в запросе.
- В сценарии содержатся ошибки в структуре и содержании.

<div class="relatedTopics" markdown="block">

--8<-- "related_topics_heading.md"

- _[Введение в API][api_intro]_
- _[Адаптеры. Определения, настройка, удаление][adapters]_
- _[Подключения. Определения, типы, создание, настройка, удаление][connections]_
- _[Пути передачи данных][communication_routes]_
- _[Синхронизация с веб-сервисом. Интеграция по OData][odata_integration]_

</div>

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
