---
title: 'Замещения'
kbTitle: 'Замещения. Создание, настройка, удаление'
kbId: 4665
tags:
  - замещение
  - замещения
  - аккаунты
  - передача ролей
  - права
  - роли
  - системные роли
hide: tags
---

# Замещения. Создание, настройка, удаление {: #substitution}

<div class="admonition question" markdown="block">

## Определения {: .admonition-title #definitions}

- С помощью **замещения** вместо аккаунта можно на заданный период времени назначить другие аккаунты в качестве [исполнителей пользовательских задач][process_diagram_elements_user_task] и передать им определённые [системные роли][system_roles] и [роли в приложении][roles].
- Замещения можно просматривать и создавать как на [странице «**Замещения**»](#просмотр-списка-замещений-и-настройка-замещений), так и в [свойствах аккаунта][accounts_substitution].

</div>

## Настройка конфигурации {{ productName }} {: #substitution_configuration}

По умолчанию замещения в **{{ productName }}** отключены.

Чтобы включить функцию замещений, в файле конфигурации **{{ productName }}** `<instanceName>.yml` установите значение `true` в следующей директиве:

``` yaml
account.selfSubstitutionsEnabled: true
```

Если замещения включены (`true`), пользователи могут создавать для себя замещения в свойствах своих аккаунтов, передавая свои роли другим аккаунтам. См. _«[Аккаунты. Настройка замещений][accounts_substitution]»_.

Если замещения отключены (`false`), настраивать замещения для любых аккаунтов могут только [системные администраторы][system_roles].

!!! warning "Необходим доступ к просмотру аккаунтов"

    Даже при включённой директиве `account.selfSubstitutionsEnabled` пользователь не сможет создать замещение, если у него нет прав на просмотр аккаунтов.
    
    Поэтому для работы с замещениями, пользователю необходимо назначить системную роль с разрешением на **просмотр аккаунтов**.
    
    См. _«[Системные роли][system_roles]»_.

## Права и сценарии использования {: #substitution_roles_and_scenarios}

- **Администратор**

  - Может создавать, изменять и удалять замещения в разделе «**Замещения**» и на странице аккаунта — независимо от значения `account.selfSubstitutionsEnabled`.

  - Может создавать замещение из собственного аккаунта.

- **Пользователь**

  - При `account.selfSubstitutionsEnabled = true` на странице собственного аккаунта отображается кнопка «Создать».

  - Может создавать замещение только «на себя» и передавать лишь свои роли другим аккаунтам.

  - Для корректной работы требуется доступ на просмотр аккаунтов (системная роль с правом «read accounts»).

- **Если запрещено (account.selfSubstitutionsEnabled = false)**

  - Только администраторы могут создавать/изменять/удалять замещения.

  - Пользователь не может создать или удалить замещение; форма замещения доступна в режиме «только чтение».

- **Если разрешено (account.selfSubstitutionsEnabled = true)**

  - Пользователь всё равно не сможет создать замещение без права просмотра аккаунтов (read-доступ к аккаунтам через системную роль).

## Просмотр списка замещений и настройка замещений {: #substitution_list_and_setup .pageBreakBefore }

Страница «**Замещения**» позволяет просматривать, создавать, настраивать и удалять замещения для аккаунтов.

1. На странице «[**Администрирование**][administration]» в разделе — «**Администрирование аккаунтов**» выберите пункт «**Замещения**» <i class="fa-light  fa-user-clock">‌</i>.
2. Отобразится список замещений.

    !!! note "Примечание"

        Чтобы быстро просмотреть перечень заместителей или передаваемых ролей, нажмите ячейку с цифрой в столбце «**Заместители**» или «**Передаваемые роли**».

    _![Список замещений](img/substitutions.png)_

3. Нажмите кнопку «**Создать**» или дважды нажмите строку замещения в списке.
{: .pageBreakAfter }
4. Настройте замещение:

    - **Название** — введите наглядное наименование замещения.
    - **Отсутствующий** — выберите аккаунт, полномочия которого требуется передать.
    - **Передаваемые роли** — выберите роли аккаунта, которые требуется передать заместителям:
        - нажмите ссылку «**0 ролей**» под пунктом «**Передаваемые роли**»;
        - отобразится окно «**Передаваемые роли**»;
        - нажимайте названия передаваемых ролей в левом списке;
        - назначенные заместителю роли отобразятся в правом списке;
        - нажмите кнопку «**Применить**».

    _![Передача ролей](img/substitution_assigned_roles.png)_

    - **Заместители** — выберите аккаунты, которым передаются полномочия.
    - **Начало** — задайте дату начала замещения.
    - **Окончание** — задайте дату окончания замещения.
    - **В архиве** — установите этот флажок, чтобы на время замещения аккаунт помещался в архив. По окончании замещения аккаунт будет разархивирован.

5. Сохраните замещение.

_![Настройка замещения](img/substitution_properties.png)_

## Удаление замещений {:  #substitution_delete  .pageBreakBefore }

1. Выберите замещения, подлежащие удалению, с помощью флажков в списке.
2. Нажмите кнопку «**Удалить**».
3. Подтвердите удаление.

<div class="relatedTopics" markdown="block">

--8<-- "related_topics_heading.md"

- [Аккаунты. Настройка замещений][accounts_substitution]
- [Пути и содержимое директорий экземпляра ПО][paths]
- [Системные роли][system_roles]

</div>

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
