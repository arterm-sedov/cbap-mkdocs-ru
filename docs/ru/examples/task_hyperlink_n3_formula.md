---
title: Гиперссылка на задачу. Вычисление с помощью N3 и формулы
kbId: 4879
tags:
    - N3
    - Notation 3
    - гиперссылка
    - вычисление
    - задачи
    - пользовательские задачи
hide: tags
---

# Гиперссылка на задачу. Вычисление с помощью N3 и формулы {: #example_task_hyperlink_n3_formula }

## Введение {: #example_task_hyperlink_n3_formula_intro }

При создании приложений может потребоваться передавать в сообщении или уведомлении о задаче ссылку на задачу.

Здесь представлен пример формирования гиперссылки на задачу, связанную с записью, к которой относится пользовательская задача.

См. также _«[Уведомления о задачах. Настройка текста и отправки эл.&nbsp;почтой][task_notifications]_».

!!! warning "Важно!"

    Если в процессе две задачи одновременно назначены на текущего пользователя, представленное здесь решение вернёт последнюю созданную задачу.

## Настройка {: #example_task_hyperlink_n3_formula_setup }

1. В шаблоне записи, связанном с процессом, создайте **вычисляемый текстовый** атрибут _«ID задачи»_. Этот атрибут требуется для вычисления ID задачи.
2. Введите следующее **вычисляемое значение** на языке **N3**:

    ``` turtle
    # Импортируем предикаты для работы с логикой и процессами.
    @prefix cmw: <http://comindware.com/logics#>.
    @prefix process: <http://comindware.com/ontology/process#>.

    {
        # Используем конструкцию once, чтобы
        # получить единственный результат.
        once {
            # Помещаем в ?processObject ID объекта процесса,
            # связанного с текущей записью ?item.
            ?processObject process:businessObject ?item.
            # Помещаем в ?value ID задачи процесса.
            ?value cmw:parent ?processObject.
        }
    }
    ```

3. Создайте **вычисляемый текстовый** атрибут _«Ссылка на задачу»_ и введите следующую **формулу** в качестве **вычисляемого значения**:

    ``` sql
    FORMAT(
    "<p><a href='https://<your-host>/#task/{0}'>
    Ссылка на задачу
    </a></p>",
    LIST($IDзадачи)
    )
    ```

    Здесь:

    - `https://<your-host>` — адрес экземпляра **{{ productName }}**;
    - `IDзадачи` — системное имя атрибута, в котором вычисляется идентификатор задачи.

    Эта формула вернёт HTML-текст с гиперссылкой на задачу.

4. Используйте значение атрибута _«Ссылка на задачу»_ для передачи ссылки на задачу, например в сценариях или уведомлениях.

<div class="relatedTopics" markdown="block">

--8<-- "related_topics_heading.md"

- [Уведомления о задачах. Настройка текста и отправки эл.&nbsp;почтой][task_notifications]

</div>

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
