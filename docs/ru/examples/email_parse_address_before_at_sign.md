---
title: 'Парсинг Email до знака @'
kbTitle: Эл.&nbsp;почта. Парсинг адреса. Извлечение имени пользователя
kbId: 4983
tags:
    - адрес почты
    - INDEXOF
    - SUBSTRING
    - формулы
    - обработка писем
    - парсинг
    - эл. почта
    - имя пользователя
    - генерация логина
hide: tags
---

# Эл.&nbsp;почта. Парсинг адреса. Извлечение имени пользователя {: #example_email_parse_address_before_at_sign }

Здесь приведён пример извлечения имени пользователя из адреса эл.&nbsp;почты (часть до знака `@`) с помощью **формулы**.

Это позволяет определить пользователя в таких сценариях, как:

- **генерация логинов** — создание имен пользователей на основе адресов эл. почты;
- **идентификация пользователей** — определение пользователя по части адреса эл. почты.

## Синтаксис формулы {: #example_email_parse_address_before_at_sign_formula }

Для извлечения имени пользователя из адреса эл.&nbsp;почты используйте следующую формулу:

``` cs
SUBSTRING($Адрес, 0, INDEXOF($Адрес, "@"))
```

Формула извлекает текст от начала строки (позиция `0`) до позиции знака `@`.

Если адрес эл.&nbsp;почты содержит `"user@company.com"`, формула вернёт `user`.

!!! tip "Совет"

    Дополнительно убедитесь, что адрес содержит знак `@`, например с помощью функции `IF()`. При его отсутствии обработайте ситуацию безопасно (например, верните пустое значение).

Здесь:

- `$"Адрес"` — атрибут, который хранит адрес эл. почты;
- `SUBSTRING()` — функция, извлекающая из строки подстроку с найденной позиции и указанной длины;
- `INDEXOF()` — функция, возвращающая позицию символа в строке:
    - `INDEXOF($Адрес, "@")` — находит позицию знака `@` в адресе эл. почты.

<div class="relatedTopics" markdown="block">

--8<-- "related_topics_heading.md"

- [Парсинг ИД процесса из темы письма][example_email_parse_process_id_from_subject]
- [Эл.&nbsp;почта в процессе. Отправка, получение и обработка][process_email_configure]
- [Получение эл.&nbsp;почты и веб-запросов в процессе][process_receiving_connection]
- [Список функций языка формул Comindware][formula_function_list]
- [Сценарии][scenarios]

</div>

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
