---
title: Урок 3. Мой первый бизнес-процесс
kbId: 4874
---

# Урок 3. Мой первый бизнес-процесс {: #lesson_3 }

## Введение

В ходе этого урока вы усовершенствуете **приложение**, созданное на [предыдущем уроке][lesson_2], настроив следующий автоматизированный **процесс** заказа корпоративного автотранспорта:

!!! warning "Бизнес-логика"

    - _Заказчик_ создает заявку на автомобиль.
    - Заявка поступает на рассмотрение _Секретарю_.
    - _Секретарь_ одобряет либо отклоняет заявку.
    - Одобренная заявка поступает на рассмотрение _Диспетчеру гаража_.
    - _Диспетчер гаража_ принимает либо отклоняет заявку в зависимости от наличия автомобиля в гараже.
    - Если _Диспетчер гаража_ принял заявку, _Заказчику_ поступает уведомление об этом, а _Водитель_ выполняет рейс.
    - Если _Секретарь_ и _Диспетчер гаража_ отклоняют заявку, _Заказчику_ поступает уведомление об этом, и процесс завершается.

**Предусловия:** пройден [урок 2 «Мой первый реестр данных»][lesson_2].

**Расчётная продолжительность:** 90 мин.

{% include-markdown ".snippets/tutorial_version_notice.md" %}

<div class="admonition question" markdown="block">

## Определения {: .admonition-title #definitions}

- **Исполняемый бизнес-процесс**

    {%
    include-markdown "business_apps/templates/template_types/process_templates.md"
    start="<!--process-definitions-start-->"
    end="<!--process-definitions-end-->"
    rewrite-relative-urls=false
    %}

- **Шаблон процесса**
    - Настройка исполняемого бизнес-процесса в **{{ productName }}** выполняется с помощью шаблона процесса.
    - Шаблон процесса состоит из [диаграммы процесса][process_diagram] в нотации BPMN 2.0, хранит экземпляры процесса и свойства, определяющие, как должны выполняться все экземпляра процесса.
    - Каждый шаблон процесса связан с шаблоном записи, который хранит записи для экземпляров процесса.

</div>

## Создание шаблона процесса

Настроим шаблона процесса заказа автотранспорта.

1. На панели навигации слева выберите пункты «**Настройки**» — «**Шаблоны**».
2. Перейдите на вкладку «**Шаблоны процессов**».
3. Нажмите кнопку «**Создать**».
4. Введите название шаблона _«Заказ автотранспорта»_.
5. Укажите приложение _«Управление автопарком»._
6. В поле «**Связанный шаблон**» выберите шаблон _«Заявки на автомобили»_.
7. Нажмите кнопку «**Создать**».

_![Создание шаблона бизнес-процесса](img/lesson_3_process_template_create.png)_

## Построение диаграммы бизнес-процесса

!!! note "Примечание"

    В **{{ productName }}** для построения **диаграмм бизнес-процесса** используется **нотация BPMN 2.0**.

    Нотация BPMN проста в понимании и часто применяется в бизнесе. Однозначная интерпретация диаграмм BPMN обеспечивает одинаковое понимание процесса бизнесом, аналитиками и ИТ-специалистами.

1. Перейдите на вкладку «**Диаграмма**».
2. Отобразится конструктор диаграммы бизнес-процесса.

    _![Конструктор диаграммы бизнес-процесса](img/lesson_3_process_diagram_designer.png)_

    !!! question "Конструктор диаграммы процесса"

        Конструктор диаграммы процесса состоит из трех частей, показанных на иллюстрации.

        **(1)** **Панель элементов**, которые можно перетащить на диаграмму:

        - **Действия** — задачи и подпроцессы:

            - **задачи** — **пользовательские** (выполнение действий данных участником процесса через форму задачи) и автоматические (выполнение сценария, вызов сервиса);
            - **подпроцессы** — **вызов процесса** и **встроенный подпроцесс**;

        - **События** — **начальное, промежуточное и конечное**;
        - **Развилки** — «**или/или**», «**и**» (параллельная);
        - **Общие элементы** — **дорожка**, **поток управления**, **комментарий**.

        **(2)** **Диаграмма** бизнес-процесса.

        **(3)** Кнопки **Выбрать версию**, **Очистить**, **Восстановить**, **Опубликовать**, **Проверить**, **Экспортировать**.

3. Добавим на диаграмму дорожки.

    !!! question "Дорожка"

        **Дорожка** в BPMN представляет участников процесса. Их можно настроить произвольным образом по усмотрению проектировщика процесса.
       
        Обычно дорожки представляют клиента, отдел, должность, роль или команду. Например, в нашем процессе _Заказчик_ — это роль (_Заказчик_ может быть из любого отдела), _Гараж_ — отдел, а _Секретарь_ — должность.

4. Перетащите с панели элементов три дорожки на диаграмму процесса. Элемент «**Дорожка**» расположен в группе «**Общие элементы**».

    _![Перетаскивание дорожек на диаграмму бизнес-процесса](img/lesson_3_process_diagram_designer_lane_add.png)_

5. Присвойте дорожкам названия: _Заказчик, Секретарь, Гараж._
6. Чтобы переименовать дорожку, выберите её и в раскрывающемся меню элемента нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i>.

    _![Переход к настройке дорожки](img/lesson_3_process_diagram_designer_lane_configure.png)_

7. В отобразившемся окне «**Свойства дорожки**» введите новое название и нажмите кнопку «**Сохранить**».

    _![Переименование дорожки](img/lesson_3_process_diagram_designer_lane_rename.png)_

8. Удалите конечное событие. Для этого выберите его и в меню элемента нажмите кнопку «**Удалить**» <i class="fa-light fa-trash-can"></i>.

    _![Удаление элемента диаграммы процесса](img/lesson_3_process_diagram_designer_delete_element.png)_

9. Перетащите элемент «**Пользовательская задача**» из раздела «**Действия**» с левой панели на дорожку _«Секретарь»_.

    !!! question "Пользовательская задача"

        **Пользовательскую задачу** выполняет человек. При переходе процесса на этот элемент задача автоматически назначается одному или нескольким исполнителям.

10. Присвойте задаче название _«Рассмотреть заявку»_. Для этого дважды нажмите название задачи.
11. Присоедините **поток управления** от начального события к пользовательской задаче _«Рассмотреть заявку»._
12. Перетащите элемент «**Развилка** «**или/или**» на диаграмму и соедините его с задачей _«Рассмотреть заявку»_.

    !!! question "Развилка «или/или»"

        **Развилка «или/или»** определяет альтернативные потоки процесса, из которых может быть выбран только один.
       
        Для каждого потока (стрелки), выходящего из развилки, указывается логическое условие.

        Процесс следует первому потоку, для которого условие возвращает `true`.
       
        Кроме того, можно выбрать поток «**иначе**» (по умолчанию), по которому процесс пойдет в том случае, если ни одно из условий на других потоках не выполнено.

13. Присоедините к развилке два потока управления.
14. Присвойте развилке название _«Одобрена?»_. Для этого дважды нажмите развилку и введите ее название или нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i> в меню элемента.

    _![Переход к настройке развилки «или/или»](img/lesson_3_process_diagram_designer_exclusive_gate_configure.png)_

    !!! warning "Бизнес-логика"

        Если _Секретарь_ отклоняет заявку, то _Заказчик_ получает уведомление об этом, после чего процесс завершается.
       
        Если _Секретарь_ одобряет заявку, то далее её обрабатывает _Диспетчер гаража_.
       
        Реализуем на диаграмме эту бизнес-логику.

15. К развилке _«Одобрена?»_ присоедините потоками управления две новые пользовательские задачи:

    - _«Отменить поездку»_ на дорожке _«Заказчик»_;
    - _«Принять заявку»_ на дорожке _«Гараж»_.

16. Выберите развилку и в меню элемента нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i>.
17. Отобразится окно «**Свойства развилки «или/или**».
18. На вкладке «**Дополнительные**» укажите названия исходящих потоков — _«Да»_ и _«Нет»_. Для этого дважды нажмите соответствующие поля.
19. Сохраните настроенные свойства развилки.

    _![Настройка потоков управления развилки «или/пли»](img/lesson_3_exclusive_gate_sequence_flow_configure.png)_

20. К задаче _«Отменить поездку»_ присоедините новое конечное событие.
21. Присвойте конечному событию название _«Отказ»_.

    !!! question "События"

        **События** в BPMN можно рассматривать как этапы процесса — старт, промежуточные вехи, варианты завершения.
       
        - **Простое начальное событие** может быть только одно, а начальных событий других типов — несколько.
        - Промежуточных событий может быть несколько согласно бизнес-логике.
        - Конечных событий может быть несколько для различных результатов завершения процесса.

    _![Диаграмма бизнес-процесса с задачами «Рассмотреть заявку», «Принять заявку», «Отменить поездку» и конечным событием «Отказ»](img/lesson_3_process_diagram_review_accept_cancel.png)_

    !!! warning "Бизнес-логика"

        После принятия заявки _Диспетчер гаража_ проверяет наличие автомобиля для выполнения заявки. Если автомобиль отсутствует, заявка возвращается _Секретарю_.

22. Между начальным событием и задачей _«Рассмотреть заявку»_ добавьте элемент «**Развилка** «**или/или**» и назовите его _«Рассмотрение заявки»_.

    !!! question "Сходящаяся развилка «или/или»"

        Сходящаяся **развилка «или/или»** используется для объединения токенов с нескольких входящих потоков в исходящий поток. Вошедший в развилку токен сразу же выходит из неё (без ожидания других токенов).

23. От задачи _«Принять заявку»_ добавьте элемент «**Развилка** «**или/или**».
24. Задайте для развилки название _«Есть машина?»_
25. Добавьте поток управления от развилки _«Есть машина?»_ к развилке _«Рассмотрение заявки»_.

    _![Диаграмма с развилкой «Есть машина?»](img/lesson_3_process_diagram_car_available.png)_

    !!! warning "Бизнес-логика"

        При наличии машины _Заказчик_ получит уведомление _«Совершить поездку»_, а _Водитель_ приступит к выполнению рейса.

26. Добавьте элемент «**Развилка** «**и**» от развилки _«Есть машина?»_.

    !!! question "Развилка «и»"

        **Развилка «и»** (параллельная) используется для разделения процесса на несколько потоков, которые будут выполняться одновременно.

27. От **развилки «и»** добавьте две пользовательских задачи:

    - _«Совершить поездку»_ для _Заказчика_;
    - _«Выполнить рейс»_ для сотрудника _Гаража_.

28. Укажите названия для исходящих потоков от развилки _«Есть машина?»: «Да»_ и _«Нет»_.
29. Добавьте ещё одну **развилку «и»** и соедините с ней задачи _«Совершить поездку»_ и _«Выполнить рейс»_.
30. Добавьте конечное событие и назовите его _«Поездка завершена»._
31. В итоге должна получиться следующая диаграмма:

    _![Результирующая диаграмма бизнес-процесса заказа автотранспорта](img/lesson_3_diagram_final.svg)_

!!! warning "Логика бизнес-процесса"

    Чтобы закрепить пройденный материал, обобщим диаграмму процесса заказа автотранспорта.

    1. _Заказчик_ подаёт заявку.
    2. _Секретарь_ рассматривает заявку:
        - если _Секретарь_ одобрил заявку, то выполняется шаг 4;
        - если _Секретарь_ отклонил заявку, то выполняется шаг 3.
    3. _Заказчик_ получает уведомление о том, что заявка отклонена и следует отменить поездку. Процесс заказа автотранспорта завершается отказом.
    4. _Диспетчер гаража_ рассматривает заявку:
        - в случае наличия машины он передает заявку на выполнение _Водителю_ и выполняется шаг 5;
        - в случае отсутствия машины заявка возвращается _Секретарю_ — на шаг 2.
    5. _Заказчик_ получает уведомление о том, что машина выделена и следует совершить поездку, а _Водитель_ приступает к выполнению рейса.
    6. Процесс завершается успехом.

## Настройка форм пользовательских задач

### Стартовая форма Заказчика

Настроим **стартовую форму**, которую будет заполнять _Заказчик_ при запуске процесса.

1. Выберите на диаграмме «**Начальное событие**» и в раскрывшемся меню элемента нажмите кнопку «**Стартовая форма**» <i class="fa-light fa-window-maximize"></i>.

    _![Переход к настройке стартовой формы](img/lesson_3_process_diagram_start_form_configure.png)_

2. Откроется конструктор стартовой формы.
3. Для формы задачи используем созданную ранее форму согласования заявки.
4. Перетащите с панели элементов форму _«Заявки на автомобили — Основная форма»_ на макет формы.
5. Сохраните форму.
6. Вернитесь к диаграмме процесса, нажав кнопку «**Назад**» в браузере.

    _![Помещение на стартовую форму вложенной формы заявки и сохранение стартовой формы](img/lesson_3_process_diagram_start_form_embed.png)_

## Форма задачи Секретаря «Рассмотреть заявку»

Настроим форму пользовательской задачи, которую будет заполнять исполнитель — _Секретарь_.

1. Выберите задачу _«Рассмотреть заявку»_ и в меню элемента нажмите кнопку «**Форма**» <i class="fa-light fa-newspaper"></i>.

    _![Переход к настройке формы задачи](img/lesson_3_process_diagram_task_form_configure.png)_

2. Отобразится конструктор формы задачи.
3. Разверните элемент _«Заявки на автомобили»_ на панели элементов слева.
4. Перетащите форму _«Заявки на автомобили — Основная форма»_ на макет формы.

    !!! warning "Бизнес-логика"

        _Секретарь_ не должен редактировать поля формы заявки на автомобиль от _Заказчика_, поэтому изменим режим доступа к вложенной форме.

5. Выберите добавленную форму заявки и на панели свойств укажите режим **доступа** «**Только чтение**».
6. Перетащите на макет формы под форму заявки на автомобиль элемент «**Область**» и присвойте ей название _«Решение»_ с помощью панели свойств.
7. Перетащите в область _«Решение»_ атрибут _«Заявка одобрена»_ из панели элементов.
8. Сохраните форму и вернитесь к диаграмме процесса, нажав кнопку «**Назад**» в браузере.

    _![Настройка формы задачи «Рассмотреть заявку»](img/lesson_3_task_form_review_request.png)_

### Форма задачи Диспетчера гаража «Принять заявку»

Настроим форму задачи, которую будет заполнять _Диспетчер гаража_.

1. Выберите задачу _«Принять заявку»_ на диаграмме процесса и в меню элемента нажмите кнопку «**Форма**» <i class="fa-light fa-newspaper"></i>.
2. Отобразится конструктор формы.
3. Перетащите форму _«Заявки на автомобили — Основная форма»_ на макет формы.
4. Укажите для дочерней формы режим **доступа** «**Только чтение**», чтобы Диспетчер гаража не мог редактировать заявку.

    !!! warning "Бизнес-логика"

        Сотрудник _Гаража_ должен принять или отклонить заявку в зависимости от наличия автомобиля в гараже.

        Для этого добавим **логический** атрибут.

        **{{ productName }}** позволяет добавлять атрибуты на лету, непосредственно во время настройки формы или таблицы.

5. Чтобы добавить атрибут в этот шаблон записи, нажмите кнопку «**Добавить атрибут**» <i class="fa-light fa-plus"></i> рядом с пунктом _«Заявки на автомобили»_ в панели элементов.

    _![Создание атрибута с помощью конструктора диаграммы процесса](img/lesson_3_process_diagram_designer_attribute_create.png)_

6. В отобразившемся окне свойств атрибута выберите **тип данных** «**Логический**» и укажите название _«Принято»_.
7. Нажмите кнопку «**Сохранить**».

    _![Настройка нового логического атрибута](img/lesson_3_attribute_logical_configure.png)_

8. Перетащите на макет формы новую **область** и переименуйте её в _«Принятие заявки»_ с помощью панели свойств.
9. Перетащите созданный атрибут _«Принято»_ на область _«Принятие заявки»._
10. Выберите поле _«Принято»_ и на панели свойств укажите способ отображения «**Отображать как переключатель**».
11. Сохраните форму и вернитесь к диаграмме процесса с помощью кнопки «**Назад**» браузера.

    _![Добавление на форму логического поля и настройка способа его отображения](img/lesson_3_process_diagram_task_form_accept_request.png)_

### Форма задачи Заказчика «Отменить поездку»

!!! warning "Бизнес-логика"

    Если заявка отклонена, _Заказчик_ должен быть проинформирован об этом.
   
    Форма пользовательской задачи в этом случае должна содержать только текст _«Заявка отклонена»_ и данные заявки.

    При этом _Заказчик_ не должен менять какие-либо данные в заявке.

1. Выберите на диаграмме процесса задачу _«Отменить поездку»_ и в меню элемента нажмите кнопку «**Форма**» <i class="fa-light fa-newspaper"></i>.
2. Отобразится конструктор формы задачи.
3. Перетащите на макет формы новую **область** и переименуйте её в _«Заявка отклонена»_ с помощью панели свойств.
4. На панели элементов разверните элемент _«Заявки на автомобили»_.
5. Перетащите форму _«Заявки на автомобили — Основная форма»_ под область _«Заявка отклонена»._
6. На панели свойств формы укажите режим **доступа** «**Только чтение**».
7. Сохраните форму и вернитесь к диаграмме процесса.

    _![Настройка вложенной формы только для чтения](img/lesson_3_process_diagram_task_form_read_only.png)_

### Форма задачи Заказчика «Совершить поездку»

Настройте форму для задачи, приходящей _Заказчику_, когда заявка одобрена.

1. Перейдите к настройке формы задачи _«Совершить поездку»_.
2. Поместите на форму область _«Совершить поездку»_ и вложенную форму _«Заявки на автомобили — Основная форма»_.
3. Установите для вложенной формы режим **доступа** «**Только для чтения**».
4. Сохраните форму и вернитесь к диаграмме процесса.

    _![Настройка формы задачи «Совершить поездку»](img/lesson_3_process_diagram_task_form_take_ride.png)_

### Форма задачи Водителя «Выполнить рейс»

1. Перейдите к настройке формы задачи _«Выполнить рейс»_.
2. Поместите на форму область _«Выполнить рейс»_ и вложенную форму _«Заявки на автомобили — Основная форма»_.
3. Установите для вложенный формы режим **доступа** «**Только для чтения**».
4. Сохраните форму и вернитесь к диаграмме процесса.

## Настройка развилок

Перейдём к настройке потоков управления после развилок. На диаграмме есть две развилки — _«Одобрена?»_ и _«Есть машина?»_.

### Развилка «Одобрена?»

!!! warning "Бизнес-логика"

    Поток, по которому процесс пойдёт после развилки _«Одобрена?»_, задаёт логический атрибут _«Заявка одобрена»_, значение которого устанавливает _Секретарь_ при рассмотрении заявки.

    Для управления ходом процесса определим условие для потока к задаче _«Принять заявку»_ на основе значения атрибута _«Заявка одобрена»_.

1. Выберите развилку _«Одобрена?»_ и в меню элемента нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i>.
2. Откроется окно свойств развилки.
3. На вкладке «**Дополнительные**» для потока к задаче _«Отменить поездку»_ установите флажок «**Поток** «**иначе**».

    _![Выбор потока «иначе»](img/lesson_3_exclusive_gate_default_flow_select.png)_

    !!! question "Поток управления «иначе» от развилки «или/или»"

        **Поток управления «иначе»** (по умолчанию) — это поток из **развилки «или/или»**, по которому пойдет процесс в том случае, если условия на всех остальных потоках не выполняются (значение логического выражения — `false`).

4. Составим выражение для условия, при выполнении которого процесс пойдет дальше. Для этого нам потребуется системное имя атрибута _«Заявка одобрена»._
5. На вкладке «**Дополнительные**»  нажмите ячейку «**Условие**» в строке потока к задаче _«Принять заявку»_.
6. Отобразится компактный редактор выражения.

7. При составлении выражения необходимо обратиться к системному имени атрибута.
8. Введите символ `$` и введите строку `Заяв` — первые буквы названия атрибута _«Заявка одобрена»_.
9. В отобразившемся раскрывающемся списке дважды нажмите системное имя атрибута `Заявкаодобрена`.

    !!! question "Ссылки на атрибуты в формулах"

        В формулах префикс `$` перед системным именем атрибута используется, чтобы обратиться атрибуту текущего объекта.
       
        То есть формула `$Заявкаодобрена` возвращает значение атрибута _«Заявка одобрена»_ — `true` или `false` (ложь или истина).

10. Нажмите кнопку <i class="fa-light fa-check"></i>.
11. Сохраните поток управления.

    _![Настройка условия для потока управления с помощью формулы, возвращающей значение атрибута «Заявка одобрена»](img/lesson_3_exclusive_gate_formula_configure.png)_

### Развилка «Есть машина?»

!!! warning "Бизнес-логика"

    Процесс должен перейти от развилки «Есть машина?» к **развилке «и»**, если _Диспетчер гаража_ установил для логического атрибута _«Принято»_  значение `true`.

1. Выберите развилку _«Есть машина?»_ и в меню элемента нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i>.
2. Перейдите на вкладку «**Дополнительные**».
3. Введите для потока _«Да»_ **формулу** `$Принято`.
4. Нажмите кнопку <i class="fa-light fa-check"></i>.

    _![Ввод и сохранение выражения для доступа к атрибуту «Принято» в потоке управления](img/lesson_3_request_accepted_sequence_flow_formula.png)_

5. Установите для потока к задаче _«Рассмотреть заявку»_ флажок «**Поток** «**иначе**».
6. Сохраните поток управления.

    _![Выбор потока управления по умолчанию и сохранение свойств развилки](img/lesson_3_exclusive_gate_request_accepted_default_flow_configure.png)_

## Настройка исполнителей задач

Укажем исполнителей для пользовательских.

### Задачи «Рассмотреть заявку», «Принять заявку» и «Выполнить рейс»

!!! tip "Совет"

    Для упрощения отладки процесса укажите исполнителем этих задач одного и того же пользователя, например свой аккаунт.

1. Выберите пользовательскую задачу _«Рассмотреть заявку»_ и в меню элемента нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i>.
2. На вкладке «**Дополнительные**» выберите исполнителя в раскрывающемся списке «**Исполнители**».
3. Введите заголовок задачи _«Заказ автотранспорта — Рассмотреть заявку»._

    _![Выбор исполнителя пользовательской задачи](img/lesson_3_user_task_assignee_select.png)_

4. Нажмите кнопку «**Сохранить**».
5. Аналогичным образом задайте **исполнителей** и **заголовки задач** _«Принять заявку» и «Выполнить рейс»_.

### Задачи «Отменить поездку» и «Совершить поездку»

Для задач _«Отменить поездку»_ и _«Совершить поездку»_ сделаем исполнителя вычисляемым — это должен быть пользователь, который инициировал процесс, то есть _Заказчик_.

!!! question "Системный атрибут «Создатель»"

    **Системный атрибут** «**Создатель**» (`_creator`) содержит ID аккаунта, который запустил экземпляр процесса.

1. Выберите задачу _«Отменить поездку»_ и в меню элемента нажмите кнопку «**Свойства**» <i class="fa-light fa-gear"></i>.
2. Отобразится окно «**Свойства пользовательской задачи**».
3. На вкладке «**Дополнительные**» в поле «**Исполнители**» выберите пункт «**Атрибут**».
4. Нажмите стрелку вниз в поле «**Исполнители**».
5. Выберите атрибут «**Создатель**» (`_creator`).
6. Введите **заголовок задачи** _«Заказ автотранспорта — Отменить поездку»_.
7. Сохраните пользовательскую задачу.

    _![Назначение исполнителя задачи по атрибуту _creator](img/lesson_3_user_task_assignee_set_creator.png)_

8. Аналогичным образом назначьте исполнителем инициатора процесса и задайте заголовок задачи _«Совершить поездку»_.

## Проверка и публикация процесса

Вы настроили шаблон бизнес-процесса. Чтобы применить изменения и запустить процесс, его необходимо опубликовать.

Диаграмму бизнес-процесса рекомендуется публиковать каждый раз после внесения изменений.

Перед публикацией проверьте диаграмму, чтобы убедиться, что формулы верны и диаграмма соответствует нотации BPMN.

1. Нажмите кнопку «**Проверить**» в конструкторе диаграммы процесса.

    -Если обнаружены какие-либо ошибки, элементы с ошибками будут выделены красным цветом. Щёлкните восклицательный знак рядом с выделенным элементом, чтобы просмотреть сообщения об ошибках.
    -Если диаграмма не содержит ошибок, появится сообщение «**Ошибок нет**», после чего диаграмму можно публиковать.

2. Нажмите кнопку «**Опубликовать**».

_![Проверка и публикация диаграммы](img/lesson_3_process_diagram_validate_publish.png)_

## Тестирование: запуск процесса и «Мои задачи»

Вы настроили и опубликовали бизнес-процесс, теперь протестируйте его в роли пользователя.

1. Перейдите на вкладку «**Свойства**» шаблона процесса _«Заказ автотранспорта»_.
2. Нажмите кнопку «**Перейти к экземплярам**».

    _![Переход к списку экземпляров бизнес-процесса](img/lesson_3_process_template_view_instances.png)_

3. В отобразившемся списке «**Все записи**» нажмите кнопку «**Создать**».
4. Отобразится стартовая форма процесса.
5. Заполните форму в роли _Заказчика_.
6. Нажмите кнопку «**Создать**».

    _![Создание новой заявки на автомобиль](img/lesson_3_create_request.png)_

7. Запущенный экземпляр процесса отобразится в списке.
8. Проверьте наличие задачи _«Рассмотреть заявку»_, в которой исполнителем назначены вы сами.
9. Перейдите на страницу «**Мои задачи**» с помощью панели навигации слева.

    _![Переход к странице «Мои задачи»](img/lesson_3_my_tasks_view.png)_

10. Отобразится список назначенных вам активных задач.
11. Откройте задачу, дважды нажав её в списке.

    _![Список активных задач пользователя](img/lesson_3.png)_

12. Отобразится форма рассмотрения заявки на автомобиль.
13. Установите флажок _«Заявка одобрена»_, то есть одобрите заявку в роли _Секретаря_.
14. Нажмите кнопку «**Завершить задачу**».

    _![Рассмотрение заявки на автомобиль и завершение задачи](img/lesson_3_review_request.png)_

15. Откройте страницу «**Мои задачи**».
16. В списке появится задача _«Заказ автотранспорта — Принять заявку»_.
17. В поле _«Принято»_ выберите пункт _«Нет»_. Это означает, что _Диспетчер гаража_ не смог выделить автомобиль для заявки и вернул её _Секретарю_.
18. Завершите задачу.

    _![Отклонение заявки на автомобиль в гараже и ее возврат Секретарю](img/lesson_3_return_request_to_review.png)_

19. Вернитесь к списку своих задач.
20. В списке появится задача _«Заказ автотранспорта — Рассмотреть заявку»_.
21. Откройте задачу и снимите флажок _«Заявка одобрена»_, то есть отклоните заявку в роли _Секретаря_.
22. Завершите задачу.
23. Откройте страницу «**Мои задачи**».
24. В списке задач появится задача _«Заказ автотранспорта — Отменить поездку»_. Это означает, что ваша заявка на автомобиль отклонена и вам как _Заказчику_ пришло об этом уведомление.
25. Завершите задачу.
26. Бизнес-процесс будет завершён.

## Результаты

Вы создали свой первый бизнес-процесс, настроили для него формы задач и протестировали запуск и исполнение задач процесса.

В [следующем уроке][lesson_4] вы узнаете, как отследить историю запущенного процесса, и настроите информационные страницы с диаграммами для просмотра статистики за период.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
