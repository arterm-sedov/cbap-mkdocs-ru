---
title: Урок 4. Усовершенствование шаблона записи
kbId: 
---

# Урок 4. Усовершенствование шаблона записи {: #tutorial_hr_lesson_4 }

## Введение {: #tutorial_hr_lesson_4_intro }

В ходе этого урока вы научитесь расширять модель данных для процесса найма персонала: создавать связь «один ко многим» между шаблонами, использовать атрибут типа «**Документ**», настраивать представление таблицы для связанных записей и добавлять записи «на лету».

**Предусловия:** пройден _[урок 3 «Мой первый бизнес-процесс»][lesson_3]_.

**Расчётная продолжительность:** 55 мин.

{% include-markdown ".snippets/tutorial_version_notice.md" %}

## Темы, навыки и задания урока {: #tutorial_hr_lesson_4_taxonomy }

**Темы:**
- Тип связи «один ко многим»
- Взаимная связь
- Атрибут типа «**Документ**»
- Создание записей «на лету»

**Навыки:**
- Создавать и использовать атрибут типа «**Документ**»
- Добавлять записи «на лету»

**Задания:**
- Создать шаблон записи для хранения
- Вернуться в настройку шаблона записи «Кандидаты», создать атрибут типа Запись (связанный шаблон – «Документы») с названием «Документы», хранить несколько значений, вынести на форму, выбрать представление – Таблица
- Создать шаблон записи «Типы документов», в нем атрибут типа Текст «Тип», чекбокс «Использовать как заголовок записей», вынести атрибут на форму
- В шаблоне записи «Документы кандидатов» создать атрибут Запись 1:1 «Тип», связь с шаблоном записи «Типы документов»
- Перейти в настройку формы пользовательской задачи на диаграмме процесса «Зафиксировать результаты тестирования» и вынести на нее основную форму шаблона записи «Кандидаты»
- Вынести в область по умолчанию атрибуты   Результат тестирования – Тестирование пройдено/ Тестирование не пройдено (логический)
- изменить доступ на «Требовать ввод»

## Определения {: #tutorial_hr_lesson_4_definitions }

- **Шаблон записи** — модель бизнес-сущности и хранилище данных (например, Кандидаты, Документы кандидатов).
- **Атрибут типа «Документ»** — поле для хранения файлов (резюме, результаты тестирования и др.).
- **Атрибут типа «Запись»** — поле для связи с другим шаблоном записи (например, Документы кандидата).
- **Связь «один ко многим»** — один объект (кандидат) связан с несколькими объектами (документами).
- **Взаимная связь** — двусторонняя связь между шаблонами записей.
- **Создание записей «на лету»** — добавление новых связанных записей прямо из формы.

## Создание шаблона записи «Типы документов»

1. Перейдите в раздел **Шаблоны** приложения _«Управление персоналом»_.
2. Создайте **шаблон записи** _«Типы документов»_.
3. Откройте шаблон и перейдите на вкладку **Атрибуты**.
4. Создайте текстовый атрибут «**Название**».
5. В свойствах атрибута установите флажок «**Использовать как заголовок записей**».
6. Добавьте созданный атрибут на форму _«Типы документов — Основная форма»_.
7. Сохраните форму и перейдите к списку экземпляров записи.
8. Создайте записи со следующими значениями:

    - _Резюме_
    - _Паспорт_
    - _Тестовое задание_

## Создание шаблона записи «Документы кандидатов» {: #tutorial_hr_lesson_4_create_documents_template }

1. Перейдите в раздел **Шаблоны** приложения _«Управление персоналом»_.
2. Создайте **шаблон записи** _«Документы кандидатов»_.
3. Откройте шаблон и перейдите на вкладку **Атрибуты**.
4. Создайте атрибут типа «**Документ**» с названием _«Файл»_.
5. Создайте атрибут типа «**Запись**» со следующими свойствами:

    - **Название:** _Тип_
    - **Связанный шаблон:** _Типы документов_

## Добавление связи «один ко многим» между шаблонами «Кандидаты» и «Документы кандидатов» {: #tutorial_hr_lesson_4_add_1m_link }

1. Откройте шаблон записи _«Кандидаты»_.
2. Перейдите на вкладку **Атрибуты** и нажмите **Создать**.
3. Выберите тип **Запись**.
4. Введите название — _«Документы»_.
5. В поле **Связанный шаблон** выберите _«Документы кандидатов»_.
6. Включите опцию **Хранить несколько значений**.
7. Вынесите атрибут _«Документы»_ на основную форму кандидата и выберите представление — **Таблица**.
8. Сохраните изменения.

### Создание шаблона записи «Типы документов» и настройка взаимной связи {: #tutorial_hr_lesson_4_create_types_template }

1. Перейдите в раздел **Шаблоны** и создайте новый шаблон _«Типы документов»_.
2. На вкладке **Атрибуты** нажмите **Создать**, выберите тип **Текст** и введите название _«Тип»_.
3. Установите флажок **Использовать как заголовок записей**.
4. Сохраните атрибут.
5. Откройте шаблон _«Документы кандидатов»_, перейдите на вкладку **Атрибуты** и нажмите **Создать**.
6. Выберите тип **Запись** (1:1), введите название _«Тип»_, выберите связанный шаблон _«Типы документов»_.
7. Вынесите атрибут _«Тип»_ на форму шаблона _«Документы кандидатов»_.
8. Сохраните оба шаблона.

### Добавление записей «на лету» {: #tutorial_hr_lesson_4_add_on_the_fly }

1. Откройте форму кандидата, в таблице _«Документы»_ используйте кнопку **Добавить** для создания нового документа прямо из формы кандидата.
2. Заполните поля: _Файл_, _Тип_, при необходимости добавьте описание.
3. Сохраните документ — он автоматически свяжется с кандидатом.

_![Пример формы кандидата с таблицей документов и кнопкой добавления](img/lesson_4_candidate_documents_table.png)_

### Настройка формы задачи «Зафиксировать результаты тестирования» {: #tutorial_hr_lesson_4_task_form }

1. Откройте шаблон процесса _«Найм персонала»_ и перейдите к задаче _«Зафиксировать результаты тестирования»_.
2. Вынесите на форму основную форму шаблона _«Кандидаты»_ и в отдельную область атрибуты _«Результат тестирования»_ и _«Тестирование пройдено?»_ (логический).
3. Измените доступ к этим полям на **Требовать ввод**.
4. Сохраните форму задачи.

## Итоги урока {: #tutorial_hr_lesson_4_summary }

В ходе этого урока вы научились создавать связанные шаблоны записей с типом связи 1:М, использовать атрибут Документ, настраивать табличное представление для связанных записей, добавлять записи «на лету» и настраивать формы задач для бизнес-процесса найма персонала.

В [следующем уроке][lesson_5] вы познакомитесь с вычисляемыми атрибутами и автоматизацией расчётов в системе.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
