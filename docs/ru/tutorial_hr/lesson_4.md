---
title: Урок 4. Усовершенствование шаблона записи
kbId: 
---

# Урок 4. Усовершенствование шаблона записи {: #tutorial_hr_lesson_4 }

## Введение {: #tutorial_hr_lesson_4_intro }

В этом уроке вы научитесь расширять модель данных для процесса найма персонала: создавать связанные шаблоны записей (1:М), использовать атрибуты типа Документ, настраивать представление таблицы для связанных записей и добавлять записи «на лету». Все действия выполняются на примере кейса по автоматизации найма сотрудников.

**Предусловия:** пройден _[урок 3 «Мой первый бизнес-процесс»][lesson_3]_.

**Расчётная продолжительность:** 55 мин.

{% include-markdown ".snippets/tutorial_version_notice.md" %}

## Определения {: #tutorial_hr_lesson_4_definitions }

- **Шаблон записи** — модель бизнес-сущности и хранилище данных (например, Кандидаты, Документы кандидатов).
- **Атрибут типа Документ** — поле для хранения файлов (резюме, результаты тестирования и др.).
- **Атрибут типа Запись** — поле для связи с другим шаблоном записи (например, Документы кандидата).
- **Связь 1:М** — один объект (кандидат) связан с несколькими объектами (документами).
- **Взаимная связь** — двусторонняя связь между шаблонами записей.
- **Табличное представление** — отображение связанных записей в виде таблицы на форме.
- **Создание записей «на лету»** — добавление новых связанных записей прямо из формы.

## Пошаговая инструкция {: #tutorial_hr_lesson_4_steps }

### Создание шаблона записи «Документы кандидатов» {: #tutorial_hr_lesson_4_create_documents_template }

1. Перейдите в раздел **Шаблоны** приложения _«Управление персоналом»_.
2. Нажмите **Создать** и выберите тип _«Шаблон записи»_.
3. Введите название — _«Документы кандидатов»_.
4. Сохраните шаблон.
5. Откройте шаблон и перейдите на вкладку **Атрибуты**.
6. Нажмите **Создать** и выберите тип **Документ**.
7. Введите название атрибута — _«Файл»_.
8. Сохраните атрибут.

### Добавление связи 1:М между «Кандидаты» и «Документы кандидатов» {: #tutorial_hr_lesson_4_add_1m_link }

1. Откройте шаблон записи _«Кандидаты»_.
2. Перейдите на вкладку **Атрибуты** и нажмите **Создать**.
3. Выберите тип **Запись**.
4. Введите название — _«Документы»_.
5. В поле **Связанный шаблон** выберите _«Документы кандидатов»_.
6. Включите опцию **Хранить несколько значений**.
7. Вынесите атрибут _«Документы»_ на основную форму кандидата и выберите представление — **Таблица**.
8. Сохраните изменения.

### Создание шаблона записи «Типы документов» и настройка взаимной связи {: #tutorial_hr_lesson_4_create_types_template }

1. Перейдите в раздел **Шаблоны** и создайте новый шаблон _«Типы документов»_.
2. На вкладке **Атрибуты** нажмите **Создать**, выберите тип **Текст** и введите название _«Тип»_.
3. Установите флажок **Использовать как заголовок записей**.
4. Сохраните атрибут.
5. Откройте шаблон _«Документы кандидатов»_, перейдите на вкладку **Атрибуты** и нажмите **Создать**.
6. Выберите тип **Запись** (1:1), введите название _«Тип»_, выберите связанный шаблон _«Типы документов»_.
7. Вынесите атрибут _«Тип»_ на форму шаблона _«Документы кандидатов»_.
8. Сохраните оба шаблона.

### Добавление записей «на лету» {: #tutorial_hr_lesson_4_add_on_the_fly }

1. Откройте форму кандидата, в таблице _«Документы»_ используйте кнопку **Добавить** для создания нового документа прямо из формы кандидата.
2. Заполните поля: _Файл_, _Тип_, при необходимости добавьте описание.
3. Сохраните документ — он автоматически свяжется с кандидатом.

_![Пример формы кандидата с таблицей документов и кнопкой добавления](img/lesson_4_candidate_documents_table.png)_

### Настройка формы задачи «Зафиксировать результаты тестирования» {: #tutorial_hr_lesson_4_task_form }

1. Откройте шаблон процесса _«Найм персонала»_ и перейдите к задаче _«Зафиксировать результаты тестирования»_.
2. Вынесите на форму основную форму шаблона _«Кандидаты»_ и в отдельную область атрибуты _«Результат тестирования»_ и _«Тестирование пройдено?»_ (логический).
3. Измените доступ к этим полям на **Требовать ввод**.
4. Сохраните форму задачи.

## Итоги урока {: #tutorial_hr_lesson_4_summary }

В этом уроке вы научились создавать связанные шаблоны записей с типом связи 1:М, использовать атрибут Документ, настраивать табличное представление для связанных записей, добавлять записи «на лету» и настраивать формы задач для бизнес-процесса найма персонала.

В [следующем уроке][lesson_5] вы познакомитесь с вычисляемыми атрибутами и автоматизацией расчётов в системе.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
