<h1>Атрибут типа «Текст». Настройка цвета отображения значения</h1><p>Все атрибуты в системе отображаются в определённом формате. Настроить определённый шрифт или размер шрифта для значений конкретного атрибута нельзя. Если же вы хотите, чтобы какой-либо атрибут в таблице окрашивался определенным цветом по заданному условию (например, если задача просрочена, выделить значение красным цветом, в противном случае — зеленым), то это возможно через атрибут с типом данных «Текст» с форматом отображения «HTML-текст».</p>
<p><strong>1.</strong> Создайте атрибут с типом данных «Текст», выберите формат его отображения «HTML текст». Отметьте флаг «Вычисляемый».</p>
<p><strong>2.</strong> В поле «Вычисляемое выражение» выберите «Формула» и вставьте формулу по типу:</p>
<div>
<table class="source_code_container">
<tbody>
<tr>
<td class="source_code">
<p>FORMAT(</p>
<p>IF(EQUALS($StatusRef-&gt;name,"Выполнено"),</p>
<p>"&lt;p&gt;&lt;span style='color:#000000'&gt;&lt;span style='background-color:#3ee028'&gt;{0}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;",</p>
<p>"&lt;p&gt;&lt;span style='color:#000000'&gt;&lt;span style='background-color:#f02626'&gt;{0}&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;"),</p>
<p>LIST($StatusRef-&gt;name))</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Для решения нашей задачи используется функция <strong><em>FORMAT</em></strong><strong><em>()</em></strong>, которая форматирует значение из нужного атрибута (в данном примере, «<em>Статус</em>»). Далее прописывается условие, используя функцию <strong><em>IF</em></strong><strong><em>()</em></strong>. В нашем случае это «<em>Статус</em>» равен «<em>Выполнено</em>». После этого, если условие выполняется, то задний фон окрашивается в зеленый цвет, а текст — в белый. Если условие не выполняется, то задний фон окрашивается в красный цвет, а текст — в белый.</p>
<p>Для окрашивания заднего фона и текста используется <em>HTML</em> — язык гипертекстовой разметки. Цвет заднего фона можно поменять здесь, после двоеточия «<em>'</em><em>background</em><em>-</em><em>color</em><em>:#</em><em>f</em><em>02626'</em>». Цвет текста можно поменять здесь, после двоеточия «<em>'</em><em>color</em><em>:#000000'</em>».</p>
<p>В конце выражения, в <strong><em>LIST</em></strong><strong><em>()</em></strong>, прописывается атрибут, значение которого хотим окрасить. В нашем случае это «<em>Статус</em>». Нужно заметить, что окрасится не сам атрибут «<em>Статус</em>», а отдельный вычисляемый атрибут, который мы создали.</p>
<div class="blue_note"><strong>Примечание :</strong> ограничений в настройке нет, можно окрашивать только текст, только фон, можно добавлять дополнительные html значки, и т.д. </div>