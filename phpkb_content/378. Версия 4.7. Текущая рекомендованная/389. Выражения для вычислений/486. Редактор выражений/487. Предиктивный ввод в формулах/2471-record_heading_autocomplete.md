---
title: Ввод заголовка записи связанного шаблона
kbId: 2471
---

# Ввод заголовка записи связанного шаблона

## Введение

Если в шаблоне указан [атрибут-заголовок записей][attribute_displayed], то при нажатии клавиш `Ctrl` `Пробел` в позиции после системного имени [атрибута типа «**Запись**»][attribute_record], связанного с этим шаблоном, отобразится список записей связанного шаблона с соответствующими заголовками.

### Пример: формула для подсчёта количества выполняющихся заявок

**Конфигурация приложения**

- Шаблон записи *«Заявка на автомобиль»*

    - **Системное имя**: *Zayavkanaavtomobil*.
    - Атрибут *«Статус»*
        - **Системное имя**: *Status*.
        - **Тип данных**: **Запись**.
        - **Связанный шаблон**: *Статус заявки*.
- Шаблон записи *«Статус заявки»*

    - **Системное имя**: *Statuszayavki*.
    - **Тип данных**: **Запись**.
    - Атрибут *«Название»*
        - **Системное имя**: *Nazvanie*.
        - **Тип данных**: **Текст**.
        - **Использовать как заголовок записей**: флажок установлен.
    - Записи: `Выполняется`, `Отклонена`, `Завершена`, `На рассмотрении`, `Создана`.

**Составление формулы**

1. Введите функцию `COUNT()`, которая возвращает количество элементов в списке, переданном в качестве аргумента. См. также раздел «**[Ввод имени функции и просмотр подсказки по функции][formula_editor_function_autocompete]**».
2. В позиции аргумента функции нажмите клавиши `Ctrl` `Пробел` и выберите шаблон *Zayavkanaavtomobil*.
3. В формулу будет вставлена заготовка конструкции from-where-select для шаблона *Zayavkanaavtomobil*.
4. Строку `Ваше условие замените` в заготовке замените на `b->Status->Nazvanie ==`, чтобы привести формулу к виду:

```
COUNT(from b in db->Zayavkanaavtomobil  where b->Status->Nazvanie == select b->id)
```
5. Нажмите клавиши `Ctrl` `Пробел` в позиции после оператора `==`.
6. Отобразится список записей шаблона *«Статус заявки»*.
![Список записей шаблона](https://kb.comindware.ru/assets/formula_editor_record_heading_autocomplete.png)
Список записей шаблона
7. Дважды нажмите пункт *«Выполняется»*, чтобы вставить в формулу литерал `"Выполняется"`.

**Формула, возвращающая количество записей в шаблоне Zayavkanaavtomobil, связанных с записью «Выполняется» в шаблоне Status**

```
COUNT(from b in db->Zayavkanaavtomobil  where b->Status->Nazvanie == "Выполняется"  select b->id)
```

--8<-- "related_topics_heading.md"

**[Редактор выражений][expression_editor]**

**[Примеры использования формул](https://kb.comindware.ru/category.php?id=409)**

**[Ввод имени функции и просмотр подсказки по функции][formula_editor_function_autocompete]**

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
