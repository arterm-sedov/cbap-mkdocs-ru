---
title: Урок 10. Работа с файлами
kbId: 2065
---

# Урок 10. Работа с файлами

## Введение

Из этого урока вы узнаете, как загружать в систему и скачивать файлы: документы и изображения.

**Предусловие:** пройден [Урок 9.  Формирование документов](https://kb.comindware.ru/article.php?id=2064).

**Расчетная продолжительность:** 10 мин.

**Примечание:** в данном уроке представлен продукт **{{ productName }}** версии 4.2.219.0, внешний вид страниц и меню в других версиях продукта может отличаться.

## Загрузка документов и изображений

Чтобы водитель, выполняющий рейс, мог загружать в систему сканы квитанций и другие документы, следует добавить соответствующий атрибут на экранную форму.

Добавим атрибут типа «**Документ**» в шаблон *«Затраты»*…

 **1.**  Перейдите на вкладку «**Атрибуты**» шаблона *«Затраты»*.

 **2.**  Создайте атрибут *«Приложение»* с **типом данных** «**Документ**».

**3.**  Установите флажок «**Хранить несколько значений**», чтобы к записи можно было прикреплять несколько файлов одновременно.

**4.**  Сохраните атрибут.

![Создание атрибута типа <em>«Документ»</em>](https://kb.comindware.ru/assets/img_6317ce3eebdfe.png)

Создание атрибута типа «**Документ**»

Добавим созданный атрибут в таблицу затрат на форме задачи *«Выполнить рейс»*…

 **1.**  Перейдите к вкладке «**Диаграмма**» шаблона процесса *«Заказ автотранспорта»* нажмите кнопку «**Редактировать**».

 **2.**  Выберите задачу *«Выполнить рейс»* и в меню элемента нажмите кнопку «**Форма**».

 **3.**  На панели элементов разверните шаблоны *«Заявка на автомобиль»* и *«Затраты»*.

 **4.**  Перетащите атрибут *«Приложение»* на форму в таблицу *«Затраты»*.

 **5.**  Сохраните форму.

![Добавление атрибута типа <em>«Документ»</em> на экранную форму](https://kb.comindware.ru/assets/img_6317cf4a7c256.png)

Добавление атрибута типа *«Документ»* на экранную форму

 **6.**  Вернитесь к диаграмме процесса и опубликуйте ее.

## Тестирование загрузки документа

 **1.**  Создайте новую заявку на автомобиль и пройдите бизнес-процесс до задачи *«Выполнить рейс»*.

**Примечание**


Для тестирования работы бизнес-приложения вы можете выполнять пользовательские задачи одним из трех способов:

- войти в систему несколько раз с разными учетными записями: *Заказчик, Секретарь, Водитель, Диспетчер*;
- создать заявку на автомобиль, затем открыть диаграмму запущенного бизнес-процесса *«Заказ автотранспорта»* и переходить к задачам с помощью кнопки «**Перейти**» ![Перейти](https://kb.comindware.ru/assets/img_6317cf670d9c3.png)  в панели «**Токены**» ;
- назначить себя исполнителем всех пользовательских задач.

 **2.**  На форме задачи *«Выполнить рейс»* создайте запись в таблице *«Затраты»*.

 **3.** Загрузите текстовый документ к созданной записи. Для этого нажмите в строке затраты поле *«Приложение»* и нажмите кнопку «**Добавить документ**».

 **4.**  Создайте еще одну запись в коллекции *«Затраты»*

**5.** Загрузите изображение ко второй записи затрат. 

**6.**  Нажмите кнопку «**Сохранить**».

Проверим возможность скачивания загруженных документов с сохраненной формы…

 **7.**  Нажмите название загруженного текстового документа или изображения в коллекции затрат. Браузер скачает прикрепленный файл.

_![Загрузка в систему и скачивание файла с помощью экранной формы](https://kb.comindware.ru/assets/img_6317d1a7c99ba.png)_

 

## Результаты

Поздравляем! Вы научились работать с файлами: загружать в систему и скачивать документы и изображения.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
