---
title: Урок 2. Мой первый реестр данных
kbId: 2054
---

# Урок 2. Мой первый реестр данных

## Введение

Следуя указаниям в этом уроке, вы создадите реестр данных (**шаблон записи**) для заявки на автомобиль, настроите атрибуты, их отображение в виде таблицы и экранной формы, а затем в роли *Заказчика* создадите несколько заявок.

**Предусловия:** выполнена авторизация, пройден [Урок 1. Первое знакомство](https://kb.comindware.ru/article.php?id=2052).

**Расчетная продолжительность:** 15 мин.

**Примечание:** в данном уроке представлен продукт **{{ productName }}** версии 4.2.219.0, внешний вид страниц и меню в других версиях продукта может отличаться.

## Создание приложения

Подробные сведения о приложениях в **{{ productName }}** см. в разделе «[Разработка приложений](https://kb.comindware.ru/category.php?id=440)».

**Создадим приложение для автоматизации заявок на корпоративный автотранспорт…**

1. В панели навигации слева выберите раздел «Настройка» — «Приложения».

2. Нажмите кнопку «Создать  » на панели инструментов  .

_![Добавление приложения](https://kb.comindware.ru/assets/img_6308c45854715.png)_

 **3.**  Введите название (отображаемое на экране название) приложения, например, «Управление автопарком». После заполнения имени поле «**Системное имя**» заполнится автоматически, при желании вы можете ввести собственное системное имя.

**Определение**

- **Системное имя** используется в качестве идентификатора переменной (атрибута) при разработке скриптов, правил и выражений.
- Системное имя может состоять из латинских букв (A–Z, a–z), цифр (0–9) и символов подчеркивания (\_). Системное имя не должно начинаться с цифры.
- Для **названий** приложений и шаблонов и **отображаемых** **названий** атрибутов и полей никаких ограничений нет — они могут быть любыми, в идеале — лаконичными и в то же время понятными пользователям приложения.
- Пару «*название – системное имя*» мы встретим еще неоднократно.

 **4.**  Нажмите кнопку «**Сохранить**».

_![Сохранение нового приложения](https://kb.comindware.ru/assets/img_63093c3306c35.png)_

 **5.**  Дважды нажмите строку созданного приложения в списке, чтобы перейти к его настройке.

_![Список приложений](https://kb.comindware.ru/assets/img_6308c4fde97b1.png)_

## Создание реестра данных

**Определим, какие данные участвуют в процессе заказа автотранспорта…**

*Заказчик* создает заявку, которую затем согласовывает *Секретарь* — одобряет либо отклоняет.

Заявки будут храниться в реестре данных.

Реестр данных создается и настраивается с помощью **шаблона записи**.

**Определение**

- Реестр данных — это аналог листа Excel или таблицы в реляционной базе данных. В **{{ productName }}** реестр данных называется **ш**аблоном записи. Реестр данных может быть представлен сжато — в виде списка записей, или развернуто — в виде экранной формы.
- Запись — это набор данных (атрибутов) об одном объекте, значении справочника, транзакции и т.п.
- Атрибут — это простейший элемент данных об объекте: место подачи (строка), количество пассажиров (число), время подачи (дата/время), автомобиль (ссылка) и т.п.
- Список записей — это представление реестра на экране в виде таблицы с определенным расположением атрибутов (столбцов) и настроенными фильтрами, определяющими, какие записи (строки) должны отображаться.
- В отличие от списка, экранная форма отображает одну запись. Форма содержит экранные поля, предназначенные для отображения и ввода данных реестра.

**Создадим шаблон записи для заявки на автомобиль…**

**1.**  Перейдите в раздел «**Шаблоны**» приложения *«Управление автопарком».*

![Переход в раздел «Шаблоны»](https://kb.comindware.ru/assets/img_6308c56696b07.png)

Переход в раздел «**Шаблоны**»

**2.**Выберите вкладку «**Шаблоны записей**».

**3.**  Нажмите кнопку «**Создать**».

_![Создание шаблона записи](https://kb.comindware.ru/assets/img_63093c587ae09.png)_

**4.**  В поле «**Название**» укажите *«Заявка на автомобиль»*. Это **отображаемое название** шаблона.

**5.**  В поле «**Тип шаблона**» должно быть автоматически выбрано значение «**Шаблон записи**».

**6.**Остальные поля оставьте без изменений.

**7.**  Нажмите кнопку «**Создать**».

_![Ввод имени и создание шаблона записи](https://kb.comindware.ru/assets/img_63093c6a3f4de.png)_

## Добавление атрибутов реестра данных

Добавим атрибуты для реестра данных *«Заявка на автомобиль».*

 **1.**  Перейдите на вкладку «**Атрибуты**».

 **2.**  Нажмите кнопку «**Создать**».

![Вкладка «Атрибуты» шаблона записи](https://kb.comindware.ru/assets/img_63093c8616448.png)

Вкладка «**Атрибуты**» шаблона записи

 **3.**  Выберите **тип данных** « **Текст**», укажите **название** атрибута *«Место подачи»*. Как обычно, системное имя заполнится автоматически.

**4.**Остальные поля оставьте без изменений.

 **5.**  Нажмите кнопку «**Сохранить**».

_![Создание и сохранение атрибута](https://kb.comindware.ru/assets/img_630c588aca1e0.png)_

 **6.**  Аналогично создайте следующие атрибуты:

- **тип данных**— «**Дата и время**», **название**— *«Время подачи»;*
- **тип данных**— «**Текст**», **название**— *«Маршрут»;*
- **тип данных**— «**Число**», **название**— *«Пассажиры».*

Мы создали минимальный набор атрибутов, необходимый для подачи и обработки заявки на корпоративный автомобиль.

**Определение**

 **Основные типы атрибутов**
 
● **Текст** — для него доступны следующие форматы отображения:
- **Обычный текст** — значение атрибута отображается без форматирования;
- **Размеченный текст** — значение атрибута отображается в виде текста с форматированием.
- **HTML-текст** — значение атрибута отображается в виде текста с форматированием, при этом набор настроек для работы с текстом расширен.
- **Телефон (РФ)**, **Адрес эл. почты**, **Паспорт (РФ)**, **Индекс (РФ)**, **ИНН юрлица****,** **ИНН физлица**, **ОГРН (РФ)**, **Регистрационный номер ТС (РФ)**, **Особая маска** — маски, задающие формат отображения значения атрибута с помощью регулярных выражений.

● **Число** — для него можно выбрать количество знаков, отображающихся после запятой:
- **Не преобразовывать** — значение атрибута отображается в том же формате, что его ввел пользователь;
- **0** — значение атрибута отображается в продукте в виде целого числа;
- **1–6** — значение атрибута отображается в виде десятичной дроби с указанным количеством знаков после запятой;

● **Дата и время** — атрибут содержит данные о дате и времени. Для него доступно несколько форматов отображения. В зависимости от выбранного формата отображения этот атрибут отображает либо только дату, либо дату и время.

● **Документ**— атрибут, содержащий, например, файлы Word или PDF с компьютера.

● **Изображение**— атрибут, содержащий, например, сканы изображений или фотографии со смартфона.

Кроме того, **{{ productName }}** поддерживает атрибуты следующих типов: **Аккаунт**, **Гиперссылка**, **Длительность**, **Запись**, **Логический**, **Организационная единица**, **Роль**, **Список значений**. С некоторыми из них мы познакомимся позже.

**Примечание**


Следуя методологии аджайл, на начальном этапе мы не стремимся охватить все атрибуты, а ограничиваемся минимально необходимыми. Наша цель — как можно быстрее сделать работоспособное приложение, которое можно показать первым пользователям. Потом, получив от них обратную связь, мы будем добавлять в нашу таблицу новые атрибуты и вносить другие доработки по их пожеланиям. 
## Создание экранной формы реестра данных

Теперь можно создать экранную форму, с помощью которой мы будем вводить и редактировать данные реестра.

 **1.**  Перейдите на вкладку «**Формы**».

Созданный ранее шаблон записи *«Заявка на автомобиль»* уже содержит одну *пустую* форму *«Заявка на автомобиль — Основная форма»*, которую мы теперь настроим.

 **2.**  Дважды щелкните пункт *«Заявка на автомобиль — Основная форма».*

![Вкладка «Формы»](https://kb.comindware.ru/assets/img_63093f2933944.png)

Вкладка «**Формы**»

**3.** Отобразится конструктор формы:

_![Конструктор формы](https://kb.comindware.ru/assets/img_6241dcbe727e8.png)_

**Определение**

**Конструктор формы** разбит на четыре области:
(1) **панель элементов** — палитра элементов, которые можно перетащить на форму: атрибуты и вспомогательные визуальные элементы (**Область**, **Вкладки**, **Группа кнопок**, **Разделитель кнопок**, **Колонки**, **Статичный текст**);

(2) **макет формы**— это эскиз экранной формы;

(3) **панель свойств**— позволяет просмотреть и изменить свойства выбранного элемента. 

(4) **кнопки**— **Сохранить**, **Очистить**, **Клонировать**, **Настроить шаблон** *‌*, **Связи** (со значком клубка).  

**4.**  Перетащите на макет формы элемент «**Область**» с панели элементов.

**5.**  Перетащите на макет формы атрибут *«Время подачи»* с панели элементов.

_![Перетаскивание атрибута на форму](https://kb.comindware.ru/assets/img_6241deb173c3e.png)_

**6.**  Аналогичным образом перетащите на макет формы атрибуты *«Место подачи», «Маршрут», «Пассажиры».*

При заполнении *«Времени подачи» Заказчик* должен вводить не только дату, но и часы и минуты. По умолчанию же отображается только дата. Измените формат отображения атрибута…

 **7.**  На панели элементов щелкните значок карандаша у атрибута *«Время подачи».*

_![Значок редактирования атрибута в панели элементов](https://kb.comindware.ru/assets/img_6241df515f950.png)_

**8.**  Отобразится окно свойств атрибута. Выберите подходящий формат, например, «**4 сент. 1986 г. 07:30**», и нажмите кнопку «**Сохранить**».

_![Выбор формата отображения атрибута типа «Дата / время»](https://kb.comindware.ru/assets/img_630c5c0b6d295.png)_

**Укажем обязательные для заполнения поля...**

**9.**  Выберите на форме поле *«Время подачи»*. В поле «**Доступ**» на панели свойств поля выберите режим «**Требовать ввод**».

_![Выбор режима доступа к полю в форме](https://kb.comindware.ru/assets/img_6241e3289601c.png)_

**10.**  Аналогично сделайте обязательным поле *«Место подачи».*

**Примечание**


Форму можно сделать визуально более привлекательной, используя дополнительные элементы дизайна.
- **Область** — позволяет объединить поля в отдельную группу и указать её заголовок. На форме необходимо создать как минимум одну область.
- **Статичный****текст** — предназначена для отображения статичного текста на экранной форме.
- **Вкладки** — позволяет распределить поля по вкладкам, между которыми можно переключаться.
- **Колонки** — позволяет расположить поля в несколько столбцов.

**11.**  Перетащите на форму элемент «**Колонки**» с панели элементов.

 **12.**  Перетащите поля *«Время подачи»* и *«Место подачи»* соответственно в левый и правый столбцы формы.

_![Перетаскивание элементов в столбцы в форме](https://kb.comindware.ru/assets/img_6241e23921c23.png)_

 **13.**  Присвойте «**Новой области**» формы наглядное название: выберите заголовок «**Новая область**» и в поле «**Отображаемое название**» на панели свойств введите *«Форма заявки на автомобиль»*.

**14.**  Для сохранения формы нажмите кнопку «**Сохранить**» на панели инструментов конструктора форм.

![Переименование области формы и сохранение формы](https://kb.comindware.ru/assets/img_6241e2b794dd5.png)

Переименование области формы и сохранение формы

В конструкторе форм предусмотрено много других функций, на которых мы останавливаться не будем. Вы можете самостоятельно поэкспериментировать с другими элементами и настройками экранной формы.

## Тестирование: ввод и редактирование заявок

Мы создали экранную форму для заявки на автомобиль. Теперь мы выйдем из роли аналитика и протестируем созданную форму — посмотрим на нее глазами пользователя.

 **1.**  Нажмите кнопку «**Настроить шаблон**» *‌*.

_![Переход к настройкам шаблона записи](https://kb.comindware.ru/assets/img_6241e867635c9.png)_

 **2.**  Нажмите кнопку «**Перейти к экземплярам**», чтобы перейти к списку записей.

_![Переход к списку записей шаблона](https://kb.comindware.ru/assets/img_6241e413bc912.png)_

 **3.**  Нажмите кнопку «**Создать**», чтобы создать новую запись — заявку на автомобиль.

_![Кнопка создания записи в списке записей](https://kb.comindware.ru/assets/img_6241e433e893f.png)_

 **4.**  Откроется экранная форма заявки. Заполните все поля и нажмите кнопку «**Сохранить**».

_![Экранная форма заявки](https://kb.comindware.ru/assets/img_630c5dc8edf1b.png)_

 **5.**  Нажмите ссылку «**Заявка на автомобиль**», чтобы вернуться к списку заявок.

_![Возвращение к списку записей с помощью кнопки «Назад» в браузере](https://kb.comindware.ru/assets/img_630c5debc35d1.png)_

 **6.**  Создайте несколько заявок на автомобиль таким же образом. Созданные записи будут отображаться в списке.

 **7.**  Двойным щелчком в списке записей откройте созданную запись и измените данные заявки.

_![Открытие записи из списка двойным щелчком](https://kb.comindware.ru/assets/img_6241e676a4ca3.png)_

## Доработка экранной формы: статус согласования заявки секретарем

Созданная заявка будет рассматриваться секретарем, но в нашем реестре (шаблоне записи) не хватает атрибута для результата одобрения. Добавим этот атрибут…

 **1.** Перейдите к конфигурации шаблона записи. Для этого нажмите кнопку «**Мои настройки**» *‌* в списке «**Все записи**» и выберите пункт «**Настроить шаблон**».

_![Переход к настройкам шаблона из списка записей](https://kb.comindware.ru/assets/img_6309450bb2c9c.png)_

 **2.**  Выберите вкладку «**Атрибуты**». Нажмите кнопку «**Создать**».

_![Добавление атрибута шаблона](https://kb.comindware.ru/assets/img_6241e9cd3c5a3.png)_

 **3.**  Введите название *«Одобрено»*, выберите **тип данных «Логический»**, нажмите кнопку «**Сохранить**».

![Создание атрибута «Одобрено» типа «Логический»](https://kb.comindware.ru/assets/img_63094161a08d5.png)

Создание атрибута «Одобрено» типа «**Логический**»

## Настройка списка записей

Список созданных нами заявок отображаются в виде таблицы, но он не информативен — по умолчанию в таблице отображаются только служебные столбцы: номер, создатель заявки, дата создания. Список следует доработать…

 **1.**  Перейдите на вкладку «**Таблицы**» шаблона записи и дважды нажмите строку «**Все записи**».

_![Переход к конструктору списка](https://kb.comindware.ru/assets/img_6241eac23e443.png)_

Отобразится конструктор таблицы со списком записей.

Конструктор таблицы позволяет настроить набор и порядок отображения столбцов.

**Для начала удалим столбцы, которые пользователю не интересны...**

 **2.**  Выберите элемент «**ИД**» в макете таблицы и перетащите его на панель элементов. Таким же образом уберите из таблицы столбцы «**Дата создания**», «**В архиве**» и *«**Используется в процессе**»*. Должны остаться столбцы «**Создатель**» и «**Дата изменения**».

_![Конструктор списка — удаление атрибутов из списка с помощью перетаскивания на панель элементов](https://kb.comindware.ru/assets/img_6241ed520ef21.png)_

**Теперь добавим в таблицу необходимые столбцы...**

**Примечание**


Последовательность, в которой элементы расположены в конструкторе таблицы, определит последовательность столбцов при ее отображении. Т. е. элемент, который расположен вверху в конструкторе списка, отобразится первым (слева) в таблице. 
 **3.**  Перетащите следующие атрибуты с панели элементов на макет таблицы: «Время подачи», «Место подачи», «Маршрут», «Пассажиры».

 **4.**  Нажмите кнопку «**Сохранить**». Будут сохранены настройки отображения атрибутов в таблице по умолчанию для всех пользователей.

 **5.** В меню *‌* нажмите кнопку «**Настроить шаблон**».

_![Перетаскивание требуемых элементов в список и сохранение списка](https://kb.comindware.ru/assets/img_6474a15e75f1f.png)_

 **6.**Отобразится вкладка **«*Свойства*»** шаблона.

**7.**Нажмите кнопку «**Перейти к экземплярам**», чтобы открыть список заявок в виде таблицы с настроенными столбцами.

_![Список записей в виде таблицы с настроенными столбцами](https://kb.comindware.ru/assets/img_6241efdb08f28.png)_

## Поиск и фильтрация записей в списке

Используем дополнительные настройки отображения записей в списке — отфильтруем и отсортируем записи в нужном нам порядке, затем настроим группировку и подсчет итогов. 

### Настройка и сохранение параметров фильтрации, сортировки и группировки записей списка для текущего пользователя

**Примечание**

- В этом параграфе представлены инструкции по настройке параметров отображения столбцов таблицы для **текущего пользователя**. Эти настройки хранятся в платформе индивидуально для каждого пользователя.
- Помимо этого, в конструкторе списка можно настроить параметры отображения столбцов, которые будут использоваться  **для всех пользователей по умолчанию**. Соответствующие инструкции представлены в следующем параграфе.

 **1.**  Нажимайте заголовок столбца *«Время подачи»* для циклического переключения режимов сортировки данных в таблице по данному столбцу: по возрастанию, по убыванию, по умолчанию. Режим сортировки указывает стрелка вниз (по убыванию), стрелка вверх (по возрастанию) или отсутствие стрелки (по умолчанию) в заголовке столбца.

![ Сортировка списка щелчком по заголовку столбца ](https://kb.comindware.ru/assets/img_6241f0df1fb27.png)

 Сортировка списка щелчком по заголовку столбца

Для поиска записи можно использовать фильтр «**Равно**» или «**Содержит строку**». Для этого следует ввести значение в меню фильтра… 

Меню с настройками отображается при нажатии значка воронки в заголовке столбца списка.

**2.**  Нажмите значок воронки в столбце *«Маршрут»*. В раскрывшемся меню установите флажок «**Фильтровать данные**», выберите тип фильтра «**Содержит строку**» и укажите искомое значение для фильтра в поле «**Введите текст**».

**3.**  Нажмите кнопку «**Сохранить**».

![ Применение фильтра записей по содержимому столбца ](https://kb.comindware.ru/assets/img_6241f1e9707d2.png)

 Применение фильтра записей по содержимому столбца

В списке отобразятся записи, соответствующие указанному фильтру…

**4.**  Чтобы отменить фильтрацию записей, щелкните значок воронки в столбце *«Маршрут»*, в раскрывшемся меню снимите флажок «**Фильтровать данные**» и нажмите кнопку «**Сохранить**». 

_![Отключение фильтрации записей в списке](https://kb.comindware.ru/assets/img_6241f1da7b80e.png)_

**5.**  Чтобы сгруппировать заявки с одинаковым маршрутом, щелкните значок воронки в столбце «Маршрут» и в раскрывшемся меню установите флажок «**Группировать**» и нажмите кнопку «**Сохранить**».

![ Группировка записей в списке ](https://kb.comindware.ru/assets/img_6241f31110572.png)

 Группировка записей в списке

**Скроем столбец «Дата изменения»…**

**6.**  Нажмите кнопку *‌* и в раскрывшемся меню выберите пункт «**Настроить внешний вид**».

_![Переход к странице пользовательской настройки отображения столбцов списка](https://kb.comindware.ru/assets/img_6309447b73510.png)_

**7.** Отобразится страница настройки внешнего вида таблицы. Снимите флажок «**Дата изменения**», чтобы скрыть из таблицы соответствующий столбец.

**8.** Нажмите кнопку «**Сохранить**».

Кнопка «**Сбросить**» позволяет восстановить исходную конфигурацию отображения таблицы.

_![Страница пользовательской настройки внешнего вида таблицы](https://kb.comindware.ru/assets/img_6241f644afe4f.png)_

### Настройка и сохранение параметров сортировки, группировки, подсчета итогов и фильтрации данных в таблице для всех пользователей

**Примечание**

- В этом параграфе представлены инструкции по настройке параметров отображения столбцов таблицы, которые будут использоваться  **для всех пользователей по умолчанию**.
- Помимо этого, каждый пользователь может настроить отображение столбцов индивидуально в соответствии со своими потребностями. См. предыдущий параграф.

 **1.**  Нажмите кнопку *‌* и в раскрывшемся меню выберите пункт «**Редактировать таблицу**». Отобразится конструктор списка.

_![Переход к конструктору списка](https://kb.comindware.ru/assets/img_630c5f0fe5c73.png)_

 **2.**  Выберите вкладку «**Дополнительные**» в панели «**Свойства таблицы**». 

**3.** Перетащите в области «**Сортировка**», «**Группировка**» и «**Фильтрация**» элементы списка и настройте параметры сортировки, группировки и фильтрации данных в таблице для всех пользователей.

**4.** Нажмите кнопку *«***Сохранить***»***.**

![Настройка параметров сортировки, группировки и фильтрации списка по умолчанию для всех пользователей ](https://kb.comindware.ru/assets/img_624206ff1c830.png)

Настройка параметров сортировки, группировки и фильтрации списка по умолчанию для всех пользователей 

## Результаты

Поздравляем! Вы создали свой первый реестр данных, сконструировали экранную форму, научились вводить через нее данные и настраивать таблицы со списками записей.

В  [следующем уроке](https://kb.comindware.ru/article.php?id=2055)  вы узнаете, как спроектировать и запустить бизнес-процесс.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
