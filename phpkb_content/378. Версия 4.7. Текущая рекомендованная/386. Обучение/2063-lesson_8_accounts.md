---
title: Урок 8. Аккаунты
kbId: 2063
---

# Урок 8. Аккаунты

## Введение

Из этого урока вы узнаете, как спроектировать оргструктуру, создать аккаунты для пользователей и управлять ими: назначать роли, выдавать и ограничивать права доступа, настраивать разделы навигации и назначать исполнителей задач.

Сначала мы создадим роли и настроим права доступа к шаблонам, которые используются в процессе заказа автотранспорта. Затем создадим группы аккаунтов и привяжем их к ролям. После этого укажем исполнителей для задач — выберем в качестве исполнителей созданные группы. Прежде чем тестировать процесс, мы создадим несколько аккаунтов и добавим их в группы.

**Предусловие:** пройдены [Урок 4. Мониторинг и аналитика](https://kb.comindware.ru/article.php?id=2057).

**Расчетная продолжительность:** 15 мин.

**Примечание:** в данном уроке представлен продукт **{{ productName }}** версии 4.2.219.0, внешний вид страниц и меню в других версиях продукта может отличаться.

## Роли

Определим роли пользователей нашего приложения:

- *Заказчик* — сотрудник компании, который должен иметь возможность создавать заявку и просматривать обработанную заявку;
- *Секретарь* — согласует заявку, должен иметь доступ к редактированию и просмотру заявок;
- *Диспетчер гаража*— принимает заявку и выделяет машину; должен иметь возможность редактировать заявку и формировать отчеты.
- *Водитель*— выполняет рейс и фиксирует затраты.

**Определение**

**Роли** задают разрешения на доступ к ресурсам приложения: реестрам данных (шаблонам записей), спискам, кнопкам, формам, задачам бизнес-процесса и др. 
Настройка роли включает в себя:
- настройку разрешений на доступ к ресурсам приложения;
- выбор пунктов раздела навигации, который будет отображаться для пользователей, относящихся к этой роли;
- назначение роли пользователям и (или) группам пользователей.

Создадим роли и настроим для них разрешения…

**1.**  С помощью боковой панели навигации прейдите в раздел «**Настройки**» — «**Приложения**» и откройте приложение *«Управление автопарком».*

 **2.**  Перейдите к разделу «**Роли**».

_![Переход к разделу настройки ролей пользователей бизнес-приложения](https://kb.comindware.ru/assets/img_6315de9b6cd0a.png)_

 **3.** В списке ролей нажмите кнопку «**Создать**». Отобразится страница свойств новой роли.

 **4.**  Укажите **название** роли — *«Заказчик».*

_![Создание роли «Заказчик»](https://kb.comindware.ru/assets/img_6315defc20625.png)_

Определим разрешения для роли *«Заказчик»*. *Заказчик* должен иметь возможность создавать заявки (т. е. инициировать процесс заказа автотранспорта) и завершать задачи. Поэтому настроим разрешения на доступ к шаблону процесса…

 **5.**  Перейдите на вкладку «**Разрешения**». 

 **6.**  В списке слева разверните процесс *«Заказ автотранспорта»* и перетащите в таблицу разрешений кнопки «**Создать**» и «**Завершить задачу**».

**7.** Установите флажок (разрешение) в столбце «**Просмотр**» для приложения *«Управление автопарком».*

**8.** Установите флажки (разрешения) в столбце «**Создание**» и «**Просмотр**» для шаблона процесса *«Заказ автотранспорта».*

**9.** Для кнопок «**Создать**» и «**Завершить задачу**» установите разрешения «**Использование кнопки**», как показано на иллюстрации.

_![Настройка разрешений для приложения, шаблона процесса и кнопок «Создать» и «Завершить задачу»](https://kb.comindware.ru/assets/img_6315e22c82b48.png)_

Чтобы заказчик смог выбрать тип автомобиля при подаче заявки, он должен иметь возможность просмотра данных из справочника типов автомобилей…

 **10.**  Перетащите на таблицу разрешений справочник *«Тип автомобиля»* и установите для него разрешение «**Просмотр**».

![Назначение разрешения «Просмотр» для справочника «Тип автомобиля»](https://kb.comindware.ru/assets/img_6475e0b50cece.png)

Назначение разрешения «**Просмотр**» для справочника «Тип автомобиля»

Теперь настроим доступ *Заказчика* к созданию заявок на автомобиль и просмотра списка заявок и формы заявки…

 **11.**  Раскройте список *«Заявка на автомобиль»* на панели элементов слева и перетащите список «**Все записи**» в таблицу разрешений.

 **12.**  Перетащите в таблицу разрешений форму *«Заявка на автомобиль — Основная форма».*

 **13.**  Установите разрешения «**Создание**» и «**Просмотр**» для шаблона записи *«Заявка на автомобиль».*

**14.**  Установите разрешение «**Просмотр**» для основной формы и таблицы «**Все записи**» шаблона *«Заявка на автомобиль».*

**15.**  Сохраните роль *«Заказчик».*

_![Настройка разрешений роли «Заказчик» для создания и просмотра заявок на автомобиль](https://kb.comindware.ru/assets/img_6315e4ba725ab.png)_

Аналогичным образом создайте роль *«Секретарь»* и назначьте ей разрешения…

 **1.**  На вкладке «**Разрешения**» перетащите в таблицу разрешений процесс *«Заказ автотранспорта»* и установите разрешения «**Просмотр**» и «**Ввод данных**».

 **2.**  Разверните процесс *«Заказ автотранспорта»* и перетащите в таблицу разрешений кнопки «**Завершить задачу**» и «**Сохранить**».

 **3.**  Установите для кнопок «**Завершить задачу**» и «**Сохранить**» разрешение «**Использование кнопки**». 

 **4.**  Перетащите в таблицу разрешений шаблон *«Заявка на автомобиль»* и установите для него разрешение «**Полный доступ**».

 **5.**  Перетащите в таблицу разрешений шаблоны *«Тип автомобиля»* и *«Статус заявки»* и установите для них разрешение «**Просмотр**».

**6.** Сохраните роль *«Секретарь»*.

_![Настройка разрешений роли «Секретарь»](https://kb.comindware.ru/assets/img_6315e50c0a809.png)_

Создайте роль *«Диспетчер гаража»* и назначьте ей разрешения…

**1.**  Перейдите на вкладку «**Разрешения**».

**2.**  Перетащите в таблицу разрешений шаблоны *«Заказ автотранспорта», «Заявка на автомобиль», «Затраты», «Тип затрат», «Автомобиль», «Тип автомобиля», «Статус заявки»* и установите для них разрешение «**Полный доступ**».

**3.** Сохраните роль *«Диспетчер гаража».*

_![Настройка разрешений роли «Диспетчер гаража»](https://kb.comindware.ru/assets/img_6315e533518af.png)_

Создайте роль *«Водитель»* и назначьте ей разрешения…

**1.**  На вкладке «**Разрешения**» добавьте следующие шаблоны: *«Тип затрат», «Тип автомобиля», «Статус заявки»* и установите для них разрешение «**Просмотр**».

**2.** Для шаблона «Автомобиль» установите разрешения «**Просмотр**».

**3.**  Перетащите в таблицу разрешений шаблон *«Заявка на автомобиль»* и установите для него разрешения «**Просмотр**» и «**Ввод данных**».

**4.**  Разверните процесс *«Заказ автотранспорта»* и перетащите в таблицу разрешений операции «**Сохранить**» и «**Завершить задачу**». Укажите для них разрешение «**Использование кнопки**».

 **5.**  Для процесса *«Заказ автотранспорта»* установите разрешения «**Просмотр**» и «**Ввод данных**».

 **6.**  Перетащите в таблицу разрешений шаблон *«Затраты»* и установите для него разрешения «**Создание**», «**Просмотр**» и «**Ввод данных**».

**7.** Разверните шаблон *«Затраты»*, перетащите из него в таблицу разрешений таблицу «**Все записи**» и установите для неё разрешение «**Просмотр**»

**9.** Из шаблона *«Затраты»* перетащите в таблицу разрешений кнопку «**Создать**» и установите для нее разрешение «**Использование кнопки**».

**10.** Сохраните роль *«Водитель».*

_![Настройка разрешений роли «Водитель»](https://kb.comindware.ru/assets/img_648059ae643fc.png)_

## Группы аккаунтов

Мы создали роли *«Заказчик», «Секретарь», «Водитель»* и *«Диспетчер гаража»* и определили для них разрешения на доступ к ресурсам приложения. Теперь создадим группы аккаунтов и назначим им роли…

 **1.**  На боковой панели навигации выберите пункты «**Настройки**» — «**Группы**».

 **2.** В списке групп нажмите кнопку «**Создать**». Укажите название группы — *«Секретари»* и нажмите кнопку «**Создать**», чтобы сохранить группу.

_![Создание новой группы аккаунтов](https://kb.comindware.ru/assets/img_631650825585e.png)_

 **3.**  Аналогичным образом создайте группы *«Диспетчеры»* и *«Водители».*

Создадим еще одну группу, которая будет включать в себя всех сотрудников…

 **4.**  Создайте группу *«Сотрудники».*

 **5.**  На вкладке «**Участники**» нажмите в левом столбце группы *«Диспетчеры», «Водители»* и *«Секретари»*. Они отобразятся в правом столбце будут добавлены в группу *«Сотрудники».*

**6.**  Нажмите кнопку «**Создать**», чтобы сохранить группу.

_![Участники группы «Сотрудники»](https://kb.comindware.ru/assets/img_6316513a2b40c.png)_

_![Список групп аккаунтов](https://kb.comindware.ru/assets/img_631651524e957.png)_

## Привязка групп к ролям

 **1.**  На боковой панели выберите пункт «**Настройки**» — «**Роли**». 

**2.** В отобразившемся списке ролей откройте роль *«Заказчик»*, дважды нажав её.

_![Список ролей](https://kb.comindware.ru/assets/img_631651930c1b4.png)_

Заказчиком может являться любой сотрудник, поэтому укажем для него группу *«Сотрудники»…*

 **3.**  На вкладке «**Свойства роли**» в области «**Выберите участников роли**» нажмите группу «Сотрудники», чтобы перенести ее в список «**Выбранные аккаунты и группы**».

**4.**  Сохраните роль *«Заказчик».*

_![Выбор группы аккаунтов для роли «Заказчик»](https://kb.comindware.ru/assets/img_65f0713fde15a.png)_

 **5.**  Вернитесь к списку ролей и откройте роль *«Секретарь».*

 **6.**  Укажите для роли *«Секретарь»* группу *«Секретари»* и сохраните роль.

 **7.**  В списке ролей откройте роль *«Диспетчер гаража»* и укажите для неё группу *«Диспетчеры».*

 **8.**  Для роли *«Водитель»* укажите группу *«Водители».*

## Назначение исполнителей

Мы создали роли, указали для них группы аккаунтов и права доступа. Теперь определим исполнителей для задач процесса *«Заказ автотранспорта»*— укажем созданные группы в качестве исполнителей…

 **1.**  В панели навигации выберите пункт «**Настройки**» — «**Приложения**» и перейдите к приложению *«Управление автопарком».*

 **2.**  Откройте раздел «**Шаблоны**» и перейдите к шаблону процесса *«Заказ автотранспорта».*

**3.** Перейдите на вкладку «***Диаграмма**» и нажмите кнопку «**Редактировать**».*

 **4.**  Выберите пользовательскую задачу *«Согласовать заявку»* и в меню элемента нажмите кнопку «**Свойства**».

_![Переход к настройке свойств задачи с диаграммы бизнес-процесса](https://kb.comindware.ru/assets/img_631653d993314.png)_

Ранее в качестве исполнителя был указан наш аккаунт, а теперь укажем исполнителями созданные группы…

**5.**  Перейдите на вкладку «**Дополнительные**». 

**6.**  В поле «**Исполнители**» снимите флажок со своего аккаунта и установите флажок *«Секретарь».*

**7.**  Нажмите кнопку «**Сохранить**».

_![Назначение исполнителей задачи](https://kb.comindware.ru/assets/img_6244de6eaa5af.png)_

Аналогичным образом настроим исполнителей для других задач…

 **8.**  Для задачи *«Принять заявку»* укажите в качестве исполнителя группу *«Диспетчер гаража».*

 **9.**  Для задачи *«Выполнить рейс»* укажите в качестве исполнителя группу *«Водитель».*

 **10.**  Опубликуйте диаграмму бизнес-процесса. 

Исполнитель задач *«Вам отказано»* и *«Машина выделена»* будет назначаться автоматически по атрибуту, указанному в их дополнительных свойствах — им будет назначен создатель процесса.

## Создание аккаунтов

Создадим новые аккаунты и определим их в группы…

 **1.**  В боковой навигации перейдите выберите пункт «**Настройки**» — «**Аккаунты**».

 **2.** В списке аккаунтов нажмите кнопку «**Создать**».

_![Список аккаунтов](https://kb.comindware.ru/assets/img_6316549a3a880.png)_

**3.**  В поле «**Язык**» укажите «**Русский**».

**4.**  В поле «**Ф. И. О.**» укажите полное имя пользователя аккаунта.

**5.** В поле «**Имя пользователя**» — логин, под которым пользователь будет входить в аккаунт.

 **6.**  Укажите **пароль** и адрес **эл. почты**.

 **7.**  Укажите **должность** *«Диспетчер»* и **отдел** *«Гараж».*

**8.**  Нажмите кнопку «**Создать**», чтобы сохранить аккаунт. 

_![Создание аккаунта](https://kb.comindware.ru/assets/img_6316553102f6d.png)_

**9.**  Вернитесь к списку аккаунтов и создайте ещё один аккаунт, укажите для него **должность** *«Водитель»* и **отдел** *«Гараж».*

 **10.** Создайте два аккаунта с **должностью** *«Секретарь».*

**11.** Создайте аккаунт *Заказчика* с любой должностью, пользователь которого будет создавать заявку. 

![Список аккаунтов](https://kb.comindware.ru/assets/img_6244e46e12ca4.png)

## Список аккаунтов

## Назначение аккаунтам групп

 **1.**  На панели навигации выберите пункт «**Настройки**» — «**Группы**».

 **2.**  Выберите группу *«Водители»* и перейдите на вкладку «**Участники**».

 **3.**  Укажите участника группы — аккаунт водителя.

**4.**  Нажмите кнопку «**Сохранить**».

_![Выбор участников группы](https://kb.comindware.ru/assets/img_6316560011972.png)_

 **5.**  Аналогичным образом добавьте аккаунт диспетчера в группу *«Диспетчеры»*, а аккаунты секретарей — в группу *«Секретари».*

Добавим пользователя в группу *«Сотрудники»…*

**6.**  Выберите группу *«Сотрудники»* и добавьте в нее аккаунт, пользователь которого будет создавать заявку, в нашем случае это *«Евгений З.».*

_![Добавление аккаунта заказчика в группу «Сотрудники»](https://kb.comindware.ru/assets/img_6316568089c12.png)_

## Разделы навигации

**Определение**


Разделы навигации отображаются в панели навигации слева и позволяют быстро переходить к различным страницам **{{ productName }}**.
До этого момента мы использовали системный раздел навигации, теперь настроим раздел навигации для каждой роли. 

**1.**  Выберите на боковой панели навигации пункт «**Настройки**» — «**Приложения**».

**2.**  В списке приложений выберите *«Управление автопарком».*

**3.**  Перейдите к странице «**Разделы навигации**».

 **4.** В отобразившемся списке разделов навигации нажмите кнопку «**Создать**».

 **5.**  С помощью панели свойств укажите **отображаемое название** раздела навигации «Заказчик» и удостоверьтесь, что выбрано **приложение** *«Управление автопарком».*

Определим роли, для которых будет настроена боковая панель навигации…

**6.**  Нажмите надпись «**0 ролей**» на панели свойств, чтобы назначить роль, для пользователей которой будет отображаться раздел навигации.

**7.**  В окне *«Роли»* укажите роль *«Заказчик»* и нажмите кнопку «**Применить**».

_![Выбор роли для раздела навигации](https://kb.comindware.ru/assets/img_63165b279ddbd.png)_

Теперь определим, какие пункты должны отображаться на боковой панели для *Заказчика*…

**8.**  Перетащите элемент «**Мои задачи**» с левой панели на макет раздела навигации.

 **9.**  Разверните пункты «**Шаблоны процессов**», *«Заказ автотранспорта»*и «**Кнопки**» и перетащите кнопку «**Создать**» на макет раздела навигации.

**10.**  Сохраните раздел навигации.

_![Настройка раздела навигации для роли «Заказчик»](https://kb.comindware.ru/assets/img_63165cc598f78.png)_

**Аналогичным образом создадим раздел навигации для роли *«Секретарь»…***

 **1.**  В списке разделов навигации приложения *«Управление автопарком»* нажмите кнопку «**Создать**».

 **2.**  Укажите **отображаемое *название*** раздела навигации *«Секретарь».*

 **3.**  Назначьте роль *«Секретарь».*

 **4.**  Перетащите пункт «**Мои задачи**» на макет раздела навигации.

 **5.**  Разверните пункты «**Шаблоны записей**» → *«Заявка на автомобиль»* → «**Таблицы**».

**6.**Перетащите таблицу «**Все записи**» на макет раздела навигации.

 **7.**  С помощью панели свойств переименуйте пункт «**Все записи**» в *«Заявки на автомобиль».*

**8.**  Сохраните раздел навигации.

_![Настройка раздела навигации для роли «Секретарь»](https://kb.comindware.ru/assets/img_63165c5dab942.png)_

**Настроим раздел навигации для сотрудников гаража — водителей и диспетчеров, чтобы они могли обрабатывать заявки и  просматривать сводку заявок по месяцам…**

 **1.** В списке разделов навигации приложения «Управление автопарком» откройте созданный на [Уроке 4](https://kb.comindware.ru/article.php?id=2057) раздел навигации *«Сводки».*

 **2.** Измените **отображаемое название** раздела навигации на *«Сотрудник гаража».*

 **3.**  Назначьте две роли: *«Диспетчер гаража»* и *«Водитель».*

 **4.**  Перетащите на макет раздела навигации элемент «**Мои задачи**».

 **5.**  Разверните шаблон *«Заявка на автомобиль»,* перетащите на макет раздела навигации таблицу «**Все записи**» и переименуйте её в *«Заявки на автомобиль».*

 **6.**  Перетащите на макет раздела навигации таблицу «**Все записи**» шаблона *«Затраты»* и переименуйте её в *«Затраты».*

 **7.**  Сохраните раздел навигации.

_![Настройка раздела навигации для роли «Диспетчер гаража»](https://kb.comindware.ru/assets/img_63165d425dc49.png)_

_![Список разделов навигации приложения «Управление автопарком»](https://kb.comindware.ru/assets/img_63165d790da30.png)_

## Тестирование

Для тестирования настроенных ролей и исполнителей вам понадобится несколько раз войти в созданные аккаунты с различными ролями — *«Заказчик», «Секретарь», «Диспетчер гаража»* и *«Водитель»*. Посмотреть имя пользователя аккаунта можно в разделе «**Настройки**» — «**Аккаунты**». Для удобства проводите тестирование новом окне в режиме *«Инкогнито»* или разных браузерах.

 **1.**  Войдите в аккаунт заказчика.

 **2.**  Нажмите кнопку «**Создать**» на боковой панели навигации и заполните поля стартовой формы, чтобы создать заявку на автомобиль и запустить бизнес-процесс.

_![Боковая панель навигации Заказчика и стартовая форма заявки на автомобиль](https://kb.comindware.ru/assets/img_63165e06bcbf7.png)_

 **3.**  Выйдите из системы: для этого нажмите значок пользователя в правом верхнем углу страницы и выберите пункт «**Выход**».

_![Выход из системы](https://kb.comindware.ru/assets/img_63165e4ce6a95.png)_

 **4.**  Войдите в аккаунт секретаря.

 **5.**  Перейдите в раздел «**Мои задачи**» с помощью боковой панели навигации. 

**6.**  Откройте задачу *«Согласовать заявку»*, дважды нажав её.

![Представление раздела «Мои задачи» для Секретаря](https://kb.comindware.ru/assets/img_63165ea864bbd.png)

Представление раздела «**Мои задачи**» для Секретаря

 **7.**  Установите флажок *«Одобрено»* и завершите задачу.

 **8.**  Выйдите из системы.

**9.** Войдите в аккаунт диспетчера гаража. 

 **10.**  Перейдите в раздел «**Мои задачи**» и откройте задачу *«Принять заявку».*

 **11.** Выберите автомобиль, установите флажок *«Принято»* и завершите задачу.

**12.** Выйдите из системы.

_![Боковая панель навигации и форма заявки на автомобиль для Диспетчера гаража](https://kb.comindware.ru/assets/img_6316638d89f46.png)_

 **13.**  Войдите в аккаунт водителя.

**14.** Откройте задачу *«Выполнить рейс»* и заполните данные по затратам.

 **15.**  Завершите задачу.

_![Боковая панель навигации и форма заявки на автомобиль для Водителя](https://kb.comindware.ru/assets/img_63166425945bd.png)_

**16.** Снова войдите в аккаунт заказчика и завершите задачу *«Машина выделена».*

## Результаты

Поздравляем! Вы научились настраивать роли и определять права доступа, создавать аккаунты и группы, а также настраивать разделы навигации. Вы улучшили процесс: теперь выполнением задач процесса занимаются разные пользователи, имеющие разные роли, а в целях безопасности и удобства использования платформы каждый из них имеет доступ только к тем ресурсам, которые им предназначены.

В  [следующем уроке](https://kb.comindware.ru/article.php?id=2064)  вы познакомитесь с формированием документов с помощью {{ productName }}.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
