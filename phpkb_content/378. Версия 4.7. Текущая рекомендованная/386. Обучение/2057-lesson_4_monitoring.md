---
title: Урок 4. Мониторинг и аналитика
kbId: 2057
---

# Урок 4. Мониторинг и аналитика

## Введение

В этом уроке вы узнаете, как просмотреть историю выполнения процесса, и научитесь создавать информационные страницы с диаграммами для просмотра статистики за определенный период.

**Предусловия:** 

- Пройден [Урок 3. Мой первый бизнес-процесс](https://kb.comindware.ru/article.php?id=2055):
    - создан шаблон бизнес-процесса *«Заказ автотранспорта»*;
    - создана и опубликована схема процесса;
    - протестированы запуск и выполнение бизнес-процесса.

**Расчетная продолжительность:** 10 мин.

**Примечание:** в данном уроке представлен продукт **{{ productName }}** версии 4.2.219.0, внешний вид страниц и меню в других версиях продукта может отличаться.

## Мониторинг исполнения бизнес-процесса

**Определение**


В **{{ productName }}** можно анализировать состояние запущенных и завершенных бизнес-процессов и отследить, по какому пути прошел процесс.
**{{ productName }}** предоставляет следующую информацию о бизнес-процессе:
- на каком этапе находится процесс в данный момент;
- «путь», по которому выполняется или был выполнен процесс;
- информация о каждом шаге (исполнитель задачи, срок выполнения и т. д.);
- ошибки, возникшие в ходе выполнения процесса.

Посмотрим историю одного из экземпляров процесса *«Заказ автотранспорта»*…

 **1.**  Перейдите к списку шаблонов и откройте шаблон процесса — *«Заказ автотранспорта»*, дважды нажав его в списке.

 **2.**  Откройте список экземпляров процесса, нажав кнопку «**Перейти к экземплярам**» на вкладке «**Свойства**» шаблона бизнес-процесса.

 **3.**  В отобразившемся списке выберите один из запущенных процессов, дважды щелкнув соответствующую строку в списке.

_![Список экземпляров бизнес-процесса](https://kb.comindware.ru/assets/img_62430c349e3ab.png)_

 **4.**  Выберите задачу *«Вам отказано»* на схеме процесса. Справа отобразится информация о её выполнении.

_![Информация о задаче на диаграмме активного бизнес-процесса](https://kb.comindware.ru/assets/img_6474c6c0e4f23.png)_

**Определение**

На панели информации справа (которую можно вызвать нажатием кнопки *‌*) отображаются перечисленные ниже вкладки.
 
- **Свойства** — сведения об экземпляре процесса.
    - **Статус**
        - **Активен** — на элементах процесса есть токены.
        - **Неактивен** — на элементах процесса нет токенов.
        - **Завершён** — процесс был завершён ожидаемым образом, на элементах нет токенов.
        - **Отменён** — процесс был остановлен с удалением всех токенов.
    - **Дата создания** — дата и время создания экземпляра.
    - **Создатель** — ссылка на аккаунт создателя экземпляра.
    - **Шаблон процесса** — ссылка на страницу настройки шаблона процесса.
    - **Запись** — ссылка на запись, связанную с экземпляром процесса.
    - **Шаблон записи** — ссылка на список записей шаблона, связанного с шаблоном данного процесса.

- **Токены** — список элементов процесса, на которых находятся токены. Токены — это шаги, на которых процесс находится в данный момент (если в процессе есть **развилки «и»**, то токенов может быть несколько). Для процессов со статусом «**Завершён**  » эта вкладка содержит надпись «**Нет данных для отображения**»). При выборе элемента отображается панель «**Действия**» со следующими кнопками:
    - **Перейти** ‌‌  к форме пользовательской задачи или к диаграмме подпроцесса. Для этого также можно дважды нажать пользовательскую задачу или подпроцесс на диаграмме.
    - **Перезапустить токен** ‌ на данном элементе.
    - **Удалить токен** ‌ с данного элемента.
- **Журнал изменений** — список событий, произошедших в ходе выполнения процесса (нажав значок слева от события можно перейти к подробному представлению цепочки событий):

    - наименование события;
    - дата начала;
    - инициатор (фактический исполнитель);
    - пользователь, завершивший задачу
    - исполнители (указанные в настройках задачи).

Над диаграммой предусмотрены следующие кнопки:

- **Остановить процесс** — удаление всех токенов с диаграммы экземпляра процесса. ****Статус******процесса сменится на** **«**Отменён**».** **Эта кнопка отображается, если на элементах диаграммы имеются токены и не выбран ни один элемент.**
- **Архивировать** — архивирование экземпляра процесса. Архивные экземпляры не отображаются в списке экземпляров, если в конфигурации соответствующей таблицы не установлен флажок «**Показывать архивные записи**»  ).
- **Создать токен** — создание токена на выбранном элементе. Эта кнопка отображается, если выбран элемент диаграммы.

 **5.**  Перейдите на вкладку «**Журнал изменений**» и разверните задачу *«Согласовать заявку»* для просмотра информации о ней.

![Вкладка «Журнал изменений» для экземпляра процесса](https://kb.comindware.ru/assets/img_6474ce0c70e7b.png)

Вкладка «***Журнал изменений***» для элемента процесса

Задача *«Согласовать заявку»* на диаграмме процесса теперь выделена желтым цветом.

**6.**  Аналогично выберите любой другой элемент диаграммы процесса для просмотра информации об активности.

**Определение**


Термин «**токен**» в **{{ productName }}** используется в том же значении, что в нотации **BPMN**, — это виртуальная фишка, которая движется по диаграмме процесса.
## Настройка страницы с круговой диаграммой количества заказов

**Примечание**


С целью просмотра статистики за выбранный период в **{{ productName }}** предусмотрен инструмент для создания информационных страниц для мониторинга и анализа данных. Страница может содержать данные бизнес-процессов в табличном и графическом виде. 
Настроим страницу с диаграммой, которая будет отображать количество заказов автомобилей по месяцам.

Для начала введите тестовые данные: создайте и проведите по бизнес-процессу несколько заявок, заполняя поле *«Время подачи»* датами с разными месяцами.

 **1.**  В панели навигации слева выберите пункт «**Настройки**» — «**Приложения**».

 **2.**  Откройте раздел администрирования приложения *«Управление автопарком»*, дважды нажав его в списке.

_![Переход к администрированию приложения](https://kb.comindware.ru/assets/img_630e1ebcea236.png)_

 **3.**  Перейдите к странице «**Разделы навигации**».

![Администрирование бизнес-приложения — пункт «Разделы навигации»](https://kb.comindware.ru/assets/img_630e1ee90da9d.png)

Администрирование бизнес-приложения — пункт «***Разделы навигации***»

 **4.**  Нажмите кнопку «**Создать**».

**5.**  В панели свойств укажите название раздела навигации *«Сводки»*.

**6.**  Нажмите кнопку «**Сохранить**».

**7.** Обновите страницу в браузере после сохранения раздела навигации, чтобы последующие шаги выполнялись корректно.

![Настройка названия раздела навигации](https://kb.comindware.ru/assets/img_65e88347ab8b8.png)

Настройка названия и сохранение раздела навигации

**8.**В панели элементов нажмите кнопку «**Создать страницу**» *‌* рядом с пунктом «**Страницы**».

_![Создание новой страницы, привязанной к разделу навигации](https://kb.comindware.ru/assets/img_65e883a8b3ed0.png)_

**9.**Откроется вкладка «**Новая страница**».

**10.**В панели свойств укажите название страницы *«Статистика заявок»*.

**11.**  Нажмите кнопку «**Сохранить**».

**12.**Обновите страницу в браузере после сохранения страницы, чтобы последующие шаги выполнялись корректно. Если браузер выдаст предупреждение о возможной утрате несохранённых изменений, подтвердите обновление страниц.

_![Переименование и сохранение страницы](https://kb.comindware.ru/assets/img_65e888cf7cc40.png)_

**13.** Выберите вкладку «**Навигация**».

**14.** Разверните раздел «**Страницы**» в панели элементов.

**15.** Нажмите кнопку «**Редактировать**» *‌* рядом с пунктом *«Статистика заявок»* в панели элементов.

_![Переход к редактированию страницы](https://kb.comindware.ru/assets/img_65e88915bc9a8.png)_

**16.** Откроется вкладка «**Статистика заявок**».

**17.**Нажмите кнопку со значком «**Создать диаграмму**» *‌* рядом с пунктом «**Диаграммы**» в панели элементов. Откроется конструктор диаграммы.

_![Создание диаграммы](https://kb.comindware.ru/assets/img_65e88d5672e4a.png)_

 **18.** Настройте диаграмму с помощью панели «**Свойства виджета**»:

- **Название:***Заявки по месяцам;*
- **Отображаемое название:***Заявки по месяцам;*
- **Тип**: **круговая диаграмма**;
- **Шаблон:** *Заявка на автомобиль* — источник данных для диаграммы;
- **Категории:** *Время подачи* — атрибут, по значениям которого будут сгруппированы записи на диаграмме;
- **Периоды:** **Ближайшие месяцы**— интервал, с которым будут сгруппированы записи;
- **Период по умолчанию:** **Текущий месяц**— период, записи за который будут отображаться на диаграмме по умолчанию.

**19.**  Нажмите кнопку «**Сохранить**».

**20.**  Нажмите кнопку «**Обновить**» на макете диаграммы, чтобы просмотреть результирующую диаграмму.

_![Настройка и сохранение круговой диаграммы](https://kb.comindware.ru/assets/img_630e25f756d04.png)_

**21.**  Нажмите в браузере кнопку «**Назад**», чтобы вернуться к разделу навигации «**Сводки**».

**22.**  Перетащите страницу *«Статистика заявок»* из панели элементов на макет раздела навигации.

**23.** Нажмите кнопку «**Сохранить**».

_![Добавление страницы в раздел навигации](https://kb.comindware.ru/assets/img_630e26c5301fd.png)_

**24.**  Выберите вкладку *«Статистика заявок»*.

**25.**  Перетащите на страницу новую **область** и присвойте ей название *«Заявки по месяцам»*.

**26.**  Перетащите созданную диаграмму на область *«Заявки по месяцам»*.

**27.** Нажмите кнопку «**Сохранить**».

_![Круговая диаграмма в рабочей области редактора страницы](https://kb.comindware.ru/assets/img_62432de64e96e.png)_

## Результаты

Вы узнали, как получить информацию об истории выполнения процессов, и научились создавать информационные страницы для визуализации данных.

Созданный раздел навигации *«Сводки»* мы впоследствии используем в [Уроке 8](https://kb.comindware.ru/article.php?id=2063).

В  [следующем уроке](https://kb.comindware.ru/article.php?id=2058)  вы познакомитесь с новым типом атрибутов — **Запись**, а также создадите справочник и мастер-данные.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
