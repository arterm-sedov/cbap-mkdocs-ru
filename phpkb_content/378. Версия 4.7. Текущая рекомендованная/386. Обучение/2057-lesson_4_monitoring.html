<h1>Урок 4. Мониторинг и аналитика</h1><div class="mce-toc">
<h2 class="toc-heading">Содержание</h2>
<ul>
<li><a href="#mcetoc_1hv706b8p0">Введение</a></li>
<li><a href="#mcetoc_1gbl6oimc0">Мониторинг исполнения бизнес-процесса</a></li>
<li><a href="#mcetoc_1gbl6qc4f2">Настройка страницы с круговой диаграммой количества заказов</a></li>
<li><a href="#mcetoc_1gbl6p2du1">Результаты</a></li>
</ul>
</div>
<h2 id="mcetoc_1hv706b8p0">Введение</h2>
<p>В этом уроке вы узнаете, как просмотреть историю выполнения процесса, и научитесь создавать информационные страницы с диаграммами для просмотра статистики за определенный период.</p>
<p><strong>Предусловия:</strong> </p>
<ul>
<li>Пройден <samp data-name="aid" data-title="" data-value="2055"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2055}</span></samp>:
<ul>
<li>создан шаблон бизнес-процесса <em>«Заказ автотранспорта»</em>;</li>
<li>создана и опубликована схема процесса;</li>
<li>протестированы запуск и выполнение бизнес-процесса.</li>
</ul>
</li>
</ul>
<p><strong>Расчетная продолжительность:</strong> 10 мин.</p>
<p><strong>Примечание:</strong> в данном уроке представлен продукт <strong>Comindware Business Application Platform</strong> версии <span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">4.2.219.0</span>, внешний вид страниц и меню в других версиях продукта может отличаться.</p>
<h2 id="mcetoc_1gbl6oimc0">Мониторинг исполнения бизнес-процесса</h2>
<div class="notice notice-success">
<p><strong>Определение</strong></p>
В <strong>Comindware Business Application Platform</strong> можно анализировать состояние запущенных и завершенных бизнес-процессов и отследить, по какому пути прошел процесс.
<div><strong>Comindware Business Application Platform</strong> предоставляет следующую информацию о бизнес-процессе:</div>
<ul>
<li><span style="letter-spacing: 0.2px;"> на каком этапе находится процесс в данный момент; </span></li>
<li>«путь», по которому выполняется или был выполнен процесс;</li>
<li>информация о каждом шаге (исполнитель задачи, срок выполнения и т. д.);</li>
<li>ошибки, возникшие в ходе выполнения процесса. </li>
</ul>
</div>
<p>Посмотрим историю одного из экземпляров процесса <em>«Заказ автотранспорта»</em>…</p>
<p><strong> 1. </strong> Перейдите к списку шаблонов и откройте шаблон процесса — <em>«Заказ автотранспорта»</em>, дважды нажав его в списке.</p>
<p><strong> 2. </strong> Откройте список экземпляров процесса, нажав кнопку «<strong>Перейти к экземплярам</strong>» на вкладке «<strong>Свойства</strong>» шаблона бизнес-процесса.</p>
<p><strong> 3. </strong> В отобразившемся списке выберите один из запущенных процессов, дважды щелкнув соответствующую строку в списке.</p>
<div class="screenshot_with_caption">
<p><img alt="Список экземпляров бизнес-процесса" class="img-responsive" height="448" src="https://kb.comindware.ru/assets/img_62430c349e3ab.png" width="1077"/></p>
<p class="caption" style="font-size: 11pt !important;">Список экземпляров бизнес-процесса</p>
</div>
<p><strong> 4. </strong> Выберите задачу <em>«Вам отказано»</em> на схеме процесса. Справа отобразится информация о её выполнении.</p>
<div class="screenshot_with_caption">
<p><img alt="Информация о задаче на диаграмме активного бизнес-процесса" class="img-responsive" height="749" src="https://kb.comindware.ru/assets/img_6474c6c0e4f23.png" width="1266"/></p>
<p class="caption" style="font-size: 11pt !important;">Информация о задаче на диаграмме активного бизнес-процесса</p>
</div>
<div class="notice notice-success">
<p><strong>Определение</strong></p>
<div>На панели информации справа (которую можно вызвать нажатием кнопки <em aria-hidden="true" class="fa-light fa-sidebar-flip">‌</em>) отображаются перечисленные ниже вкладки.</div>
<div> </div>
<ul style="list-style-type: disc;">
<li><strong>Свойства</strong> — сведения об экземпляре процесса.
<ul style="list-style-type: circle;">
<li id="process-status"><strong>Статус</strong>
<ul style="list-style-type: square;">
<li><strong>Активен</strong> — на элементах процесса есть токены.</li>
<li><strong>Неактивен</strong> — на элементах процесса нет токенов.</li>
<li><strong>Завершён</strong> — процесс был завершён ожидаемым образом, на элементах нет токенов.</li>
<li><strong>Отменён</strong> — процесс был остановлен с удалением всех токенов.</li>
</ul>
</li>
<li><strong>Дата создания</strong> — дата и время создания экземпляра.</li>
<li><strong>Создатель</strong> — ссылка на аккаунт создателя экземпляра.</li>
<li><strong>Шаблон процесса</strong> — ссылка на страницу настройки шаблона процесса.</li>
<li><strong>Запись</strong> — ссылка на запись, связанную с экземпляром процесса.</li>
<li><strong>Шаблон записи</strong> — ссылка на список записей шаблона, связанного с шаблоном данного процесса.</li>
</ul>
</li>
</ul>
<ul style="list-style-type: disc;">
<li id="tokens-tab"><strong>Токены</strong> — список элементов процесса, на которых находятся токены. Токены — это шаги, на которых процесс находится в данный момент (если в процессе есть <strong>развилки «и»</strong>, то токенов может быть несколько). Для процессов со статусом «<strong style="letter-spacing: 0.2px;">Завершён</strong> <span style="letter-spacing: 0.2px;"> » эта вкладка содержит надпись «</span><strong>Нет данных для отображения</strong><span style="letter-spacing: 0.2px;">»). </span>При выборе элемента отображается панель «<strong>Действия</strong>» со следующими кнопками:
<ul style="list-style-type: circle;">
<li><strong>Перейти</strong> ‌‌  к форме пользовательской задачи или к диаграмме подпроцесса. Для этого также можно дважды нажать пользовательскую задачу или подпроцесс на диаграмме.</li>
<li><strong>Перезапустить токен</strong> ‌ на данном элементе.</li>
<li><strong>Удалить токен</strong> ‌ с данного элемента.</li>
</ul>
</li>
<li><strong>Журнал изменений</strong> — список событий, произошедших в ходе выполнения процесса (нажав значок слева от события можно перейти к подробному представлению цепочки событий): <br/>
<ul style="list-style-type: circle;">
<li>наименование события;</li>
<li><span style="letter-spacing: 0.2px;">дата начала;</span></li>
<li>инициатор (фактический исполнитель);</li>
<li>пользователь, завершивший задачу</li>
<li>исполнители (указанные в настройках задачи).</li>
</ul>
</li>
</ul>
<p>Над диаграммой предусмотрены следующие кнопки:</p>
<ul>
<li><strong>Остановить процесс </strong>— удаление всех токенов с диаграммы экземпляра процесса. <strong><strong style="letter-spacing: 0.2px;">Статус </strong></strong><strong><span style="font-weight: 300; letter-spacing: 0.2px;">процесса сменится на </span></strong><strong><span style="font-weight: 300; letter-spacing: 0.2px;">«</span><strong style="letter-spacing: 0.2px;">Отменён</strong><span style="font-weight: 300; letter-spacing: 0.2px;">». </span></strong><strong><span style="font-weight: 300; letter-spacing: 0.2px;">Эта кнопка отображается, если на элементах диаграммы имеются токены и не выбран ни один элемент.</span></strong></li>
<li><strong>Архивировать </strong>— архивирование экземпляра процесса. Архивные экземпляры не отображаются в списке экземпляров, если в конфигурации соответствующей таблицы не установлен флажок «<strong style="letter-spacing: 0.2px;">Показывать архивные записи</strong><span style="letter-spacing: 0.2px;">»</span> <span style="letter-spacing: 0.2px;"> ).  </span></li>
<li><strong>Создать токен</strong> — создание токена на выбранном элементе. Эта кнопка отображается, если выбран элемент диаграммы.</li>
</ul>
</div>
<p><strong> 5. </strong> Перейдите на вкладку «<strong>Журнал изменений</strong>» и разверните задачу <em>«Согласовать заявку»</em> для просмотра информации о ней.</p>
<div class="screenshot_with_caption">
<p><img alt="Вкладка «Журнал изменений» для экземпляра процесса" class="img-responsive" height="749" src="https://kb.comindware.ru/assets/img_6474ce0c70e7b.png" width="1266"/></p>
<p class="caption" style="font-size: 11pt !important;">Вкладка «<em><strong>Журнал изменений</strong></em>» для элемента процесса</p>
</div>
<p>Задача <em>«Согласовать заявку»</em> на диаграмме процесса теперь выделена желтым цветом.</p>
<p><strong>6. </strong> Аналогично выберите любой другой элемент диаграммы процесса для просмотра информации об активности.</p>
<div class="notice notice-success">
<p><strong>Определение</strong></p>
Термин «<strong>токен</strong>» в <strong>Comindware Business Application Platform</strong> используется в том же значении, что в нотации <strong>BPMN</strong>, — это виртуальная фишка, которая движется по диаграмме процесса.</div>
<h2 id="mcetoc_1gbl6qc4f2" style="letter-spacing: 0.2px;">Настройка страницы с круговой диаграммой количества заказов</h2>
<div class="notice notice-info">
<p><strong>Примечание</strong></p>
С целью просмотра статистики за выбранный период в <strong>Comindware Business Application Platform</strong> предусмотрен инструмент для создания информационных страниц для мониторинга и анализа данных. Страница может содержать данные бизнес-процессов в табличном и графическом виде. </div>
<p>Настроим страницу с диаграммой, которая будет отображать количество заказов автомобилей по месяцам.</p>
<p>Для начала введите тестовые данные: создайте и проведите по бизнес-процессу несколько заявок, заполняя поле <em>«Время подачи»</em> датами с разными месяцами.</p>
<p><strong> 1. </strong> В панели навигации слева выберите пункт «<strong>Настройки</strong>» — «<strong>Приложения</strong>».</p>
<p><strong> 2. </strong> Откройте раздел администрирования приложения <em>«Управление автопарком»</em>, дважды нажав его в списке.</p>
<div class="screenshot_with_caption">
<p><img alt="Переход к администрированию приложения" class="img-responsive" height="262" src="https://kb.comindware.ru/assets/img_630e1ebcea236.png" width="1264"/></p>
<p class="caption" style="font-size: 11pt !important;">Переход к администрированию приложения</p>
</div>
<p><strong> 3. </strong> Перейдите к странице «<strong>Разделы навигации</strong>».</p>
<div class="screenshot_with_caption">
<p><img alt="Администрирование бизнес-приложения — пункт «Разделы навигации»" class="img-responsive" height="345" src="https://kb.comindware.ru/assets/img_630e1ee90da9d.png" width="1264"/></p>
<p class="caption" style="font-size: 11pt !important;">Администрирование бизнес-приложения — пункт «<em><strong>Разделы навигации</strong></em>»</p>
</div>
<p><strong> 4.  </strong> Нажмите кнопку «<strong>Создать</strong>».</p>
<p><strong>5.  </strong> В панели свойств укажите название раздела навигации <em>«Сводки»</em>.</p>
<p><strong>6.  </strong> Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><strong>7.  </strong>Обновите страницу в браузере после сохранения раздела навигации, чтобы последующие шаги выполнялись корректно.</p>
<div class="screenshot_with_caption">
<p><img alt="Настройка названия раздела навигации" class="img-responsive" height="493" src="https://kb.comindware.ru/assets/img_65e88347ab8b8.png" width="1280"/></p>
<p class="caption" style="font-size: 11pt !important;">Настройка названия и сохранение раздела навигации</p>
</div>
<p><strong>8. </strong>В панели элементов нажмите кнопку «<strong>Создать страницу</strong>» <em class="fa-light fa-plus">‌</em> рядом с пунктом «<strong>Страницы</strong>».</p>
<figure class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Создание новой страницы, привязанной к разделу навигации" class="img-responsive" height="493" src="https://kb.comindware.ru/assets/img_65e883a8b3ed0.png" width="1280"/></p>
<figcaption class="caption" style="font-size: 15px !important;">Создание новой страницы, привязанной к разделу навигации</figcaption>
</figure>
<p><strong>9. </strong>Откроется вкладка «<strong>Новая страница</strong>».</p>
<p><strong>10. </strong>В панели свойств укажите название страницы <em>«Статистика заявок»</em>.</p>
<p><strong>11.  </strong> Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><strong>12. </strong>Обновите страницу в браузере после сохранения страницы, чтобы последующие шаги выполнялись корректно. Если браузер выдаст предупреждение о возможной утрате несохранённых изменений, подтвердите обновление страниц.</p>
<div class="screenshot_with_caption">
<p><img alt="Переименование и сохранение страницы" class="img-responsive" height="484" src="https://kb.comindware.ru/assets/img_65e888cf7cc40.png" width="1264"/></p>
<p class="caption" style="font-size: 11pt !important;">Переименование и сохранение страницы</p>
</div>
<p><strong>13. </strong>Выберите вкладку «<strong>Навигация</strong>».</p>
<p><strong>14. </strong>Разверните раздел «<strong>Страницы</strong>» в панели элементов.</p>
<p><strong>15. </strong>Нажмите кнопку «<strong>Редактировать</strong>» <em class="fa-light fa-pencil">‌</em> рядом с пунктом <em>«Статистика заявок»</em> в панели элементов.</p>
<figure class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Переход к редактированию страницы" class="img-responsive" height="484" src="https://kb.comindware.ru/assets/img_65e88915bc9a8.png" width="1264"/></p>
<p><span style="color: #666666; font-style: italic; letter-spacing: 0.2px;">Переход к редактированию страницы</span></p>
</figure>
<p><strong>16. </strong>Откроется вкладка «<strong>Статистика заявок</strong>».</p>
<p><strong>17.</strong><strong> </strong>Нажмите кнопку со значком «<strong>Создать диаграмму</strong>» <em class="fa-light fa-plus">‌</em> рядом с пунктом «<strong>Диаграммы</strong>» в панели элементов. Откроется конструктор диаграммы.</p>
<figure class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Создание диаграммы" class="img-responsive" height="484" src="https://kb.comindware.ru/assets/img_65e88d5672e4a.png" width="1264"/></p>
<p><span style="color: #666666; font-style: italic; letter-spacing: 0.2px;">Создание диаграммы</span></p>
</figure>
<p><strong> 18. </strong>Настройте диаграмму с помощью панели «<strong>Свойства виджета</strong>»:</p>
<ul>
<li><strong>Название: </strong><em>Заявки по месяцам;</em></li>
<li><strong>Отображаемое название: </strong><em>Заявки по месяцам;</em></li>
<li><strong>Тип</strong>: <strong>круговая диаграмма</strong>;</li>
<li><strong>Шаблон:</strong> <em>Заявка на автомобиль</em> — источник данных для диаграммы;</li>
<li><strong>Категории:</strong> <em>Время подачи</em> — атрибут, по значениям которого будут сгруппированы записи на диаграмме;</li>
<li><strong>Периоды:</strong> <strong>Ближайшие месяцы </strong>— интервал, с которым будут сгруппированы записи; </li>
<li><strong>Период по умолчанию:</strong> <strong>Текущий месяц</strong>— период, записи за который будут отображаться на диаграмме по умолчанию.</li>
</ul>
<p><strong>19. </strong> Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><strong>20. </strong> Нажмите кнопку «<strong>Обновить</strong>» на макете диаграммы, чтобы просмотреть результирующую диаграмму.</p>
<div class="screenshot_with_caption">
<p><img alt="Настройка и сохранение круговой диаграммы" class="img-responsive" height="659" src="https://kb.comindware.ru/assets/img_630e25f756d04.png" width="1264"/></p>
<p class="caption" style="font-size: 11pt !important;">Настройка и сохранение круговой диаграммы</p>
</div>
<p><strong>21. </strong> Нажмите в браузере кнопку «<strong>Назад</strong>», чтобы вернуться к разделу навигации «<strong>Сводки</strong>».</p>
<p><strong>22. </strong> Перетащите страницу <em>«Статистика заявок»</em> из панели элементов на макет раздела навигации.</p>
<p><strong>23. </strong>Нажмите кнопку «<strong>Сохранить</strong>».</p>
<div class="screenshot_with_caption">
<p><img alt="Добавление страницы в раздел навигации" class="img-responsive" height="445" src="https://kb.comindware.ru/assets/img_630e26c5301fd.png" width="1264"/></p>
<p class="caption" style="font-size: 11pt !important;">Добавление страницы в раздел навигации</p>
</div>
<p><strong>24. </strong> Выберите вкладку <em>«Статистика заявок»</em>.</p>
<p><strong>25. </strong> Перетащите на страницу новую <strong>область</strong> и присвойте ей название <em>«Заявки по месяцам»</em>.</p>
<p><strong>26. </strong> Перетащите созданную диаграмму на область <em>«Заявки по месяцам»</em>.</p>
<p><strong>27. </strong>Нажмите кнопку «<strong>Сохранить</strong>».</p>
<div class="screenshot_with_caption">
<p><img alt="Круговая диаграмма в рабочей области редактора страницы" class="img-responsive" height="707" src="https://kb.comindware.ru/assets/img_62432de64e96e.png" width="1075"/></p>
<p class="caption" style="font-size: 11pt !important;">Круговая диаграмма в рабочей области редактора страницы</p>
</div>
<h2 id="mcetoc_1gbl6p2du1">Результаты</h2>
<p>Вы узнали, как получить информацию об истории выполнения процессов, и научились создавать информационные страницы для визуализации данных.</p>
<p>Созданный раздел навигации <em>«Сводки»</em> мы впоследствии используем в <a href="https://kb.comindware.ru/article.php?id=2063">Уроке 8</a>.</p>
<p>В <a href="https://kb.comindware.ru/article.php?id=2058"> следующем уроке </a> вы познакомитесь с новым типом атрибутов — <strong>Запись</strong>, а также создадите справочник и мастер-данные.</p>