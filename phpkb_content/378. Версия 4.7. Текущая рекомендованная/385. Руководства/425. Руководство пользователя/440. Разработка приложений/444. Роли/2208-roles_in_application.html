<h1>Роли в приложении. Определения, настройка, объединение, удаление</h1><div class="md-container" data-md-component="container">
<div class="md-main__inner md-grid"><nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">Содержание</h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#definitions"> <span class="md-ellipsis"> Определения </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#просмотр-списка-ролей-в-приложении-и-настройка-роли"> <span class="md-ellipsis"> Просмотр списка ролей в приложении и настройка роли </span> </a><nav aria-label="Просмотр списка ролей в приложении и настройка роли" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#настройка-свойств-роли"> <span class="md-ellipsis"> Настройка свойств роли </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#настройка-разрешений-для-ресурсов"> <span class="md-ellipsis"> Настройка разрешений для ресурсов </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#удаление-разрешений-для-ресурсов"> <span class="md-ellipsis"> Удаление разрешений для ресурсов </span> </a></li>
</ul>
</nav></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#восстановление-исходных-разрешений-роли"> <span class="md-ellipsis"> Восстановление исходных разрешений роли </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#объединение-ролей"> <span class="md-ellipsis"> Объединение ролей </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#клонирование-роли"> <span class="md-ellipsis"> Клонирование роли </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#удаление-роли"> <span class="md-ellipsis"> Удаление роли </span> </a></li>
<li class="md-nav__item"><a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи"> <span class="md-ellipsis"> Связанные статьи </span> </a></li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<div class="notice notice-success">
<h2 class="admonition-title" id="definitions">Определения</h2>
<p>В <strong>Comindware Business Application Platform</strong> предусмотрена возможность контроля доступа к различным ресурсам посредством ролей, разрешений и прав доступа.</p>
<p>Для контроля доступа к системным ресурсам используются <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2175">системные роли</a></strong>. <strong>Системные роли</strong> определяют политику безопасности для пользователей, настраивающих систему и приложения, а также для интеграции с внешними службами.</p>
<p>Для контроля доступа конечных пользователей к ресурсам приложения используются <strong>роли в приложении</strong>. <strong>Роли в приложении</strong> не дают доступа к настройке приложений или системы и использованию API.</p>
<ul>
<li><strong>Роль</strong> — это совокупность разрешений, назначенная аккаунту или группе аккаунтов.</li>
<li><strong>Разрешение</strong> — это полномочие на совершение определенного действия с объектом: полный доступ, создание, просмотр, изменение, удаление и т. п.</li>
<li><strong>Права доступа</strong> — это совокупность всех разрешений, предоставленных аккаунту или группе аккаунтов. Права доступа формируются посредством: ролей, правил для форм, выражений, языка запросов и скриптов.</li>
<li><strong>Ресурс</strong> — любая сущность в системе, к которой осуществляет доступ пользователь или внешний сервис.</li>
</ul>
</div>
<h2 id="просмотр-списка-ролей-в-приложении-и-настройка-роли">Просмотр списка ролей в приложении и настройка роли</h2>
<ol class="colored_numbers_list">
<li>На странице <strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2209">«Администрирование» приложения</a></strong> выберите пункт «<strong>Роли</strong>» <em class="fa-light fa-user-shield">‌</em>.</li>
<li>Отобразится список ролей в данном приложении.</li>
<li>Нажмите кнопку «<strong>Создать</strong>» или дважды нажмите строку роли в списке.</li>
<li>Отобразится страница «<strong>Роль</strong>» с вкладками «<strong>Свойства роли</strong>» и «<strong>Разрешения</strong>».</li>
<li>Настройте <a class="mkdocs_imported_link" href="#настройка-свойств-роли">свойства роли</a>.</li>
<li>Настройте <a class="mkdocs_imported_link" href="#настройка-разрешений-для-ресурсов">разрешения</a> на доступ к ресурсам.</li>
<li>Сохраните роль.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Список ролей в приложении" src="https://kb.comindware.ru/assets/role_list.png"/></p>
<figcaption class="caption">Список ролей в приложении</figcaption>
</figure>
<h3 id="настройка-свойств-роли">Настройка свойств роли</h3>
<p>Заполните перечисленные ниже поля на вкладке «<strong>Свойства роли</strong>» и перейдите к вкладке «<a class="mkdocs_imported_link" href="#настройка-разрешений-для-ресурсов"><strong>Разрешения</strong></a>» для настройки доступа к ресурсам.</p>
<ul>
<li><strong>Название</strong> — наименование роли. <strong>Обязательное поле</strong>.</li>
<li><strong>Системное имя</strong> — уникальное имя роли. Не должно начинаться с цифры. Рекомендуется использовать буквы латинского алфавита, цифры и символ «_». Заполняется автоматически по названию.</li>
<li><strong>Описание</strong> — дополнительный комментарий относительно назначения роли.</li>
<li><strong>Создатель</strong> — аккаунт, создавший роль.</li>
<li><strong>Дата создания</strong> — дата и время создания роли.</li>
<li><strong>Изменил(а)</strong> — аккаунт, последним изменивший роль.</li>
<li><strong>Дата изменения</strong> — дата и время последнего изменения роли.</li>
<li><strong>Активная</strong> — установите или снимите этот флажок, чтобы использовать или отключить данную роль.</li>
<li><strong>Раздел навигации</strong> — выберите <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2212">раздел навигации</a>, который будет отображаться для аккаунтов с данной ролью.</li>
<li id="role_members"><strong>Выберите участников роли</strong>
<ul>
<li><strong>Доступные аккаунты и группы</strong> — в этом списке отображаются аккаунты и группы, которым можно назначить данную роль.
<ul>
<li>Чтобы назначить роль аккаунту или группе, дважды нажмите соответствующую строку.</li>
<li>Чтобы назначить роль всем аккаунтам и группам, отображающимся в списке, нажмите кнопку «<strong>Выбрать все</strong>» <em aria-hidden="true" class="fa-light fa-check-double">‌<!--icon--></em>.</li>
</ul>
</li>
<li><strong>Выбранные аккаунты и группы</strong> — в этом списке отображаются аккаунты и группы, которым назначена данная роль. Чтобы снять назначение роли аккаунту или группе, дважды нажмите соответствующую строку.</li>
<li>Содержимое обоих списков можно отфильтровать:
<ul>
<li>начните вводить текст в поле «<strong>Поиск</strong>» <em class="fa-light fa-search">‌<!--icon--></em>, в списке отобразятся подходящие аккаунты и группы;</li>
<li>установите или снимите флажок «<strong>Аккаунты</strong>» <em class="fa-light fa-address-card">‌<!--icon--></em> , чтобы показать или скрыть отдельные аккаунты;</li>
<li>установите или снимите флажок «<strong>Группы</strong>» <em class="fa-light fa-users">‌<!--icon--></em>, чтобы показать или скрыть группы аккаунтов.</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка свойств роли" src="https://kb.comindware.ru/assets/role_properties.png"/></p>
<figcaption class="caption">Настройка свойств роли</figcaption>
</figure>
<h3 id="настройка-разрешений-для-ресурсов">Настройка разрешений для ресурсов</h3>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>В списке разрешений каждая строка задаёт набор разрешений для одного ресурса.</p>
<p>Набор разрешений, заданный для ресурса, применяется при соблюдении следующих условий:</p>
<ul>
<li>роль назначена текущему аккаунту или группе, в которую он входит;</li>
<li><a class="mkdocs_imported_link" href="#account-filter">фильтр-аккаунтов</a> не задан или возвращает текущий аккаунт;</li>
<li><a class="mkdocs_imported_link" href="#conditional-application">условие применения</a> не задано или возвращает <code>true</code>.</li>
</ul>
</div>
<ol class="colored_numbers_list">
<li>
<p>Откройте вкладку «<strong>Разрешения</strong>», на которой предусмотрены следующие области:</p>
<p><strong>(1)</strong> <strong>Список системных ресурсов</strong> — содержит ресурсы, к которым можно предоставить доступ участникам данной роли.</p>
<p><strong>(2)</strong> <strong>Список разрешений</strong> — показывает ресурсы и назначенные для них разрешения для данной роли. Каждая строка задаёт набор разрешений для одного ресурса.</p>
<figure class="screenshot_with_caption"><img alt="Настройка разрешений роли" src="https://kb.comindware.ru/assets/role_permissions.png"/>
<figcaption class="caption">Настройка разрешений роли</figcaption>
</figure>
</li>
<li>
<p>Перетаскивайте ресурсы из <strong>списка ресурсов</strong> в <strong>список разрешений</strong>, чтобы настроить полномочия на действия с ресурсами в рамках роли.</p>
</li>
<li>Разворачивайте и сворачивайте пункты в списке ресурсов, чтобы просмотреть дочерние и родительские ресурсы.</li>
<li>Чтобы отфильтровать список ресурсов, начните вводить название ресурса в поле «<strong>Поиск</strong>» <em class="fa-light fa-search">‌<!--icon--></em>. В списке ресурсов отобразятся искомые ресурсы.</li>
<li>
<p>Установите флажки и введите выражения в следующих столбцах, чтобы настроить разрешения для данного ресурса:</p>
<ul>
<li><strong>Полный доступ</strong> — предоставление доступа ко всем функциям администрирования ресурса, указанного в строке. При установке этого флажка остальные флажки в строке будут установлены автоматически и будут предоставлены все соответствующие разрешения на доступ к ресурсу.</li>
<li><strong>Создание</strong> — разрешение на создание экземпляров (записей) ресурса.</li>
<li><strong>Просмотр</strong> — разрешение на просмотр данных ресурса.</li>
<li><strong>Ввод данных</strong> — разрешение на ввод данных ресурса.</li>
<li><strong>Удаление</strong> — разрешение на удаление экземпляров (записей) ресурса.</li>
<li><strong>Использование кнопок</strong> — отображение кнопки, указанной в строке. Если флажок снят, соответствующая кнопка для участников данной роли отображаться не будет.</li>
<li id="account-filter"><strong>Фильтр аккаунтов</strong> — предоставление заданных в строке разрешений на доступ к данным шаблона записи или процесса только определенным аккаунтам. Введите <strong>формулу</strong> или выражение на языке <strong>N3</strong>, возвращающие список аккаунтов, либо укажите <strong>атрибут</strong> типа «<strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2249">Аккаунт</a></strong>». Эти аккаунты должны входить в состав участников роли, указанных на вкладке «<strong>Свойства роли</strong>». Разрешения на доступ к данным, заданные в этой строке, не будут действовать для других участников роли. Фильтр аккаунтов не применяется к дочерним ресурсам шаблона, указанного в строке, таким как таблицы, формы, кнопки и журнал изменений. Разрешения для дочерних ресурсов шаблона применяются для всех участников роли, указанных на вкладке «<strong>Свойства роли</strong>».</li>
<li id="conditional-application"><strong>Условное применение</strong> — предоставление разрешений, указанных в строке, только при выполнении определенного условия. В этом столбце для ресурса можно указать <strong>формулу</strong>, выражение на языке <strong>N3</strong> или <strong>атрибут</strong>, возвращающие значение <code>true</code> или <code>false</code>. Таким образом можно предоставить условный доступ к соответствующему ресурсу для участников данной роли.</li>
</ul>
</li>
</ol>
<h3 id="удаление-разрешений-для-ресурсов">Удаление разрешений для ресурсов</h3>
<ol class="colored_numbers_list">
<li>На вкладке «<strong>Разрешения</strong>» в списке разрешений выберите один или несколько ресурсов, разрешения для которых требуется удалить.</li>
<li>Нажмите кнопку «<strong>Удалить</strong>».</li>
<li>Подтвердите удаление разрешений.</li>
<li>Будут удалены выбранные строки разрешений.</li>
</ol>
<h2 id="восстановление-исходных-разрешений-роли">Восстановление исходных разрешений роли</h2>
<ol class="colored_numbers_list">
<li>Откройте роль.</li>
<li>Нажмите кнопку «<strong>Очистить</strong>».</li>
<li>Будут восстановлены исходные разрешения роли на момент её последнего сохранения.</li>
</ol>
<h2 id="объединение-ролей">Объединение ролей</h2>
<p>Можно создать новую роль, объединив в ней свойства нескольких других ролей. Для этого выполните указанные ниже действия.</p>
<ol class="colored_numbers_list">
<li>Выберите несколько ролей в списке ролей.</li>
<li>Нажмите кнопку «<strong>Объединить в новую роль</strong>».</li>
<li>В отобразившемся окне «<strong>Клонирование</strong>» введите <strong>название</strong> и <strong>системное имя</strong> новой роли.</li>
<li>Нажмите кнопку «<strong>Сохранить</strong>».</li>
<li>Объединённая роль отобразится в списке ролей.</li>
</ol>
<h2 id="клонирование-роли">Клонирование роли</h2>
<p>Можно создать новую роль, скопировав текущую. Для этого выполните указанные ниже действия.</p>
<ol class="colored_numbers_list">
<li>Откройте роль в приложении.</li>
<li>Нажмите кнопку «<strong>Клонировать</strong>».</li>
<li>В отобразившемся окне «<strong>Клонирование</strong>» введите <strong>название</strong> и <strong>системное имя</strong> новой роли.</li>
<li>Нажмите кнопку «<strong>Сохранить</strong>».</li>
</ol>
<h2 id="удаление-роли">Удаление роли</h2>
<ol class="colored_numbers_list">
<li>Выберите подлежащие удалению роли в списке ролей.</li>
<li>Нажмите кнопку «<strong>Удалить</strong>».</li>
<li>Подтвердите удаление роли.</li>
</ol>
<h2 id="связанные-статьи">Связанные статьи</h2>
<p><strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2175">Системные роли. Определения, настройка, объединение, удаление</a></strong></p>
<p><strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2220">Шаблон роли</a></strong></p>
<p><strong><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2212">Панель и разделы навигации. Определения, настройка, удаление</a></strong></p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#"> <em class="fa-light fa-arrow-up">‌<!--icon--></em> К началу </a></div>