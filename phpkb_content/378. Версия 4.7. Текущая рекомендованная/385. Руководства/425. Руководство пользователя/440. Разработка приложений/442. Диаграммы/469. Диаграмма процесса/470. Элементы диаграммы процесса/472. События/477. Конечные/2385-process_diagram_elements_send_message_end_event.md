---
title: Конечное событие-отправка сообщения
kbId: 2385
---

# Конечное событие-отправка сообщения

## Определения

Когда токен входит в **конечное событие-отправку сообщения**, отправляется настроенное сообщение и завершается соответствующая ветвь процесса (или весь процесс, если он состоит из одной ветви).

_![Конечное событие-отправка сообщения и его меню элемента](https://kb.comindware.ru/assets/send_message_end_event.png)_

## Операции в меню элемента «Конечное событие-отправка сообщения»

- **Действия**
    - **Свойства** *‌* — переход к окну [свойств конечного события-отправки сообщения](#свойства-конечного-события-отправки-сообщения).
    - **Сценарий на входе** *‌* — переход к конструктору сценария на входе в данный элемент.
    - **Удалить** *‌* — удаление данного элемента из диаграммы процесса.
- **Изменить тип** — смена типа события.

# Свойства конечного события-отправки сообщения

В окне свойств **конечного события-отправки сообщения** предусмотрены перечисленные ниже вкладки.

### Основные

На этой вкладке можно настроить [общие свойства элемента диаграммы процесса](../../process_diagram_element_common_properties.html#process_diagram_element_common_properties).

_![Основные свойства конечного события-отправки сообщения](https://kb.comindware.ru/assets/send_message_end_event_general_properties.png)_

### Дополнительные

На этой вкладке можно настроить специфические свойства **промежуточного события-отправки сообщения**.

- **Место назначения** — укажите, куда будет отправлено сообщение.

    - **Промежуточное событие** — укажите **имя сообщения** (такое же как в [промежуточном событии-получении сообщения](../intermediate/receive_message_intermediate_event.html)) и ID **экземпляра процесса**, который получит сообщение (задайте фиксированное **значение** ID, либо **формулу** или скрипт **C#**, возвращающие ID экземпляра процесса).
Имя сообщения для процессной коммуникации

Для обмена данными между экземплярами процессов (и внутри экземпляров) используются события отправки и получения сообщений (события-инициаторы и события-обработчики).

Каждому такому событию присваивается **имя сообщения**.

Когда событие-инициатор отправляет сообщение, это сообщение принимают все события-обработчики с таким же **именем сообщения**, как у события-инициатора.

_![Настройка целевого промежуточного события и экземпляра процесса для конечного события-отправки сообщения](https://kb.comindware.ru/assets/send_message_end_event_process_instance.png)_

    - **Начальное событие** — укажите **имя сообщения** (такое же как в [начальном событии-получении сообщения](../start/receive_message_start_event.html)) и выберите процесс, который будет запущен отправленным сообщением._![Настройка целевого начального события и процесса для конечного события-отправки сообщения](https://kb.comindware.ru/assets/send_message_end_event_process.png)_
- **Внешний сокет** — выберите или создайте **[путь передачи данных](../../../../../../administration/connections_communication_routes/communication_routes.html)** типа «**Отправка эл. почты из процесса**» для отправки сообщения.
- **Общие уведомления** — выберите или создайте **[путь передачи данных](../../../../../../administration/connections_communication_routes/communication_routes.html)** типа «**Общие уведомления**» для отправки сообщения.

_![Настройка целевого пути передачи данных для конечного события-отправки сообщения](https://kb.comindware.ru/assets/send_message_end_event_communication_route.png)_
- **Продолжительность выполнения процесса** — задайте срок завершения процесса начиная от его запуска.

    - Введите фиксированное **значение** либо **формулу** или скрипт **C#**, возвращающие значение типа «**Длительность**».
    - Это значение влияет на **текущее состояние процесса**, отображающееся в [списке его экземпляров](../../../../../templates/index.html#просмотр-всех-записей-экземпляров-шаблона):
        - Если время жизни процесса не превышает заданную продолжительность, процесс выполняется **в срок**.
        - В противном случае, процесс выполняется **с опозданием**.
        - Если превышена продолжительность [временной вехи](../intermediate/none_intermediate_event.html#milestone-duration), заданная в каком-либо **простом промежуточном событии**, имеется **риск задержки**.
        - Время жизни процесса может быть [обнулено](../intermediate/none_intermediate_event.html#instance-lifetime) при наступлении **простого промежуточного события**.

### Данные сообщения

На этой вкладке можно настроить передачу данных из процесса в сообщение.

- **Атрибуты для передачи данных сообщения** — в этой таблице следует настроить соответствие между атрибутами отправляемого сообщения и атрибутами шаблона записи, связанного с шаблоном процесса. Если на вкладке «**Дополнительные**» выбрано место назначения «**Внешний сокет**» или «**Общее уведомление**» и указан путь передачи данных, эта таблица автоматически заполняется строками с вкладки «**Атрибуты сообщения**» пути передачи данных. Для остальных мест назначения таблицу следует заполнить вручную.

    - **Создать** — эта кнопка позволяет создать строку для сопоставления атрибутов сообщения и шаблона записи.
    - **Удалить** — эта кнопка позволяет удалить строки таблицы, выбранные с помощью флажков в первом столбце.
    - **Название** — задайте наглядное наименование атрибута сообщения. **Обязательное поле**.
    - **Системное имя** — задайте уникальное имя атрибута сообщения. **Обязательное поле**. Может содержать только буквы латинского алфавита (a-z A-Z), цифры (0—9) и знак «\_», не должно начинаться с цифры. Заполняется автоматически с помощью транслитерации названия.
    - **Тип данных** — укажите тип данных атрибута сообщения. **Обязательное поле**.
    - **Значение** — задайте значение атрибута сообщения, соблюдая соответствие типов данных:
        - **Атрибут** — присвойте атрибуту сообщения значение атрибута шаблона записи, связанного с шаблоном процесса.
        - **Формула** — введите формулу, возвращающую значение атрибута сообщения.
        - **C#** — введите скрипт, возвращающий значение атрибута сообщения._![Настройка данных сообщения для конечного события-отправки сообщения](https://kb.comindware.ru/assets/send_message_end_event_message_data.png)_

--8<-- "related_topics_heading.md"

**[События](../index.html#события)**

**[Типы конечных событий](index.html#типы-конечных-событий)**

**[Простое промежуточное событие](../intermediate/none_intermediate_event.html)**

**[Промежуточное событие-отправка сообщения](../intermediate/send_message_intermediate_event.html)**

**[Пути передачи данных](../../../../../../administration/connections_communication_routes/communication_routes.html)**

**[Общие свойства элементов диаграммы процесса](../../process_diagram_element_common_properties.html#process_diagram_element_common_properties)**

**[Элементы диаграммы процесса](../../index.html#process_diagram_elements)**

**[Редактирование диаграммы процесса](../../../index.html#process_diagram_designer)**

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
