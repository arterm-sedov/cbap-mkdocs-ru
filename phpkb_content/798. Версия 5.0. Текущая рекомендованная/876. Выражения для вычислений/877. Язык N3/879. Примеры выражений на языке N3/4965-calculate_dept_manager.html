<h1>Вычисление руководителя подразделения из шаблона пользователя</h1><p>Для того, чтобы вычислить руководителя подразделения из Шаблона пользователя ( в случае, если руководитель определяется именно там, а не в Шаблоне записи), например, для использования при назначении задач, введите следующее выражение:</p>
<div>
<table class="source_code_container">
<tbody>
<tr>
<td class="source_code">
<p>@prefix cmw: &lt;http://comindware.com/logics#&gt;.<br/>@prefix object: &lt;http://comindware.com/ontology/object#&gt;.<br/>@prefix account: &lt;http://comindware.com/ontology/account#&gt;.<br/>{</p>
<p>    ("Sotrudniki" "Rukovoditelbool") object:findProperty ?rukovoditel.<br/>    ("Sotrudniki" "Podrazdelenie") object:findProperty ?userDiv.<br/>    ("Naryady" "NaryadPodrazdelenie") object:findProperty ?divNar.<br/>    ("Divisions" "Title") object:findProperty ?divID.                                                                                                             <br/>        <br/>        ?item ?divNar ?div.<br/>        ?div ?divID ?divtext.<br/>        ?user a account:Account.<br/>        ?user ?userDiv ?userDivValue.<br/>        ?userDivValue == ?divtext.<br/>        ?user ?userDiv ?divtext.<br/>        ?user ?rukovoditel true.<br/>        ?user account:active true.<br/>        ?value == ?user.<br/>}</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><span style="text-decoration: underline;"><strong>где:</strong></span></p>
<p><strong>Sotrudniki</strong> – системное имя Шаблона пользователя;</p>
<p><strong>Rukovoditelbool</strong> – системное атрибута типа "Логический" в <strong>Sotrudniki</strong>, определяющий, является ли пользователь руководителем;</p>
<p><strong>Podrazdelenie</strong> – системное атрибута типа "Ссылка" в <strong>Sotrudniki</strong>, определяющий подразделение пользователя;</p>
<p><strong>Naryady</strong> – системное имя текущего Шаблона записи;</p>
<p><strong>NaryadPodrazdelenie</strong> – системное имя атрибута типа "Ссылка" в <strong>Naryady</strong>;</p>
<p><strong>Divisions </strong>– системное имя Шаблона записи, на который ссылаются <strong>Podrazdelenie </strong>и <strong>NaryadPodrazdelenie</strong>;</p>
<p><strong>Title </strong>– системное имя атрибута для поиска в <strong>Divisions</strong>.</p>