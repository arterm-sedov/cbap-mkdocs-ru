<h1>Изменение e-mail у всех пользователей в системе</h1><p>Для того, чтобы поменять e-mail у всех пользователей в системе, введите следующее выражение:</p>
<div>
<table class="source_code_container">
<tbody>
<tr>
<td class="source_code"> 
<p style="font-family: monospace; font-weight: 100; box-sizing: border-box; font-size: 14px; color: #333333; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">using System;  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>using System.Collections.Generic;  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>using System.Linq;  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>using System.Text.RegularExpressions;  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>using Comindware.Data.Entity;  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>using Comindware.TeamNetwork.Api.Data.UserCommands;</p>
<p style="font-family: monospace; font-weight: 100; box-sizing: border-box; font-size: 14px; color: #333333; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">class Script  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>{  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>    public static UserCommandResult Main(UserCommandContext userCommandContext,        Comindware.Entities entities)  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>    {  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>        var accounts = Api.Base.AccountService.List();  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            foreach (var account in accounts)  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            {  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>               account.Mbox = account.Mbox + "test";  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>               Api.Base.AccountService.Edit(account);  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            }</p>
<p style="font-family: monospace; font-weight: 100; box-sizing: border-box; font-size: 14px; color: #333333; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">        var result = new UserCommandResult  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>        {  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            Success = true,  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            Commited = true,  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            ResultType = UserCommandResultType.DataChange,  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            Messages = new[]  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            {  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>                new UserCommandMessage  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>                {  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>                    Severity = SeverityLevel.Normal,  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>                    Text = "Email changed!"  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>                    }  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>                }  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            };  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>            return result;  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>    }  <br style="font-family: 'Open Sans', sans-serif; font-weight: 100; box-sizing: border-box;"/>}</p>
</td>
</tr>
</tbody>
</table>
</div>