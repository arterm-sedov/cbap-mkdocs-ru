---
title: 'Гиперссылка на задачу. Вычисление с помощью N3 и формулы'
kbId: 4879
url: 'https://kb.comindware.ru/article.php?id=4879'
---

# Гиперссылка на задачу. Вычисление с помощью N3 и формулы

## Введение

При создании приложений может потребоваться передавать в сообщении или уведомлении о задаче ссылку на задачу.

Здесь представлен пример формирования гиперссылки на задачу, связанную с записью, к которой относится пользовательская задача.

См. также *«[Уведомления о задачах. Настройка особого текста][task_notifications]*».

Важно!

Если в процессе две задачи одновременно назначены на текущего пользователя, представленное здесь решение вернёт последнюю созданную задачу.

## Настройка

1. В шаблоне записи, связанном с процессом, создайте **вычисляемый текстовый** атрибут *«ID задачи»*. Этот атрибут требуется для вычисления ID задачи.
2. Введите следующее **вычисляемое значение** на языке **N3**:

   ```
   # Импортируем предикаты для работы с логикой и процессами.
   @prefix cmw: <http://comindware.com/logics#>.
   @prefix process: <http://comindware.com/ontology/process#>.

   {
       # Используем конструкцию once, чтобы
       # получить единственный результат.
       once {
           # Помещаем в ?processObject ID объекта процесса,
           # связанного с текущей записью ?item.
           ?processObject process:businessObject ?item.
           # Помещаем в ?value ID задачи процесса.
           ?value cmw:parent ?processObject.
       }
   }
   ```
3. Создайте **вычисляемый текстовый** атрибут *«Ссылка на задачу»* и введите следующую **формулу** в качестве **вычисляемого значения**:

   ```
   FORMAT(
   "<p><a href='https://<your-host>/#task/{0}'>
   Ссылка на задачу
   </a></p>",
   LIST($IDзадачи)
   )
   ```

   Здесь:

   - `https://<your-host>` — адрес экземпляра **{{ productName }}**;
   - `IDзадачи` — системное имя атрибута, в котором вычисляется идентификатор задачи.

   Эта формула вернёт HTML-текст с гиперссылкой на задачу.
4. Используйте значение атрибута *«Ссылка на задачу»* для передачи ссылки на задачу, например в сценариях или уведомлениях.

--8<-- "related_topics_heading.md"

- [Уведомления о задачах. Настройка особого текста][task_notifications]

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
