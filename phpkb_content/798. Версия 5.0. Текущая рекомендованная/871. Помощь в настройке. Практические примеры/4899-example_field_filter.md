---
title: Фильтр для ссылочного поля. Пример настройки
kbId: 4899
---

# Фильтр для ссылочного поля. Пример настройки

В данной статье описан пример фильтра договоров клиента на форме заявки.

Системные имена шаблонов записи и атрибутов, задействованных в примере, приведены в таблице:

| Шаблон записи | Атрибуты |
| --- | --- |
| Requests (Заявки) | contract — контрактclient\_requestor — клиент |
| Contracts (Контракты) | client — клиент |

В выражении будут использованы следующие функции и операторы:

- функция «***EQUALS()***» для выбора записи, которая соответствует клиенту в заявке;
- оператор «***from***» для перечисления всех записей из шаблона записи «*Contracts*»;
- оператор «***where***» для выбора записей, которые соответствуют условию;
- оператор «***select***» для выбора значений атрибута.

 

**Пошаговая инструкция**:

**1.** Создайте и настройте шаблоны записей и атрибуты.

**2.** В шаблоне записи «*Requests*» откройте «***Формы***».

**3.** Добавьте атрибут «*contract*» на форму.

**4.** Введите выражение в поле для фильтра.

| from a in db->Contracts where EQUALS($client\_requestor,a->client) select a->id |
| --- |

 

**Синтаксис**

| Элемент | Значение |
| --- | --- |
| from a in db->Contracts | Объявление локальной переменной а. Объявление шаблона записи «*Contracts*» в качестве источника данных: db->Contracts. Перечисление всех записей из шаблона записи «*Contracts*». |
| where EQUALS($client\_requestor, a>client) | Выбор записи, в которой значение «*сlient\_requestor*» текущей записи соответствует значению атрибута «*client*» в справочнике контрактов. |
| select a->id | Выбор идентификаторов необходимых учетных записей. |

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
