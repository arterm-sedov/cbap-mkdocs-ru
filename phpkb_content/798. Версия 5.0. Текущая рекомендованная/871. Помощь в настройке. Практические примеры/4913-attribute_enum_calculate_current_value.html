<h1>Атрибут типа «Список значений». Вычисление текущего значения</h1><div class="mce-toc">
<h2 class="toc-heading">Содержание</h2>
<ul>
<li><a href="#mcetoc_1haudd0m51">Прикладная задача</a></li>
<li><a href="#mcetoc_1haudcrcv0">Практический пример</a>
<ul>
<li><a href="#mcetoc_1haudv9rn2">Синтаксис формулы</a></li>
</ul>
</li>
<li><a href="#mcetoc_1hl3srb011">Связанные статьи</a></li>
<li><a href="#mcetoc_1hl3sqvlm0">Атрибут типа «Список значений». Вычисление значения по справочнику</a></li>
</ul>
</div>
<h2 id="mcetoc_1haudd0m51">Прикладная задача</h2>
<p>В приложении может потребоваться определить (или сравнить с требуемым) значение атрибута типа «<a href="https://kb.comindware.ru/article.php?id=4779"><strong>Список значений</strong></a>».</p>
<p>Для этого следует использовать функции <code>ENUMVALUE()</code>, <code>ID()</code> и <code>EQUALS()</code>.</p>
<p>Атрибут типа «<strong>Список значений</strong>» хранит ID своего текущего значения. Поэтому в формуле необходимо использовать функцию <code>ID()</code>, которая приводит тип <code>string</code> к типу <code>id</code>, чтобы функция <code>EQUALS()</code> сравнивала значения одного типа.</p>
<h2 id="mcetoc_1haudcrcv0">Практический пример</h2>
<p><strong><span data-markjs="true">Конфигурация</span> <span data-markjs="true">приложения</span></strong></p>
<ul style="list-style-type: disc;">
<li style="list-style-type: circle;">Атрибут <em>«Статус претензии»</em>
<ul style="list-style-type: disc;">
<li style="list-style-type: square;"><strong>Системное имя</strong>: <em>ClaimStatus</em></li>
<li style="list-style-type: square;"><strong>Тип данных</strong>: <strong>список значений</strong></li>
<li style="list-style-type: square;"><strong>Список значений</strong> 
<ul style="list-style-type: disc;">
<li style="list-style-type: square;"><em>Значение 1</em>
<ul style="list-style-type: disc;">
<li style="list-style-type: square;"><strong>Системное имя</strong>: <em>Approved</em></li>
<li><strong>EN</strong>: <em>Claim approved</em></li>
<li><strong>RU</strong>: <em>Претензия удовлетворена</em></li>
</ul>
</li>
<li style="list-style-type: square;">Значение 2
<ul style="list-style-type: disc;">
<li style="list-style-type: square;"><strong>Системное имя</strong>: <em>Rejected</em></li>
<li><strong>EN</strong>: <em>Claim rejected</em></li>
<li><strong>RU</strong>: <em>Претензия отклонена</em></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li style="list-style-type: circle;">Атрибут <em>«Претензия рассмотрена»</em> <br/>
<ul style="list-style-type: disc;">
<li style="list-style-type: square;"><strong>Тип данных</strong>: <strong>логический</strong></li>
<li style="list-style-type: square;"><strong>Вычислять по выражению</strong>: флажок установлен</li>
<li style="list-style-type: square;"><strong style="letter-spacing: 0.2px;">Вычисляемое значение</strong><span style="letter-spacing: 0.2px;">:</span>
<pre><code><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">EQUALS($ClaimStatus, ID(ENUMVALUE("ClaimStatus", "Approved")))<br/></span></code></pre>
или
<pre><code><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">EQUALS(FORMAT("{0}",LIST($ClaimStatus)),"Approved")</span></code></pre>
</li>
</ul>
</li>
</ul>
<p><strong><span style="letter-spacing: 0.2px;">Результирующее поведение</span></strong></p>
<p><span style="letter-spacing: 0.2px;">Атрибут </span><em style="letter-spacing: 0.2px;">«Претензия рассмотрена» </em>будет принимать значение <code style="letter-spacing: 0.2px;">true</code> <span style="letter-spacing: 0.2px;"> , если претензия удовлетворена. </span></p>
<h3 id="mcetoc_1haudv9rn2">Синтаксис формул</h3>
<ul>
<li><code></code><code style="box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; color: #36464e !important; word-break: break-word; padding: 0px; background-color: #f5f5f5; border-radius: 0.25rem; font-weight: normal; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">EQUALS()</code><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;"> — возвращает <code>true</code>, если для атрибута <em>«Статус претензии» </em>задано значение <em>«Претензия удовлетворена»</em>.</span></li>
<li><code></code><code style="letter-spacing: 0.2px;"><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">ENUMVALUE("ClaimStatus", "Approved")</span></code><span style="letter-spacing: 0.2px;"> — возвращает строку с ID значения </span><code style="letter-spacing: 0.2px;"><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">Resolved</span></code><span style="letter-spacing: 0.2px;"> атрибута </span><code style="letter-spacing: 0.2px;"><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">ClaimStatus</span></code><span style="letter-spacing: 0.2px;">.</span></li>
<li><code><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">ID()</span></code> — преобразует полученную строку в идентификатор объекта<span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">.</span></li>
<li><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;"><code><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">LIST($ClaimStatus)</span></code> — возвращает список из одного элемента: значения атрибута <em>«Статус претензии».</em></span></li>
<li><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;"><code><span style="color: #36464e; font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13.5px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: #f5f5f5; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">FORMAT("{0}"</span></code> — преобразует в строку системное имя значения атрибута <em>«Статус претензии».</em></span></li>
</ul>
<h2 id="mcetoc_1hl3srb011">Связанные статьи</h2>
<p><strong><a href="https://kb.comindware.ru/article.php?id=4779">Атрибут типа «Список значений»</a></strong></p>
<p><a href="https://kb.comindware.ru/article.php?id=4916"><strong>Атрибут типа «Список значений». Вычисление значения по справочнику</strong></a></p>
<p><a class="md-top md-icon mkdocs_imported_link" href="#"><em class="fa-light fa-arrow-up">‌</em> К началу</a></p>