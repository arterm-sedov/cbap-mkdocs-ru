---
title: Получение входящей эл. почты в процессе
kbId: 4876
---

# Получение входящей эл. почты в процессе

**{{ productName }}** может как отправлять, так и принимать входящие электронные письма. Например, если вы хотите принимать запросы, заявки, или какую-либо другую информацию, то:

**1.** Создайте новое подключение с эл. почтой, с которой будут приниматься эл. письма.

**2.** Создайте новый путь «*Входящие сообщения*» в разделе «***Пути передачи данных***».

- В зависимости от требуемого сценария использования выберите вариант назначения эл. письма: «***Новый экземпляр процесса***» или «***Существующий экземпляр процесса***».

Например, при использовании выбранного эл. адреса только для приема запросов можно указать «***Новый экземпляр процесса***». Если предполагается прием и разбор ответов на отправленные эл. письма с дальнейшей отправкой в ожидающий процесс, то нужно указать «***Существующий экземпляр процесса***».

- Также важно корректно выбрать процесс, который будет запускаться при обработке одного эл. письма.

Например, при использовании выбранного эл. адреса только для приема запросов можно указать конкретный бизнес-процесс обработки запроса. Если на выбранный эл. адрес отправляются запросы различного типа или ответы на отправленные письма, то необходимо создать технический процесс приема всех запросов.

_![Пример технического процесса по обработке входящих писем](https://kb.comindware.ru/assets/incomingmail1.png)_

**3.**В путях передачи данных настройте атрибуты сообщения, с помощью которых можно настроить соответствие атрибутов системы и атрибутов эл.письма.

_![Настройка соответствия атрибутов](https://kb.comindware.ru/assets/incomingmail2.png)_

Взаимодействие через эл. письма имеет ограничения по количеству и формату передаваемых данных — перечень стандартных атрибутов эл. письма:

- Адрес отправителя;
- Имя отправителя;
- Адрес получателя;
- Имя получателя;
- Тема;
- Сообщение;
- Адрес для отправки копии;
- Имя для отправки копии;
- Адрес для отправки скрытой копии;
- Имя для отправки скрытой копии;
- Прикрепленные файлы.

**4.** В дополнительных свойствах начального события-получения сообщения выберите созданный путь передачи данных.

_![Настройка начального события-получения сообщения](https://kb.comindware.ru/assets/incomingmail3.png)_

Во вкладке «***Шаблон сообщения***» также укажите атрибуты вашего шаблона записи для передачи данных из шаблона сообщения выбранного пути передачи данных.

_![Настройка передачи данных из полученного сообщения](https://kb.comindware.ru/assets/incomingmail4.png)_

**5.** В зависимости от сценария использования в настройке процесса возможно потребуется разбор темы или тела письма для определения типа запроса или варианта новый/существующий запрос. В данном случае рекомендуем воспользоваться примерами реализации на языке Comindware Expression Language (примеры парсинга атрибутов: [Парсинг Email до знака @](https://kb.comindware.ru/article.php?id=4983)).

При настройке подключения для получения эл.почты, имейте в виду, что каждое непрочитанное письмо в данной эл. почте будет обработано и помечено как прочитанное.{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
