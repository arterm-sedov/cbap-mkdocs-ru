---
title: Урок 4. Мониторинг и аналитика
kbId: 4865
---

# Урок 4. Мониторинг и аналитика

Устаревший курс

Данный курс является устаревшим.

Рекомендуем вместо него пройти курс «[Аналитик. Ознакомительный][tutorial_hr]».

## Введение

В ходе этого урока вы научитесь просматривать **историю выполнения процесса** и создавать **информационные страницы** (дашборды) с диаграммами для просмотра статистики за определённый период.

**Предусловия:** пройден *[урок 3 «Мой первый бизнес-процесс»][lesson_3]*.

**Расчётная продолжительность:** 55 мин.

Примечание

В данном уроке представлен продукт **{{ productName }}** версии 5.0, внешний вид страниц и меню в других версиях продукта может отличаться.

## Определения

**{{ productName }}** позволяет анализировать состояние запущенных и завершённых экземпляров бизнес-процессов.

- Доступна следующая информация об истории процесса:
  - Позиции **токенов** на диаграмме.
  - Путь выполнения процесса.
  - Цепочка событий для каждого элемента диаграммы процесса.
  - Информация о каждом элементе процесса (исполнитель задачи, срок выполнения и т. д.).
  - Ошибки, возникшие в ходе выполнения процесса.
- **Токен** — это маркер текущей позиции выполнения процесса в нотации BPMN. Он обладает следующими характеристиками:
  - на диаграмме процесса может быть один или несколько токенов, каждый из которых будет двигаться по своему пути;
  - токены создаются на начальных событиях, некоторых промежуточных событиях и расходящихся развилках;
  - токены удаляются на конечных событиях и сходящихся развилках;
  - в качестве аналогии, токен можно представить себе как фишку, которая двигается по процессу.

## Мониторинг исполнения бизнес-процесса

Просмотрим историю экземпляра процесса *«Заказ автотранспорта»*.

Просмотр истории процесса

Представление истории процесса показывает диаграмму экземпляра процесса и служит для мониторинга и управления его выполнением.

- **Кнопки управления экземпляром процесса**

  - **Остановить процесс** — удаление всех токенов с диаграммы экземпляра процесса. **[Статус](#process_status)** процесса сменится на «**Отменён**». Эта кнопка отображается,если на диаграмме имеется хотя бы один токен и не выбран ни один элемент.
  - **Архивировать** — архивирование экземпляра процесса. Архивные экземпляры не отображаются в списке экземпляров (если в конфигурации соответствующей таблицы не установлен флажок «**Показывать архивные записи**»).
  - **Создать токен** — создание токена на выбранном элементе для запуска выполнения процесса с этого элемента. Эта кнопка отображается, если выбран элемент диаграммы.
  - **Журнал изменений** *‌* — вызов панели со сведениями об экземпляре процесса.
- **Сведения об экземпляре процесса**

  - **Свойства** — контекст экземпляра процесса:
    - **Статус**
      - **Активен** — на элементах диаграммы процесса есть токены.
      - **Неактивен** — на элементах диаграммы процесса нет токенов.
      - **Завершён** — процесс завершился ожидаемым образом, на элементах нет токенов.
      - **Отменён** — процесс был остановлен с удалением всех токенов.
    - **Дата создания** — дата и время создания экземпляра процесса.
    - **Создатель** — ссылка на аккаунт создателя экземпляра процесса.
    - **Шаблон процесса** — ссылка на страницу конструктора диаграммы процесса.
    - **Запись** — ссылка на запись, связанную с экземпляром процесса.
    - **Шаблон записи** — ссылка на список записей шаблона, связанного с шаблоном данного процесса.
    - **Версия** — ссылка на версию диаграммы, по которой был запущен экземпляр процесса.
  - **Токены** — список токенов с указанием элементов диаграммы процесса, на которых они находятся. Для процессов со статусом «**Завершён**» эта вкладка содержит надпись «**Нет данных для отображения**». При выборе элемента отображается панель «**Действия**» со следующими кнопками:
    - **Перейти** *‌* к форме пользовательской задачи или к диаграмме подпроцесса. Для этого также можно дважды нажать пользовательскую задачу или подпроцесс на диаграмме.
    - **Перезапустить токен** *‌* на выбранном элементе.
    - **Удалить токен** *‌* с выбранного элемента.
  - **Журнал изменений** — список событий, произошедших в ходе выполнения процесса. В журнале изменений отображается подробная информация обо всех токенах и шагах процесса:
    - дата и время создания токена;
    - наименование события;
    - инициатор — аккаунт, создавший токен на элементе;
    - фактический исполнитель задачи;
    - исполнители, указанные в свойствах задачи;
    - дата и время выхода токена из элемента;
    - цепочка событий — нажмите значок рядом с элементом в журнале изменений, чтобы просмотреть цепочку событий для этого элемента.
- **Кнопки масштабирования диаграммы**

  - **Показать всю диаграмму** *‌*
  - **Увеличить** *‌*
  - **Уменьшить** *‌*
  - Масштабировать диаграмму также можно с помощью колёсика прокрутки мыши.
  - Чтобы переместить диаграмму на экране, нажмите и перетащите её пустую область.

1. В списке шаблонов откройте шаблон процесса *«Заказ автотранспорта»*, дважды нажав его.
2. Откройте список экземпляров процесса, нажав кнопку «**Перейти к экземплярам**» на вкладке «**Свойства**» шаблона процесса.
3. В списке выберите один из запущенных экземпляров процесса, дважды нажав его.

   ![Переход к экземпляру процесса из списка](/platform/v5.0/tutorial/img/lesson_4_process_instance_list.png)

   Переход к экземпляру процесса из списка
4. Отобразится представление истории процесса, в котором активный элемент диаграммы будет выделен зелёным цветом.
5. Выберите задачу *«Совершить поездку»* на диаграмме процесса.
6. На панели справа отобразится информация о её выполнении.

   ![Информация о токенах на задаче на диаграмме экземпляра процесса](/platform/v5.0/tutorial/img/lesson_4_process_instance_tokens.png)

   Информация о токенах на задаче на диаграмме экземпляра процесса
7. Перейдите на вкладку «**Журнал изменений**» и разверните задачу *«Рассмотреть заявку»* для просмотра информации о ней.
8. Задача *«Рассмотреть заявку»* на диаграмме процесса будет выделена желтым цветом.
9. Аналогично выберите любой другой элемент диаграммы процесса для просмотра сведений о нём.

   ![Журнал изменений задачи на диаграмме экземпляра процесса](/platform/v5.0/tutorial/img/lesson_4_process_instance_changelog.png)

   Журнал изменений задачи на диаграмме экземпляра процесса

## Настройка страницы с круговой диаграммой количества заказов

Страницы

**{{ productName }}** позволяет создавать информационные страницы (дашборды) для мониторинга и анализа статистических данных за определённый период. Информационная страница может содержать диаграммы, списки, показатели и другие виджеты для визуализации бизнес-данных.

Бизнес-логика

Перед настройкой и использованием информационной страницы с диаграммой создайте данные для визуализации: создайте и выполните несколько заявок по бизнес-процессу, заполнив *время подачи* автомобиля датами с разными месяцами.

Настроим информационную страницу с диаграммой, которая будет показывать количество заказов автомобилей по месяцам.

1. На панели навигации слева выберите пункт «**Настройки**» — «**Приложения**».
2. Откройте страницу администрирования приложения *«Управление автопарком»*, дважды нажав его в списке.
3. Выберите пункт «**Разделы навигации**» *‌*.
4. В списке разделов навигации нажмите кнопку «**Создать**».
5. Отобразится конструктор раздела навигации.
6. На панели свойств раздела навигации укажите **отображаемое название** раздела навигации *«Сводки»*.
7. Сохраните раздел навигации.
8. Обновите страницу в браузере после сохранения раздела навигации, чтобы последующие шаги выполнялись корректно.
9. В панели элементов слева нажмите кнопку «**Создать страницу**» *‌* рядом с пунктом «**Страницы**».

   ![Переименование раздела навигации и создание информационной страницы](/platform/v5.0/tutorial/img/lesson_4_navigation_section_rename.png)

   Переименование раздела навигации и создание информационной страницы
10. Откроется вкладка «**Новая страница**».
11. В панели свойств укажите название страницы *«Статистика заявок»*.
12. Сохраните страницу.
13. Обновите страницу в браузере, чтобы последующие шаги выполнялись корректно. Если браузер выдаст предупреждение о возможной утрате несохранённых изменений, подтвердите обновление страниц.

    ![Переименование и сохранение страницы](/platform/v5.0/tutorial/img/lesson_4_page_rename.png)

    Переименование и сохранение страницы
14. Выберите вкладку «**Навигация**».
15. Разверните раздел «**Страницы**» в панели элементов.
16. Нажмите кнопку «**Редактировать**» *‌* рядом с пунктом *«Статистика заявок»* в панели элементов.

    ![Переход к редактированию страницы](/platform/v5.0/tutorial/img/lesson_4_page_edit.png)

    Переход к редактированию страницы
17. Откроется вкладка «**Статистика заявок**».
18. Нажмите кнопку со значком «**Создать диаграмму**» *‌* рядом с пунктом «**Диаграммы**» в панели элементов.

    ![Создание диаграммы](/platform/v5.0/tutorial/img/lesson_4_chart_create.png)

    Создание диаграммы
19. Откроется конструктор диаграммы.
20. Настройте диаграмму с помощью панели «**Свойства виджета**»:

    - **Название:** *Заявки по месяцам;*
    - **Отображаемое название:** *Заявки по месяцам;*
    - **Тип**: **круговая диаграмма**;
    - **Шаблон:** *Заявки на автомобили* — источник данных для диаграммы;
    - **Категории:** *Время подачи* — атрибут, по значениям которого будут сгруппированы записи на диаграмме;
    - **Фильтр по дате**
      - **Атрибут**: **время подачи** — атрибут типа «**Дата и время**», используемый для фильтрации записей на диаграмме.
      - **Периоды:** **ближайшие месяцы** — интервал, с которым будут сгруппированы записи на диаграмме;
      - **Период по умолчанию:** **текущий месяц** — период, записи за который будут отображаться на диаграмме по умолчанию.
21. Просмотрите и сохраните результирующую диаграмму.

    ![Настройка и сохранение круговой диаграммы](/platform/v5.0/tutorial/img/lesson_4_piechart_configure.png)

    Настройка и сохранение круговой диаграммы
22. Нажмите в браузере кнопку «**Назад**», чтобы вернуться к странице *«Статистика заявок»*.
23. Перетащите новую **область** на макет страницы и переименуйте ее в *«Отчёты»*.
24. Перетащите диаграмму *«Заявки по месяцам»* из панели элементов в область *«Отчёты»*.
25. Сохраните страницу *«Статистика заявок»*.

    ![Добавление диаграммы на страницу](/platform/v5.0/tutorial/img/lesson_4_page_chart_configure.png)

    Добавление диаграммы на страницу
26. Выберите вкладку «**Навигация**».
27. Перетащите страницу *«Статистика заявок»* из панели элементов на макет раздела навигации.
28. Сохраните раздел навигации.

    ![Добавление страницы в раздел навигации](/platform/v5.0/tutorial/img/lesson_4_navigation_section_page_add.png)

    Добавление страницы в раздел навигации

## Результаты

Вы научились получать информацию об истории выполнения процессов и создавать информационные страницы для визуализации данных.

Примечание

Созданный **раздел навигации** *«Сводки»* мы впоследствии используем в [Уроке 8][lesson_8].

В [следующем уроке][lesson_5] вы познакомитесь с новым типом атрибутов — **Запись**, а также создадите справочник и мастер-данные.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
