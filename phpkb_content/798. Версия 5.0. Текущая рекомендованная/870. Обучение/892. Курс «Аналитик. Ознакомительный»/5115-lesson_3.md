---
title: Урок 3. Создание бизнес-процесса
kbId: 5115
---

# Урок 3. Создание бизнес-процесса

## Введение

В ходе этого урока вы усовершенствуете **приложение**, созданное на [предыдущем уроке][tutorial_hr_lesson_2], настроив следующий автоматизированный **процесс** отбора кандидата.

На примере процесса *«Отбор кандидата на открытую вакансию»* вы научитесь моделировать этапы, роли и задачи, используя BPMN-диаграмму, и связывать бизнес-процесс с данными о кандидатах.

**Предусловия:** пройден [урок 2 «Первый реестр данных»][tutorial_hr_lesson_2].

Бизнес-логика

- *HR-менеджер* получает результаты тестирования кандидата и заносит их в систему.
- Если кандидат не прошёл тестирование, процесс завершается.
- Если кандидат успешно прошёл тестирование, его дело одновременно поступает *Нанимающему менеджеру* для проведения собеседования и в *Службу безопасности* для проведения проверки.

**Расчётная продолжительность:** 90 мин.

Примечание

В данном уроке представлен продукт **{{ productName }}** версии 5.0, внешний вид страниц и меню в других версиях продукта может отличаться.

## Темы, навыки и задания урока

**Темы**

- Процесс
- Шаблон процесса
- Элементы диаграммы
- Простое начальное событие
- Простое конечное событие
- Пользовательская задача
- Развилка или/или
- Развилка и
- Пул и дорожка

**Навыки**

- Создавать процесс
- Публиковать процесс
- Различать виды элементов диаграммы
- Создавать экземпляр процесса

**Задания**

- Понимать связи между процессом, записью и задачами
- Создать процесс
- Отредактировать диаграмму процесса

## Определения

- **Исполняемый бизнес-процесс**

  - Исполняемый бизнес-процесс — это процесс, автоматизированный с помощью программного обеспечения, например системы управления бизнес-процессами (BPMS) **{{ productName }}**.
  - Исполняемый бизнес-процесс определяет кто, что и в какой последовательности должен сделать, а также обеспечивает оперативную передачу «дела» между подразделениями. Таким образом, система берет на себя контроль за всем процессом от заявки до закрытия «дела».
  - Процессы в **{{ productName }}** могут взаимодействовать друг с другом, а также с внешними ресурсами, такими как серверы электронной почты и веб-сервисы.
  - Исполняемый бизнес-процесс служит заменой электронной почты и Excel, позволяет упростить и автоматизировать документооборот, а также автоматически формировать документы по шаблонам.
  - Исполняемый бизнес-процесс можно назвать «интерактивным регламентом». Традиционный регламент-документ предназначен для того, чтобы сотрудники периодически с ним сверялись, чтобы понять, что делать. В случае исполняемого бизнес-процесса координацией занимается компьютер.
  - [Диаграмма бизнес-процесса][process_diagram] в нотации BPMN загружается в BPMS, и система следует ей, раздавая задания людям и вызывая функции информационных систем.
  - Исполняемый процесс позволяет повысить эффективность работы:
    - «дело» передается от одного сотрудника другому оперативно, безошибочно, вместе со всеми относящимися к нему данными;
    - процесс гарантированно выполняется по утвержденной схеме, контролировать это не требуется;
    - показатели процесса автоматически измеряются и выводятся на экран менеджеров в наглядном виде.
  - Исполняемый бизнес-процесс имеет некоторое сходство с документооборотом, но это более совершенная форма автоматизации:
    - информация хранится не в документах Word или PDF, а в виде структурированных данных (числа, даты, текстовые данные);
    - маршрут процесса можно прописать более точно, чем это позволяют системы документооборота.
- **Шаблон процесса**

  - Настройка исполняемого бизнес-процесса в **{{ productName }}** выполняется с помощью шаблона процесса.
  - Шаблон процесса состоит из [диаграммы процесса][process_diagram] в нотации BPMN 2.0, хранит экземпляры процесса и свойства, определяющие, как должны выполняться все экземпляра процесса.
  - Каждый шаблон процесса связан с шаблоном записи, который хранит записи для экземпляров процесса.
- **Диаграмма процесса**
  - **Пул и дорожка** — элементы BPMN-диаграммы, отражающие участников процесса.
  - **Пользовательская задача** — действие, выполняемое человеком в рамках процесса.
  - **Развилка** — элемент BPMN для ветвления сценариев.
- **Экземпляр процесса** — конкретное выполнение процесса для одного кандидата.

## Создание шаблона процесса

Настроим шаблон процесса отбора кандидата.

1. На панели навигации слева выберите пункты «**Настройки**» — «**Шаблоны**».
2. Перейдите на вкладку «**Шаблоны процессов**».
3. Нажмите кнопку «**Создать**».
4. Введите название шаблона *«Найм персонала»*.
5. Укажите приложение *«Управление персоналом».*
6. В поле «**Связанный шаблон**» выберите шаблон *«Кандидаты»*.
7. Нажмите кнопку «**Создать**».

_![Создание шаблона бизнес-процесса](/platform/v5.0/tutorial_hr/img/lesson_3_hr_process_template_create.png)_

## Построение диаграммы бизнес-процесса

Примечание

В **{{ productName }}** для построения **диаграмм бизнес-процесса** используется **нотация BPMN 2.0**.

Нотация BPMN проста в понимании и часто применяется в бизнесе. Однозначная интерпретация диаграмм BPMN обеспечивает одинаковое понимание процесса бизнесом, аналитиками и ИТ-специалистами.

1. Перейдите на вкладку «**Диаграмма**».
2. Отобразится конструктор диаграммы процесса.

   ![Конструктор диаграммы процесса](/platform/v5.0/tutorial_hr/img/lesson_3_process_diagram_designer.png)

   Конструктор диаграммы процесса

   Конструктор диаграммы процесса

   Конструктор диаграммы процесса состоит из трех частей, показанных на иллюстрации.

   **(1)** **Панель элементов**, которые можно перетащить на диаграмму:

   - **Действия** — задачи и подпроцессы:

     - **задачи** — **пользовательские** (выполнение действий данных участником процесса через форму задачи) и автоматические (выполнение сценария, вызов сервиса);
     - **подпроцессы** — **вызов процесса** и **встроенный подпроцесс**;
   - **События** — **начальное, промежуточное и конечное**;
   - **Развилки** — «**или/или**», «**и**» (параллельная);
   - **Общие элементы** — **дорожка**, **поток управления**, **комментарий**.

   **(2)** **Диаграмма** бизнес-процесса.

   **(3)** Кнопки **Выбрать версию**, **Очистить**, **Восстановить**, **Опубликовать**, **Проверить**, **Экспортировать**.
3. Дважды нажмите надпись «**Пул**».
4. Переименуйте **пул** в *«Обработка кандидата на открытую вакансию»*.

   ![Переименование пула](/platform/v5.0/tutorial_hr/img/lesson_3_pool_rename.png)

   Переименование пула
5. Добавим на диаграмму дорожки.

   ![Перетаскивание дорожек на диаграмму процесса](/platform/v5.0/tutorial_hr/img/lesson_3_lane_create.png)

   Перетаскивание дорожек на диаграмму процесса

   Дорожка

   **Дорожка** в BPMN представляет участников процесса. Их можно настроить произвольным образом по усмотрению проектировщика процесса.

   Обычно дорожки представляют клиента, отдел, должность, роль или команду. Например, в нашем процессе *Нанимающий менеджер* — это роль (*Нанимающий менеджер* может быть из любого отдела), *Служба безопасности* — отдел, а *HR-менеджер* — должность.
6. Перетащите с панели элементов три дорожки на диаграмму процесса. Элемент «**Дорожка**» расположен в группе «**Общие элементы**».
7. Присвойте дорожкам названия: *HR-менеджер, Нанимающий менеджер, Служба безопасности.*
8. Чтобы переименовать дорожку, выберите её и в раскрывающемся меню элемента нажмите кнопку «**Свойства**» *‌*.

   ![Переход к настройке дорожки](/platform/v5.0/tutorial_hr/img/lesson_3_lane_properties.png)

   Переход к настройке дорожки
9. В отобразившемся окне «**Свойства дорожки**» введите новое название и нажмите кнопку «**Сохранить**».
10. Удалите конечное событие. Для этого выберите его и в меню элемента нажмите кнопку «**Удалить**» *‌*.

    ![Удаление элемента диаграммы процесса](/platform/v5.0/tutorial_hr/img/lesson_3_end_event_delete.png)

    Удаление элемента диаграммы процесса
11. Чтобы переименовать стартовое событие, выберите его и в раскрывающемся меню элемента нажмите кнопку «**Свойства**» *‌*.
12. В отобразившемся окне «**Свойства начального события**» введите новое название *«Проведено тестирование кандидата»* и нажмите кнопку «**Сохранить**».
13. Перетащите элемент «**Пользовательская задача**» из раздела «**Действия**» с левой панели на дорожку *«HR-менеджер»*.

    Пользовательская задача

    **Пользовательскую задачу** выполняет человек. При переходе процесса на этот элемент задача автоматически назначается одному или нескольким исполнителям.
14. Присвойте задаче название *«Зафиксировать результаты тестирования»*. Для этого дважды нажмите название задачи.
15. Присоедините **поток управления** от начального события к пользовательской задаче *«Зафиксировать результаты тестирования».*
16. Перетащите элемент «**Развилка** «**или/или**» на диаграмму и соедините его с задачей *«Зафиксировать результаты тестирования»*.

    Развилка «или/или»

    ```
    **Развилка «или/или»** определяет альтернативные потоки процесса, из которых может быть выбран только один.

    Для каждого потока (стрелки), выходящего из развилки, указывается логическое условие.

    Процесс следует первому потоку, для которого условие возвращает `true`.

    Кроме того, можно выбрать поток «**иначе**» (по умолчанию), по которому процесс пойдет в том случае, если ни одно из условий на других потоках не выполнено.
    ```
17. Присоедините к развилке два потока управления.
18. Присвойте развилке название *«Кандидат прошёл тестирование?»*. Для этого дважды нажмите развилку и введите её название или нажмите кнопку «**Свойства**» *‌* в меню элемента.

    ![Переход к настройке развилки «или/или»](/platform/v5.0/tutorial_hr/img/lesson_3_exclusive_gate_properties.png)

    Переход к настройке развилки «или/или»

    Бизнес-логика

    *HR-менеджер* заполняет данные о прохождении тестирования кандидатом.

    Если кандидат не прошёл тестирование, то процесс завершается.

    Если кандидат прошёл тестирование, то далее его обрабатывают *Нанимающий менеджер* и *Служба безопасности*.

    Реализуем на диаграмме эту бизнес-логику.
19. К развилке *«Кандидат прошёл тестирование?»* присоедините потоками управления два новых элемента:

    - **Конечное событие** *«Кандидат не прошёл тестирование»*
    - **Развилка «и»**

    События

    ```
    **События** в BPMN можно рассматривать как этапы процесса — старт, промежуточные вехи, варианты завершения.

    - **Простое начальное событие** может быть только одно, а начальных событий других типов — несколько.
    - Промежуточных событий может быть несколько согласно бизнес-логике.
    - Конечных событий может быть несколько для различных результатов завершения процесса.
    ```
20. Выберите развилку и в меню элемента нажмите кнопку «**Свойства**» *‌*.
21. Отобразится окно «**Свойства развилки «или/или**».
22. На вкладке «**Дополнительные**» укажите названия исходящих потоков — *«Да»* и *«Нет»*. Для этого дважды нажмите соответствующие поля.
23. Сохраните настроенные свойства развилки.

    ![Настройка потоков управления развилки «или/пли»](/platform/v5.0/tutorial_hr/img/lesson_3_exclusive_gate_setting.png)

    Настройка потоков управления развилки «или/пли»
24. От **развилки «и»** добавьте две пользовательских задачи:

    - *«Провести собеседование»* для *Нанимающего менеджера*;
    - *«Провести проверку кандидата»* для сотрудника *Службы безопасности*.

    Развилка «и»

    **Развилка «и»** (параллельная) используется для разделения процесса на несколько потоков, которые будут выполняться одновременно.
25. Добавьте ещё одну **развилку «и»** и соедините с ней задачи *«Провести собеседование»* и *«Провести проверку кандидата»*.

    ![Диаграмма процесса с задачами «Зафиксировать результаты тестирования», «Провести собеседование», «Провести проверку кандидата» и конечным событием «Кандидат не прошёл тестирование»](/platform/v5.0/tutorial_hr/img/lesson_3_process_diagram_intermediate.png)

    Диаграмма процесса с задачами «Зафиксировать результаты тестирования», «Провести собеседование», «Провести проверку кандидата» и конечным событием «Кандидат не прошёл тестирование»
26. От второй **развилки «и»** добавьте элемент «**Развилка** «**или/или**».
27. Присоедините к развилке два потока управления.
28. Присвойте развилке название *«Кандидат прошёл проверку?»*. Для этого дважды нажмите развилку и введите её название или нажмите кнопку «**Свойства**» *‌* в меню элемента.
29. К развилке *«Кандидат прошёл проверку?»* присоедините потоками управления два новых элемента:

    - **Конечное событие** *«Кандидат не прошёл проверку»*
    - **Пользовательская задача** *«Сформировать и согласовать предложение с кандидатом»*
30. В свойствах развилки *«Кандидат прошёл проверку?»* укажите названия исходящих потоков — *«Да»* и *«Нет»*.
31. К задаче *«Сформировать и согласовать предложение с кандидатом»* присоедините потоком управления **конечное событие** *«Кандидат принят на работу»*.
32. В итоге должна получиться следующая диаграмма:

    ![Результирующая диаграмма бизнес-процесса найма персонала](/platform/v5.0/tutorial_hr/img/lesson_3_hr_diagram_final_full.png)

    Результирующая диаграмма бизнес-процесса найма персонала

## Настройка форм пользовательских задач

### Форма задачи «Зафиксировать результаты тестирования»

Настроим форму для задачи *«Зафиксировать результаты тестирования»*. На этой форме *HR-менеджер* будет заполнять данные кандидата и указывать результаты тестирования.

1. Выберите задачу *«Зафиксировать результаты тестирования»* и в меню элемента нажмите кнопку «**Форма**» *‌*.

   ![Переход к настройке формы задачи](/platform/v5.0/tutorial_hr/img/lesson_3_task_form_open.png)

   Переход к настройке формы задачи
2. Отобразится конструктор формы задачи.
3. Разверните элемент *«Кандидаты»* на панели элементов слева.
4. Перетащите форму *«Кандидаты — Основная форма»* на макет формы.
5. Перетащите на макет формы под вложенную форму элемент «**Область**» и присвойте ей название *«Результаты тестирования»*.
6. Перетащите в эту область атрибут *«Результат тестирования»*.
7. Сохраните форму.
8. Вернитесь к диаграмме процесса, нажав кнопку «**Назад**» в браузере.

_![Настройка формы задачи «Зафиксировать результаты тестирования»](/platform/v5.0/tutorial_hr/img/lesson_3_hr_task_form_review.png)_

### Форма задачи «Провести собеседование»

Настроим форму для задачи *«Провести собеседование»*.

1. Выберите задачу *«Провести собеседование»* и в меню элемента нажмите кнопку «**Форма**» *‌*.
2. Создайте **логический** атрибут *«Результат собеседования»*, нажав кнопку «**Добавить атрибут**» *‌* у элемента *«Кандидаты»*.

   ![Добавление нового атрибута через форму задачи](/platform/v5.0/tutorial_hr/img/lesson_3_add_new_attribute.png)

   Добавление нового атрибута через форму задачи
3. Перетащите форму *«Кандидаты — Основная форма»* на макет.
4. Перетащите на макет формы элемент «**Область**» и назовите её *«Результаты собеседования»*.
5. Перетащите в эту область атрибут *«Результат собеседования»* и *«Оценка за прохождение собеседования»*.
6. Сохраните форму.
7. Вернитесь к диаграмме процесса, нажав кнопку «**Назад**» в браузере.

_![Настройка формы задачи «Провести собеседование»](/platform/v5.0/tutorial_hr/img/lesson_3_task_form_interview.png)_

### Форма задачи «Провести проверку кандидата»

Для задачи *«Провести проверку кандидата»* настройте форму аналогично, создав атрибуты, необходимые для фиксации результатов проверки службой безопасности.

1. Откройте форму задачи *«Провести проверку кандидата»*.
2. Создайте **логический** атрибут *«Проверка службы безопасности»*, нажав кнопку «**Добавить атрибут**» *‌* у элемента *«Кандидаты»*.
3. Перетащите на макет формы элемент «**Область**» и назовите её *«Результаты проверки»*.
4. Перетащите в эту область атрибут *«Проверка службы безопасности»*.
5. Добавьте форму *«Кандидаты — Основная форма»* на макет.
6. Сохраните форму.
7. Вернитесь к диаграмме процесса, нажав кнопку «**Назад**» в браузере.

_![Настройка формы задачи «Провести проверку кандидата»](/platform/v5.0/tutorial_hr/img/lesson_3_task_form_check_candidate.png)_

### Форма задачи «Сформировать и согласовать предложение с кандидатом»

1. Выберите задачу *«Сформировать и согласовать предложение с кандидатом»* и в меню элемента нажмите кнопку «**Форма**» *‌*.
2. Перетащите форму *«Кандидаты — Основная форма»* на макет формы.
3. Сохраните форму.
4. Вернитесь к диаграмме процесса, нажав кнопку «**Назад**» в браузере.

_![Настройка формы задачи «Сформировать и согласовать предложение с кандидатом»](/platform/v5.0/tutorial_hr/img/lesson_3_hr_task_form_offer.png)_

## Настройка развилок

Настроим логику ветвления процесса с помощью развилок.

### Развилка «Кандидат прошёл тестирование?»

Бизнес-логика

Поток, по которому процесс пойдёт после развилки *«Кандидат прошёл тестирование?»*, задаёт логический атрибут *«Результат тестирования»*, значение которого устанавливает *HR-менеджер* при рассмотрении кандидата.

Для управления ходом процесса определим условие для потока к **развилке «и»** на основе значения атрибута *«Результат тестирования»*.

1. Выберите развилку *«Кандидат прошёл тестирование?»* и в меню элемента нажмите кнопку «**Свойства**» *‌*.
2. Перейдите на вкладку «**Дополнительные**».
3. Для потока *«Нет»*, ведущего к конечному событию *«Кандидат не прошёл тестирование»*, установите флажок «**Поток** «**иначе**».

   Поток управления «иначе» от развилки «или/или»

   ```
   **Поток управления «иначе»** (по умолчанию) — это поток из **развилки «или/или»**, по которому пойдет процесс в том случае, если условия на всех остальных потоках не выполняются (значение логического выражения — `false`).
   ```
4. Для потока *«Да»* в ячейке «**Условие**» введите формулу `$Результаттестирования`.

   Ссылки на атрибуты в формулах

   В формулах префикс `$` перед системным именем атрибута используется, чтобы обратиться атрибуту текущего объекта.

   То есть формула `$Результаттестирования` возвращает значение атрибута *«Результат тестирования»* — `true` или `false` (ложь или истина).
5. Нажмите кнопку *‌*.
6. Сохраните поток управления.

   ![Настройка развилки «Кандидат прошёл тестирование?»](/platform/v5.0/tutorial_hr/img/lesson_3_hr_exclusive_gate_formula.png)

   Настройка развилки «Кандидат прошёл тестирование?»

### Развилка «Кандидат прошёл проверку?»

Эта развилка проверяет, что кандидат успешно прошёл собеседование.

1. Выберите развилку *«Кандидат прошёл проверку?»с* и в меню элемента нажмите кнопку «**Свойства**» *‌*.
2. Перейдите на вкладку «**Дополнительные**».
3. Для потока *«Нет»*, ведущего к конечному событию *«Кандидат не прошёл собеседование»*, установите флажок «**Поток** «**иначе**».
4. Для потока *«Да»* в ячейке «**Условие**» введите формулу `$Результатсобеседования`.
5. Сохраните поток управления.

_![Настройка развилки «Кандидат прошёл проверку?»](/platform/v5.0/tutorial_hr/img/lesson_3_exclusive_gate_2_formula.png)_

## Проверка и публикация процесса

Вы настроили шаблон бизнес-процесса. Чтобы применить изменения и запустить процесс, его необходимо опубликовать.

Диаграмму бизнес-процесса рекомендуется публиковать каждый раз после внесения изменений.

Перед публикацией проверьте диаграмму, чтобы убедиться, что формулы верны и диаграмма соответствует нотации BPMN.

1. Нажмите кнопку «**Проверить**» в конструкторе диаграммы процесса.

   -Если обнаружены какие-либо ошибки, элементы с ошибками будут выделены красным цветом. Щёлкните восклицательный знак рядом с выделенным элементом, чтобы просмотреть сообщения об ошибках. -Если диаграмма не содержит ошибок, появится сообщение «**Ошибок нет**», после чего диаграмму можно публиковать.
2. Нажмите кнопку «**Опубликовать**».

_![Проверка и публикация диаграммы](/platform/v5.0/tutorial_hr/img/lesson_3_process_diagram_validate_publish.png)_

## Тестирование: запуск процесса и «Мои задачи»

Вы настроили и опубликовали бизнес-процесс, теперь протестируйте его в роли пользователя.

1. Перейдите к экземплярам процесса *«Найм персонала»* и нажмите «**Создать**».
2. Перейдите на страницу «**Мои задачи**» с помощью панели навигации слева.
3. Откройте задачу *«Зафиксировать результаты тестирования»*.
4. Установите флажок *«Результат тестирования».*
5. Нажмите кнопку «**Завершить задачу**».
6. Убедитесь, что на странице «**Мои задачи**» появились две новые задачи *«Провести собеседование»* и *«Провести проверку кандидата»*.
7. Завершите обе задачи, установив флажок *«Результат собеседования»*.
8. Убедитесь, что появилась задача *«Сформировать и согласовать предложение с кандидатом»*.
9. Завершите задачу *«Сформировать и согласовать предложение с кандидатом»*.

## Результаты

Вы создали полноценный бизнес-процесс по найму персонала, настроили для него дорожки, задачи, параллельное выполнение и сложную логику ветвления с помощью нескольких развилок. Вы научились создавать атрибуты «на лету» и настраивать формы для разных этапов процесса.

В [следующем уроке][tutorial_hr_lesson_4] вы узнаете, как усовершенствовать шаблон записи для работы с документами кандидатов.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
