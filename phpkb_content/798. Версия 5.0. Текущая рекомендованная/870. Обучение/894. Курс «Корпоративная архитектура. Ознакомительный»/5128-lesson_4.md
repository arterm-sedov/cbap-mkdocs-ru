---
title: Урок 4. Согласование, аудит, публикация, контроль изменений
kbId: 5128
---

# Урок 4. Согласование, аудит, публикация, контроль изменений

## Введение и бизнес-логика

В ходе этого урока вы научитесь настраивать и использовать исполняемые процессы и интегрировать их с архитектурными моделями с помощью **{{ productName }} Enterprise**:

- создавать исполняемые процессы и интегрировать их с архитектурными моделями;
- настраивать шаблоны архитектурных моделей, их атрибуты и формы;
- настраивать кнопки и сценарии для автоматизации операций;
- реализовывать процессы согласования архитектурных изменений.

Освоив этот урок, вы сможете обеспечить качественный контроль изменений корпоративной архитектуры через формализованные и автоматизированные процессы согласования, что снижает риски ошибок, обеспечивает вовлечённость всех заинтересованных сторон и контроль внедрения новых архитектурных моделей.

**Предусловия:** пройден [урок 3 «Моделирование процессной архитектуры»][tutorial_architect_lesson_3].

**Расчётная продолжительность:** 70 мин.

Бизнес-логика

Компания внедряет новые процессы и совершенствует корпоративную архитектуру согласно требованиям бизнеса и регуляторов.

Для обеспечения качества и прозрачности новых решений требуется не только моделировать процессы, но и управлять их изменениями: согласовывать процессы силами лиц, принимающих решения относительно корпоративной архитектуры.

Это позволит быстро адаптироваться к изменениям бизнеса и законодательства.

## Определения

- **Согласование** — процесс утверждения изменений с фиксацией решений и комментариев.
- **Модель** — формализованное представление архитектурного объекта (например, процесса, элемента BPMN, бизнес-способности и т. п.), включающее его структуру, атрибуты, взаимосвязи и поведение. Модели используются для описания, анализа и автоматизации архитектурных решений.
- **Шаблон модели** — структура для настройки и хранения архитектурных моделей, содержит атрибуты, формы и другие данные модели. Используется аналогично шаблону записи. Шаблон модели можно связать с исполняемым шаблоном процесса.
- **Исполняемый процесс** — процесс, моделируемый с помощью диаграммы процесса (BPMN 2.0), который может быть запущен и выполнен в автоматизированной системой. Такой процесс управляет последовательностью задач, действий, назначением исполнителей, выполнением сценариев, отправкой сообщений и позволяет автоматизировать бизнес-логику и контроль изменений.

## Темы, навыки и задания урока

### Темы

- Использование исполняемых процессов в сочетании с архитектурными моделями предприятия
- Настройка шаблонов, атрибутов и форм архитектурных моделей
- Настройка кнопок и сценариев для автоматизации операций
- Выполнение процессов согласования корпоративной архитектуры

### Навыки

- Настраивать и выполнять исполняемые процессы
- Интегрировать исполняемые процессы с архитектурными моделями
- Настраивать атрибуты и формы архитектурных моделей
- Настраивать исполняемые пользовательские задачи
- Настраивать исполнителей задач через атрибуты и оргструктуру
- Настраивать кнопки для запуска процессов
- Настраивать сценарии для автоматической обработки данных

### Задания

- Создать исполняемый процесс согласования архитектурной модели
- Настроить форму пользовательской задачи процесса
- Настроить атрибуты и форму шаблона архитектурной модели
- Настроить кнопку для запуска исполняемого процесса
- Настроить сценарий для изменения данных архитектурной модели
- Выполнить процесс согласования архитектурной модели

## Настройка согласования неисполняемых процессов

!!! "Бизнес-логика"

```
**{{ productName }} Enterprise** позволяет моделировать и интегрировать исполняемые и неисполняемые процессы для автоматизации управления корпоративной архитектурой.

Настроим исполняемый процесс согласования неисполняемых процессов — архитектурных моделей.

```

### Настройка исполняемого процесса «Согласование процесса»

Настроим исполняемый процесс, который позволит согласовывать изменения в процессной модели предприятия.

1. Перейдите к приложению *«Архитектура компании»*.
2. Откройте страницу «**Шаблоны**».
3. Откройте вкладку «**Шаблоны процессов**».
4. Создайте шаблон процесса со следующими свойствами:

   - **Название:** *Согласование процесса*
   - **Связь с шаблоном записи: связать с существующим шаблоном**
   - **Связанный шаблон: Процессы**

   ![Создание шаблона процесса «Согласование процесса»](/platform/v5.0/tutorial_architect/img/lesson_4_process_create.png)

   Создание шаблона процесса «Согласование процесса»
5. Перейдите на вкладку «**Диаграмма**».
6. Откроется диаграмма исполняемого процесса для редактирования.
7. Переименуйте **начальное событие** в *«Нажата кнопка «Согласовать»*.
8. После начального события добавьте пользовательскую задачу *«Согласовать процесс»*.
9. Откройте **свойства** задачи.
10. На вкладке «**Дополнительные**» в поле «**Исполнители**» укажите **атрибут** «**Владелец процесса**».

    ![Настройка свойств пользовательской задачи «Согласовать процессю](/platform/v5.0/tutorial_architect/img/lesson_4_USERTASK_SETTINGS.png)

    Настройка свойств пользовательской задачи «Согласовать процессю
11. Откройте форму задачи.
12. Поместите область на макет и переименуйте её в *«Решение по согласованию процесса»*.
13. В панели слева нажмите кнопку «**Добавить атрибут**» *‌* у атрибута «**Процессы**».

    ![Добавление нового атрибута](/platform/v5.0/tutorial_architect/img/lesson_4_attribute_add.png)

    Добавление нового атрибута
14. Создайте **логический** атрибут *«Согласован»*.
15. Раскройте атрибут «**Процессы**» в панели слева.

    ![Кнопка раскрытия атрибута](/platform/v5.0/tutorial_architect/img/lesson_4_attribute_full.png)

    Кнопка раскрытия атрибута
16. Поместите атрибут *«Согласован»* на область *«Решение по согласованию процесса»*.
17. В свойствах поля *«Согласован»* установите параметр «**Отображать как: переключатель**».
18. Поместите на макет **форму «Процессы»**.
19. Сохраните форму.

    ![Настройка формы задачи «Согласовать процесс»](/platform/v5.0/tutorial_architect/img/lesson_4_form_settings.png)

    Настройка формы задачи «Согласовать процесс»
20. Вернитесь к редактированию диаграммы процесса.
21. После пользовательской задачи *«Согласовать процесс»* добавьте **развилку «или/или»** и переименуйте её в *«Процесс согласован?»*.
22. Соедините развилку *«Процесс согласован?»* с простыми конечными событиями *«Процесс согласован»* и *«Процесс не согласован»*.
23. Откройте свойства развилки *«Процесс согласован?»*.
24. На вкладке «**Дополнительные**» установите следующие значения:

    | Поток «иначе» | Конечная точка | Условие |
    | --- | --- | --- |
    |  | *Процесс согласован* | **Формула:** `$Согласован` |
    | Флажок установлен | *Процесс не согласован* |  |

    ![Настройки развилки «Процесс согласован?»](/platform/v5.0/tutorial_architect/img/lesson_4_gateway_properties.png)

    Настройки развилки «Процесс согласован?»
25. Опубликуйте диаграмму.

_![Диаграмма процесса «Согласование процесса»](/platform/v5.0/tutorial_architect/img/lesson_4_changess_accept_process_diagram.png)_

### Настройка шаблона моделей «Процессы»

Бизнес-логика

В процессе согласования модели процесса необходимо указывать, хранить и отслеживать статус согласования.

Для этого дополним шаблон архитектурной модели логическим атрибутом.
Данный атрибут поместим на форму модели процесса в виде переключателя.

Определения

**Шаблон модели** «**Процессы**» содержит данные всех моделей процессов, настроенных в корпоративной архитектуре.

**Форма шаблона модели** отображается на панели свойств в редакторе диаграмм **{{ productName }} Enterprise**.

1. Откройте процесс *«Поиск кандидата»*.
2. Откройте «**Свойства**» *‌*.
3. Нажмите кнопку «**Изменить**» *‌*.
4. Перейдите к шаблону модели «**Процессы**».
5. Перейдите на вкладку «**Кнопки**».
6. Создайте кнопку со следующими свойствами:

   - **Отображаемое название:** *Согласовать*
   - **Контекст операции: модель**
   - **Операция: запустить процесс**
   - **Результат выполнения: обновить данные**
   - **Шаблон:** *Согласование процесса*
7. Сохраните кнопку.

   ![Настройки кнопки «Согласовать»](/platform/v5.0/tutorial_architect/img/lesson_4_accept_button.png)

   Настройки кнопки «Согласовать»
8. Перейдите на вкладку «**Формы**».
9. Откройте форму «**Процессы**».
10. Добавьте на область «**Атрибуты по умолчанию**» атрибут *«Согласован»*.
11. Добавьте в область кнопок области «**Атрибуты по умолчанию**» кнопку *«Согласовать»*.

    ![Настройки формы «Процессы»](/platform/v5.0/tutorial_architect/img/lesson_4_process_form_change.png)

    Настройки формы «Процессы»
12. Сохраните форму.

### Настройка сценария для отслеживания изменений диаграмм процессов

Бизнес-логика

При изменении диаграммы процесса в рамках корпоративной архитектуры её статус согласования должен сбрасываться. После чего потребуется согласовать диаграмму заново.

Для этого настроим сценарий, который будет срабатывать при внесении любых изменений в модели процессов.

1. Откройте приложение *«Архитектура компании»*.
2. Перейдите на страницу «**Сценарии**».
3. Создайте сценарий *«Редактирование процесса»*.
4. Задайте для **начального события** следующие свойства:

   - **Тип: изменение записи**
   - **Контекстный шаблон: Процессы**

   ![Свойства начального события сценария](/platform/v5.0/tutorial_architect/img/lesson_4_trigger_properties.png)

   Свойства начального события сценария
5. После начального события добавьте действие «**Изменить значение атрибутов**» со следующими свойствами:

   - **Атрибут:** *Согласован*
   - **Операция со значениями: заменить**
   - **Значение: формула**

     ```
     False

     ```

   ![Свойства действия «Изменить значение атрибутов»](/platform/v5.0/tutorial_architect/img/lesson_4_change_attributes_action_properties.png)

   Свойства действия «Изменить значение атрибутов»
6. Сохраните действие.

_![Сценарий «Редактирование процесса»](/platform/v5.0/tutorial_architect/img/lesson_4_change_process_scenario.png)_

## Тестирование процесса согласования архитектурной модели

Бизнес-логика

При внесении изменений в неисполняемую диаграмму процесса всегда запускается процесс согласования: это снижает риски ошибок и обеспечивает вовлечённость участников процесса.

1. Выберите пункт **«Архитектура»** — **«Процессы»** в панели навигации.
2. Откройте процесс *«Поиск кандидата»* для редактирования.
3. Внесите в диаграмму или свойства процесса любые изменения.
4. Нажмите кнопку «**Свойства**» *‌*.
5. Отобразится панель свойств процесса.
6. Нажмите кнопку *«Согласовать»*.
7. При необходимости войдите в аккаунт владельца процесса.
8. Откройте «**Мои задачи**».
9. Перейдите к задаче согласования процесса.
10. Установите значение «**Да**» для атрибута *«Согласован»*.
11. Завершите задачу.
12. Вернитесь к диаграмме процесса *«Поиск кандидата»*.
13. Откройте свойства диаграммы.
14. Флажок *«Согласован»* должен быть автоматически установлен.
15. Снова внесите изменения в диаграмму процесса. В результате флажок *«Согласован»* должен быть автоматически снят.

## Итоги урока

В ходе этого урока вы научились создавать исполняемые процессы, настраивать шаблоны моделей с атрибутами и формами, интегрировать исполняемые процессы с архитектурными моделями, настраивать кнопки и сценарии для автоматизации операций, а также выполнять процессы согласования архитектурных изменений.

В ходе [следующего урока][tutorial_architect_lesson_5] вы научитесь формировать собственные шаблоны экспорта регламентов корпоративной архитектуры, управлять версиями корпоративной архитектуры, а также экспортировать диаграммы в различных форматах для интеграции с внешними системами.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
