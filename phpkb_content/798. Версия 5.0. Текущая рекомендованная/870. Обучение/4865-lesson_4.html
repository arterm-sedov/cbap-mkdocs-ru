<h1>Урок 4. Мониторинг и аналитика</h1><div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4865">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#definitions">
<span class="md-ellipsis">
      Определения
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#мониторинг-исполнения-бизнес-процесса">
<span class="md-ellipsis">
      Мониторинг исполнения бизнес-процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#настройка-страницы-с-круговой-диаграммой-количества-заказов">
<span class="md-ellipsis">
      Настройка страницы с круговой диаграммой количества заказов
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#результаты">
<span class="md-ellipsis">
      Результаты
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="введение">Введение</h2>
<p>В ходе этого урока вы научитесь просматривать <strong>историю выполнения процесса</strong> и создавать <strong>информационные страницы</strong> (дашборды) с диаграммами для просмотра статистики за определённый период.</p>
<p><strong>Предусловия:</strong> пройден <em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4874">урок 3 «Мой первый бизнес-процесс»</a></em>.</p>
<p><strong>Расчётная продолжительность:</strong> 10 мин.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>В данном уроке представлен продукт <strong>Comindware Platform</strong> версии 5.0, внешний вид страниц и меню в других версиях продукта может отличаться.</p>
</div>
<div class="notice notice-success">
<h2 class="admonition-title" id="definitions">Определения</h2>
<p><strong>Comindware Platform</strong> позволяет анализировать состояние запущенных и завершённых экземпляров бизнес-процессов.</p>
<p>Доступна следующая информация об истории процесса:</p>
<ul>
<li>текущий этап процесса — позиции <strong>токенов</strong> на диаграмме;</li>
<li>путь выполнения процесса;</li>
<li>цепочка событий для каждого элемента диаграммы процесса;</li>
<li>информация о каждом шаге (исполнитель задачи, срок выполнения и т. д.);</li>
<li>ошибки, возникшие в ходе выполнения процесса.</li>
</ul>
<p><strong>Токен</strong> в нотации BPMN и в <strong>Comindware Platform</strong> — это текущая точка выполнения процесса (фишка, которая движется по диаграмме). Токен перемещается по диаграмме процесса. На процессе может быть несколько токенов, каждый из которых следует по собственному пути.</p>
</div>
<h2 id="мониторинг-исполнения-бизнес-процесса">Мониторинг исполнения бизнес-процесса</h2>
<p>Просмотрим историю экземпляра процесса <em>«Заказ автотранспорта»</em>.</p>
<ol class="colored_numbers_list">
<li>В списке шаблонов откройте шаблон процесса <em>«Заказ автотранспорта»</em>, дважды нажав его.</li>
<li>Откройте список экземпляров процесса, нажав кнопку «<strong>Перейти к экземплярам</strong>» на вкладке «<strong>Свойства</strong>» шаблона процесса.</li>
<li>
<p>В списке выберите один из запущенных экземпляров процесса, дважды нажав его.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход к экземпляру процесса из списка" src="/platform/v5.0/tutorial/img/lesson_4_process_instance_list.png"/><figcaption class="caption">Переход к экземпляру процесса из списка</figcaption></figure></p>
</li>
<li>
<p>Отобразится представление истории процесса, в котором активный элемент диаграммы будет выделен зелёным цветом.</p>
</li>
<li>Выберите задачу <em>«Отменить поездку»</em> на диаграмме процесса.</li>
<li>
<p>На панели справа отобразится информация о её выполнении.</p>
<div class="notice notice-success">
<p class="admonition-title">Просмотр истории процесса</p>
<p>Представление истории процесса показывает диаграмму экземпляра процесса и содержит элементы для управления выполнением процесса и его мониторинга.</p>
<ul>
<li>Предусмотрены следующие кнопки управления процессом:<ul>
<li><strong>Остановить процесс</strong> — удаление всех токенов с диаграммы экземпляра процесса. <strong>Статус</strong> процесса сменится на «<strong>Отменён</strong>». Эта кнопка отображается, если на диаграмме имеется хотя бы один токен и не выбран ни один элемент.</li>
<li><strong>Архивировать</strong> — архивирование экземпляра процесса. Архивные экземпляры не отображаются в списке экземпляров (если в конфигурации соответствующей таблицы не установлен флажок «<strong>Показывать архивные записи</strong>»).</li>
<li><strong>Создать токен</strong> — создание токена на выбранном элементе. Эта кнопка отображается, если выбран элемент диаграммы.</li>
</ul>
</li>
<li>На информационной панели справа (которую можно вызвать нажатием кнопки <i class="fa-light fa-sidebar-flip">‌<!--icon--></i>) отображаются следующие вкладки:<ul>
<li><strong>Свойства</strong> — сведения об экземпляре процесса.<ul>
<li><strong>Статус</strong><ul>
<li><strong>Активен</strong> — на элементах диаграммы процесса как минимум один токен.</li>
<li><strong>Неактивен</strong> — на элементах диаграммы процесса нет токенов.</li>
<li><strong>Завершён</strong> — процесс завершился ожидаемым образом, на элементах нет токенов.</li>
<li><strong>Отменён</strong> — процесс был остановлен с удалением всех токенов.</li>
</ul>
</li>
<li><strong>Дата создания</strong> — дата и время создания экземпляра процесса.</li>
<li><strong>Создатель</strong> — аккаунт создателя экземпляра. Перейдите по ссылке, чтобы открыть данные аккаунта.</li>
<li><strong>Шаблон процесса</strong> — название шаблона процесса. Перейдите по ссылке, чтобы открыть конструктор диаграммы процесса.</li>
<li><strong>Запись</strong> — идентификатор записи, связанной с экземпляром процесса. Перейдите по ссылке, чтобы открыть форму записи.</li>
<li><strong>Шаблон записи</strong> — название связанного шаблона записи. Перейдите по ссылке, чтобы открыть список записей.</li>
<li><strong>Версия</strong> — номер версии диаграммы процесса, по которой выполняется экземпляр процесса.</li>
</ul>
</li>
<li><strong>Токены</strong> — список элементов диаграммы процесса, на которых находятся токены. Для процессов со статусом «<strong>Завершён</strong>» эта вкладка содержит надпись «<strong>Нет данных для отображения</strong>». При выборе элемента отображается панель «<strong>Действия</strong>» со следующими кнопками:<ul>
<li><strong>Перейти</strong> ‌‌<i class="fa-light fa-external-link-square">‌<!--icon--></i> к форме пользовательской задачи или к диаграмме подпроцесса. Для этого также можно дважды нажать пользовательскую задачу или подпроцесс на диаграмме.</li>
<li><strong>Перезапустить токен</strong> <i class="fa-light fa-redo">‌<!--icon--></i> на выбранном элементе.</li>
<li><strong>Удалить токен</strong> <i class="fa-light fa-trash">‌<!--icon--></i> с выбранного элемента.</li>
</ul>
</li>
<li><strong>Журнал изменений</strong> — список событий, произошедших в ходе выполнения процесса.В журнале изменений отображается подробная информация обо всех токенах и шагах процесса:<ul>
<li>дата и время создания токена;</li>
<li>наименование события;</li>
<li>инициатор — аккаунт, создавший токен на элементе;</li>
<li>фактический исполнитель задачи;</li>
<li>исполнители, указанные в свойствах задачи;</li>
<li>дата и время выхода токена из элемента;</li>
<li>цепочка событий — нажмите значок рядом с элементом в журнале изменений, чтобы просмотреть цепочку событий для этого элемента.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Информация о токенах на задаче на диаграмме экземпляра процесса" src="/platform/v5.0/tutorial/img/lesson_4_process_instance_tokens.png"/><figcaption class="caption">Информация о токенах на задаче на диаграмме экземпляра процесса</figcaption></figure></p>
</li>
<li>
<p>Перейдите на вкладку «<strong>Журнал изменений</strong>» и разверните задачу <em>«Рассмотреть заявку»</em> для просмотра информации о ней.</p>
</li>
<li>Задача <em>«Рассмотреть заявку»</em> на диаграмме процесса будет выделена желтым цветом.</li>
<li>
<p>Аналогично выберите любой другой элемент диаграммы процесса для просмотра сведений о нём.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Журнал изменений задачи на диаграмме экземпляра процесса" src="/platform/v5.0/tutorial/img/lesson_4_process_instance_changelog.png"/><figcaption class="caption">Журнал изменений задачи на диаграмме экземпляра процесса</figcaption></figure></p>
</li>
</ol>
<h2 id="настройка-страницы-с-круговой-диаграммой-количества-заказов">Настройка страницы с круговой диаграммой количества заказов</h2>
<div class="notice notice-success">
<p class="admonition-title">Страницы</p>
<p><strong>Comindware Platform</strong> позволяет создавать информационные страницы (дашборды) для мониторинга и анализа статистических данных за определённый период. Информационная страница может содержать диаграммы, списки, показатели и другие виджеты для визуализации бизнес-данных.</p>
</div>
<div class="notice notice-warning">
<p class="admonition-title">Бизнес-логика</p>
<p>Перед настройкой и использованием информационной страницы с диаграммой создайте данные для визуализации: создайте и выполните несколько заявок по бизнес-процессу, заполнив <em>время подачи</em> автомобиля датами с разными месяцами.</p>
</div>
<p>Настроим информационную страницу с диаграммой, которая будет показывать количество заказов автомобилей по месяцам.</p>
<ol class="colored_numbers_list">
<li>На панели навигации слева выберите пункт «<strong>Настройки</strong>» — «<strong>Приложения</strong>».</li>
<li>Откройте страницу администрирования приложения <em>«Управление автопарком»</em>, дважды нажав его в списке.</li>
<li>Выберите пункт «<strong>Разделы навигации</strong>» <i class="fa-light fa-list-dropdown">‌<!--icon--></i>.</li>
<li>В списке разделов навигации нажмите кнопку «<strong>Создать</strong>».</li>
<li>Отобразится конструктор раздела навигации.</li>
<li>На панели свойств раздела навигации укажите <strong>отображаемое название</strong> раздела навигации <em>«Сводки»</em>.</li>
<li>Сохраните раздел навигации.</li>
<li>Обновите страницу в браузере после сохранения раздела навигации, чтобы последующие шаги выполнялись корректно.</li>
<li>
<p>В панели элементов слева нажмите кнопку «<strong>Создать страницу</strong>» <i class="fa-light fa-plus">‌<!--icon--></i> рядом с пунктом «<strong>Страницы</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переименование раздела навигации и создание информационной страницы" src="/platform/v5.0/tutorial/img/lesson_4_navigation_section_rename.png"/><figcaption class="caption">Переименование раздела навигации и создание информационной страницы</figcaption></figure></p>
</li>
<li>
<p>Откроется вкладка «<strong>Новая страница</strong>».</p>
</li>
<li>В панели свойств укажите название страницы <em>«Статистика заявок»</em>.</li>
<li>Сохраните страницу.</li>
<li>
<p>Обновите страницу в браузере, чтобы последующие шаги выполнялись корректно. Если браузер выдаст предупреждение о возможной утрате несохранённых изменений, подтвердите обновление страниц.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переименование и сохранение страницы" src="/platform/v5.0/tutorial/img/lesson_4_page_rename.png"/><figcaption class="caption">Переименование и сохранение страницы</figcaption></figure></p>
</li>
<li>
<p>Выберите вкладку «<strong>Навигация</strong>».</p>
</li>
<li>Разверните раздел «<strong>Страницы</strong>» в панели элементов.</li>
<li>
<p>Нажмите кнопку «<strong>Редактировать</strong>» <i class="fa-light fa-pencil">‌<!--icon--></i> рядом с пунктом <em>«Статистика заявок»</em> в панели элементов.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход к редактированию страницы" src="/platform/v5.0/tutorial/img/lesson_4_page_edit.png"/><figcaption class="caption">Переход к редактированию страницы</figcaption></figure></p>
</li>
<li>
<p>Откроется вкладка «<strong>Статистика заявок</strong>».</p>
</li>
<li>
<p>Нажмите кнопку со значком «<strong>Создать диаграмму</strong>» <i class="fa-light fa-plus">‌<!--icon--></i> рядом с пунктом «<strong>Диаграммы</strong>» в панели элементов.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Создание диаграммы" src="/platform/v5.0/tutorial/img/lesson_4_chart_create.png"/><figcaption class="caption">Создание диаграммы</figcaption></figure></p>
</li>
<li>
<p>Откроется конструктор диаграммы.</p>
</li>
<li>
<p>Настройте диаграмму с помощью панели «<strong>Свойства виджета</strong>»:</p>
<ul>
<li><strong>Название:</strong> <em>Заявки по месяцам;</em></li>
<li><strong>Отображаемое название:</strong> <em>Заявки по месяцам;</em></li>
<li><strong>Тип</strong>: <strong>круговая диаграмма</strong>;</li>
<li><strong>Шаблон:</strong> <em>Заявки на автомобили</em> — источник данных для диаграммы;</li>
<li><strong>Категории:</strong> <em>Время подачи</em> — атрибут, по значениям которого будут сгруппированы записи на диаграмме;</li>
<li><strong>Фильтр по дате</strong><ul>
<li><strong>Атрибут</strong>: <strong>время подачи</strong> —  атрибут типа «<strong>Дата и время</strong>», используемый для фильтрации записей на диаграмме.</li>
<li><strong>Периоды:</strong> <strong>ближайшие месяцы</strong> — интервал, с которым будут сгруппированы записи на диаграмме;</li>
<li><strong>Период по умолчанию:</strong> <strong>текущий месяц</strong> — период, записи за который будут отображаться на диаграмме по умолчанию.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Просмотрите и сохраните результирующую диаграмму.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка и сохранение круговой диаграммы" src="/platform/v5.0/tutorial/img/lesson_4_piechart_configure.png"/><figcaption class="caption">Настройка и сохранение круговой диаграммы</figcaption></figure></p>
</li>
<li>
<p>Нажмите в браузере кнопку «<strong>Назад</strong>», чтобы вернуться к странице «<strong>Статистика заявок</strong>».</p>
</li>
<li>Перетащите новую <strong>область</strong> на макет страницы и переименуйте ее в <em>«Отчёты»</em>.</li>
<li>Перетащите диаграмму <em>«Заявки по месяцам»</em> из панели элементов в область <em>«Отчёты»</em>.</li>
<li>
<p>Сохраните страницу <em>«Статистика заявок»</em>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Добавление диаграммы на страницу" src="/platform/v5.0/tutorial/img/lesson_4_page_chart_configure.png"/><figcaption class="caption">Добавление диаграммы на страницу</figcaption></figure></p>
</li>
<li>
<p>Выберите вкладку «<strong>Навигация</strong>».</p>
</li>
<li>Перетащите страницу <em>«Статистика заявок»</em> из панели элементов на макет раздела навигации.</li>
<li>
<p>Сохраните раздел навигации.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Добавление страницы в раздел навигации" src="/platform/v5.0/tutorial/img/lesson_4_navigation_section_page_add.png"/><figcaption class="caption">Добавление страницы в раздел навигации</figcaption></figure></p>
</li>
</ol>
<h2 id="результаты">Результаты</h2>
<p>Вы научились получать информацию об истории выполнения процессов и создавать информационные страницы для визуализации данных.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>Созданный <strong>раздел навигации</strong> <em>«Сводки»</em> мы впоследствии используем в <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4867">Уроке 8</a>.</p>
</div>
<p>В <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4869">следующем уроке</a> вы познакомитесь с новым типом атрибутов — <strong>Запись</strong>, а также создадите справочник и мастер-данные.</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">‌<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>