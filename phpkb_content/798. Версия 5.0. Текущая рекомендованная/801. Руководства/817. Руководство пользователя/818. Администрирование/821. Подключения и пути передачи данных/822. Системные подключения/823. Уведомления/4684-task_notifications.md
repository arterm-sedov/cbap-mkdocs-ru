---
title: 'Уведомления о задачах. Настройка текста и отправки эл. почтой'
kbId: 4684
url: 'https://kb.comindware.ru/article.php?id=4684'
---

# Уведомления о задачах. Настройка текста и отправки эл. почтой

## Введение

**{{ productName }}** выводит стандартные уведомления о пользовательских задачах, если не настроены **путь передачи данных** типа «**Уведомления о задачах**» и **данные сообщения пользовательской задачи**.

Если стандартное содержимое системного уведомления о задаче вас не устраивает, **{{ productName }}** позволяет настроить тему и текст уведомления для отправки пользователям дополнительной информации о задачах.

Чтобы использовать особые уведомления, необходимо настроить **путь передачи данных** с выводом в уведомление бизнес-данных.

Здесь представлены инструкции по настройке **пути передачи данных** для отправки нестандартных уведомлений о пользовательской задаче.

## Стандартное уведомление о задачах

Если не настроены подключение к эл. почте по умолчанию и путь передачи данных с особым уведомлением, стандартные уведомления о задачах отображаются в информационной панели и push-сообщениях.

Если настроено подключение к эл. почте по умолчанию, но не настроен путь передачи данных с особым уведомлением, письма с уведомлениями о задачах приходят от **имени отправителя** и с **адреса отправителя**, настроенных в подключении для отправки эл. почты.

По умолчанию система формирует уведомления о задачах со следующими сведениями:

- **название объекта** — значение атрибута-заголовка записи, по которой запущен процесс;
- **заголовок задачи** — задаётся в свойствах задачи на вкладке «**Дополнительные**»;
- **ссылка на задачу** — формируется автоматически;
- **продолжительность выполнения** — задаётся в свойствах задачи на вкладке «**Дополнительные**»;
- **название процесса** — задаётся в свойствах шаблона процесса.

Стандартная тема письма содержит заголовок задачи. По нажатию на название задачи или кнопку «**Перейти к задаче**» пользователь перенаправляется в систему на форму назначенной задачи.

_![Пример системного уведомления о новой задаче](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_example_default.png)_

## Способы вывода уведомлений о задачах

Можно настроить вывод уведомлений о задачах следующими способами:

- в информационной панели при нажатии значка «**Уведомления**» *‌* (сервер должен быть подключен к Apache Kafka);
- в push-сообщениях при использовании **[Comindware Mobile][mobile_app_use]** и веб-версии **{{ productName }}** (сервер должен быть подключен к интернету и Apache Kafka);
- на эл. почту исполнителям, если настроено подключение к эл. почте (должно быть настроено подключение для отправки эл. почты).

### Отправка уведомлений на эл. почту

Чтобы отправлять уведомления о задачах на эл. почту исполнителям, необходимо:

- настроить подключение типа «**Отправка эл. почты из процесса**» и установить в его свойствах флажок «**Использовать по умолчанию**» (см. *«[Отправка эл. почты из процесса. Настройка подключения, пути передачи данных и события на диаграмме процесса][process_sending_connection]»*);
- при необходимости настроить путь передачи данных с особым уведомлением.

Если не настроен путь передачи данных с особым уведомлением, исполнителям будет приходить письмо со стандартным уведомлением от от **имени отправителя** и с **адреса отправителя**, настроенных в подключении для отправки эл. почты.

_![Просмотр уведомлений о задачах](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_view.png)_

## Порядок настройки нестандартных уведомлений о задачах

Чтобы формировать нестандартные уведомления о пользовательской задаче, содержащие особый текст и данные из процесса, необходимо:

1. [Настройте **путь передачи данных**](#task_notifications_communication_route) типа «**Уведомления о задачах**».
2. В свойствах **[пользовательской задачи][process_diagram_elements_user_task]** настройте сопоставление атрибутов **пути передачи данных** с **данными сообщения**.
3. Опубликуйте диаграмму процесса.
4. Протестируйте работу уведомления.

## Настройка пути передачи данных

Для создания пути передачи данных для уведомления о задачах требуются следующие действия:

1. Откройте страницу «**Администрирование**» — «**Архитектура**» или страницу «**Администрирование**» приложения.
2. Выберите пункт «**Пути передачи данных**» *‌*.
3. Отобразится список путей передачи данных.
4. Создайте или откройте путь передачи данных типа «**Системные подключения**» — «**Уведомления о задачах**».
5. Настройте свойства пути передачи данных:

   - **[Основные свойства](#task_notifications_communication_route_general_properties)**
   - **[Атрибуты сообщения](#task_notifications_communication_route_message_attributes)**
   - **[Свойства сообщения](#task_notifications_communication_route_message_properties)**
6. Сохраните путь передачи данных.

### Основные свойства

Вкладка «**Основные свойства**» содержит основные параметры пути передачи данных:

- **Отключить** — установите этот флажок, чтобы временно деактивировать путь передачи данных.
- **Название** — введите наглядное наименование пути передачи данных.
- **Имя сообщения** — введите *уникальный* идентификатор сообщения, проходящего по данному пути передачи данных.
- **Приложение** — выберите бизнес-приложение, в котором будет использоваться путь передачи данных.

_![Настройка основных свойств пути передачи данных для уведомлений о задачах](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_primary_setting.png)_

### Атрибуты сообщения

Подстановка значений атрибутов сообщения в уведомление

Путь передачи данных для отправки уведомлений о задачах позволяет передавать данные из записей в эл. письмо с уведомлением.

1. На вкладке «**Атрибуты сообщения**» пути передачи данных задайте набор атрибутов, значения которых требуется получить из пользовательской задачи и подставить в сообщение.
2. На вкладке «**[Свойства сообщения](#task_notifications_communication_route_message_properties)**» подставьте значения атрибутов сообщения в любое поле, указав их системные имена в фигурных скобках `{}`.

   - Например, подставьте в тему письма номер заявления и имя заявителя:
     - **Тема:** *Заявление на отпуск № `{ApplicationNumber}` от: `{ApplicantName}`*
3. Задайте значения атрибутов сообщения с помощью вкладки «**Данные сообщения**» в свойствах [**пользовательской задачи**][process_diagram_elements_user_task], использующей этот путь передачи данных.

Чтобы создать атрибут сообщения и сопоставить его с полем уведомления, нажмите кнопку «**Создать**» и заполните свойства атрибута в таблице «**Атрибуты для передачи данных сообщения**»:

- **Название** — введите наглядное название атрибута.
- **Системное имя** — введите уникальное имя атрибута.
- **Тип данных** — выберите тип данных:
  - **Текст**
  - **Число**
  - **Длительность**
  - **Дата и время**
  - **Логический**
  - **Документ**
  - **Аккаунт**

_![Настройка атрибутов сообщения пути передачи данных для уведомлений о задачах](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_attributes_setting.png)_

### Свойства сообщения

На вкладке «**Свойства сообщения**» настройте шаблон системного уведомления с использованием атрибутов с вкладки «**Атрибуты сообщения**»:

- **Список атрибутов, которые можно использовать при написании эл. письма** — содержит настроенные **атрибуты сообщения**. Копируйте их (вместе с фигурными скобками) и вставляйте в поля электронного письма.
- **Тема** — введите произвольный текст темы уведомления и имена атрибутов в фигурных скобках для подстановки их значений.
- **Сообщение** — введите произвольный текст уведомления и имена атрибутов в фигурных скобках для подстановки их значений.

_![Настройка свойств сообщения пути передачи данных для уведомлений о задачах](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/task_notifications_message_setting.png)_

--8<-- "related_topics_heading.md"

- [Пользовательская задача][process_diagram_elements_user_task]
- [Пути передачи данных][communication_routes]
- [Отправка эл. почты из процесса. Настройка подключения, пути передачи данных и события на диаграмме процесса][process_sending_connection]
- [Гиперссылка на задачу. Вычисление с помощью N3 и формулы][example_task_hyperlink_n3_formula]
- [Мобильное приложение. Использование][mobile_app_use]

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
