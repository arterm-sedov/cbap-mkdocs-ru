---
title: Общие уведомления. Настройка
kbId: 4681
---

# Общие уведомления. Настройка

## Определения

**Общие уведомления** — это сообщения, которые отображаются в течение заданного времени для всех пользователей:

- при нажатии значка «**Уведомления**» *‌* в информационной панели;
- на странице входа в **{{ productName }}** (если в [свойствах сообщения](#communication_route_message_properties) не установлен флажок «**Внутреннее уведомление**»);
- в push-сообщениях.

Общие уведомления формируются с помощью событий отправки сообщений на диаграмме процесса и путей передачи данных.

_![Вызов панели «Уведомления»](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_board_call.png)_

_![Критически важное общее уведомление на странице входа](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_entry_page_urgent_message_generic.png)_

## Порядок настройки общих уведомлений

1. Настройте [**путь передачи данных**](#communication_routes_setting) типа «**Общие уведомления**».
2. Используйте настроенный путь передачи данных в качестве **места назначения** в **[промежуточном событии-отправке сообщения][process_diagram_elements_send_message_intermediate_event]** или **[конечном событии-отправке сообщения][process_diagram_elements_send_message_end_event]**.

См. также *[Пример: вывод общих уведомлений в информационной панели и на странице входа](#common_notification_example).*

## Настройка пути передачи данных

1. Откройте страницу «**Администрирование**» — «**Архитектура**» или страницу «**Администрирование**» приложения.
2. Выберите пункт «**Пути передачи данных**» *‌*.
3. Отобразится список путей передачи данных.
4. Дважды нажмите в списке или создайте путь передачи данных типа «**Системные подключения**» — «**Общие уведомления**».
5. Настройте свойства пути передачи данных:

   - **[Основные свойства](#communication_route_general_properties)**
   - **[Атрибуты сообщения](#communication_route_message_attributes)**
   - **[Свойства сообщения](#communication_route_message_properties)**
6. Сохраните путь передачи данных.

### Основные свойства

Вкладка «**Основные свойства**» содержит основные параметры пути передачи данных:

- **Отключить** — установите этот флажок, чтобы временно деактивировать путь передачи данных.
- **Название** — введите наглядное наименование пути передачи данных.
- **Имя сообщения** — введите *уникальный* идентификатор сообщения, проходящего по данному пути передачи данных.
- **Приложение** — выберите бизнес-приложение, в котором будет использоваться путь передачи данных.

_![Настройка основных свойств пути передачи данных для общего уведомления](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_properties_setting.png)_

### Атрибуты сообщения

На вкладке «**Атрибуты сообщения**» заполните таблицу соответствия атрибутов сообщения с атрибутами уведомления.

Настроенные на этой вкладке атрибуты будут использоваться для передачи данных из процесса в уведомление.

Эти атрибуты следует использовать на вкладке «**[Свойства сообщения](#communication_route_message_properties)**» пути передачи данных.

Значения этих атрибутов необходимо задать на вкладке «**Данные сообщения**» в свойствах **[промежуточного события-отправки сообщения][process_diagram_elements_send_message_intermediate_event]** и **[конечного события-отправки сообщения][process_diagram_elements_send_message_end_event]**.

Чтобы создать атрибут сообщения и сопоставить его с полем уведомления, нажмите кнопку «**Создать**» и заполните строку таблицы сопоставления:

- **Название** — введите наглядное название атрибута.
- **Системное имя** — введите уникальное имя атрибута, оно будет использоваться в уведомления на вкладке «**Свойства сообщения**».
- **Тип данных** — выберите тип данных в соответствии с данными, которые в него будут передаваться из процесса:
  - **Текст**
  - **Число**
  - **Длительность**
  - **Дата и время**
  - **Логический**
  - **Документ**
  - **Аккаунт**

Чтобы удалить атрибут, установите рядом с ним флажок, и нажмите кнопку «**Удалить**».

_![Настройка атрибутов сообщения в пути передачи данных для общих уведомлений](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_attributes_setting.png)_

### Свойства сообщения

На вкладке «**Свойства сообщения**» настройте шаблон уведомления с использованием атрибутов с вкладки «**Атрибуты сообщения**».

- **Список атрибутов, которые можно использовать при написании эл. письма** содержит настроенные [**атрибуты сообщения**](#communication_route_message_attributes).

  Подстановка значений атрибутов сообщения в уведомление

  - Чтобы поместить значение атрибута сообщения в эл. письмо, введите его системное имя в фигурных скобках `{ }` в соответствующее поле письма.
  - В текстовые поля письма (адреса и имена отправителей и получателей, тема, текст сообщения, место встречи) можно вводить произвольный текст и несколько **атрибутов сообщений**.
  - Например, в поле «**Заголовок**» можно ввести строку:

    ```
    Уведомление «{Title}» от {Date}

    ```

    Здесь: `{Title}` — атрибут сообщения, содержащий название уведомления, а `{Date}` — дата формирования уведомления.
- **Электронное письмо** — это шаблон, в полях которого следует ввести статические значения и системные имена **атрибутов сообщения**. В шаблоне уведомления предусмотрены перечисленные ниже поля.

  - **Заголовок** — введите тему письма или укажите **атрибут сообщения** типа «**Текст**», содержащий тему письма.
  - **Текст сообщения** — введите текст письма или укажите **атрибут сообщения** типа «**Текст**», содержащий текст письма.
  - **Длительность** — задайте длительность отображения уведомления.
  - **Важность** — выберите уровень важности уведомления:

    - Критический
    - Высокий
    - Обычный
    - Низкий
  - **Внутреннее уведомление** — установите этот флажок, чтобы уведомление отображалось только для авторизованных пользователей.

_![Настройка свойств сообщения для общего уведомления](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_setting.png)_

## Пример: вывод общих уведомлений в информационной панели и на странице входа

Рассмотрим пример настройки приложения для вывода общих уведомлений с текстом, содержащим значения атрибутов.

Уведомления будут отображаться в информационной панели и на странице входа.

### Настройка приложения

1. Настройте получение уведомлений в [конфигурационном файле экземпляра ПО][configuration_files_linux]. Может потребоваться помощь системного администратора.
2. Создайте шаблон процесса *«Отправка общих уведомлений»*.
3. Перейдите к [конструктору диаграммы процесса][process_diagram].
4. Откройте **стартовую форму** начального события с помощью меню элемента.
5. С помощью панели элементов создайте и поместите на стартовую форму два атрибута типа «**Текст**» (см. *«[Редактирование формы. Создание атрибута][forms]»*):

   - *Тема сообщения*
   - *Текст сообщения*

     ![Настройка стартовой формы процесса отправки общих уведомлений](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_start_form_setting.png)
6. Сохраните стартовую форму.
7. Вернитесь к диаграмме процесса, нажав в браузере кнопку «**Назад**».
8. Добавьте на диаграмму процесса **промежуточное событие-отправку сообщения**.

   ![Событие отправка-сообщения на диаграмме процесса](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_event_diagram.png)

   Событие отправка-сообщения на диаграмме процесса
9. Откройте свойства события-отправки сообщения.
10. На вкладке «**Дополнительные**» в группе «**Место назначения**» выберите «**Общее уведомление**».
11. В раскрывающемся списке «**Использовать путь передачи данных**» создайте путь передачи данных типа «**Общие уведомления**».

    ![Настройка события-отправки сообщения для общих уведомлений](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_event_setting.png)

    Настройка события-отправки сообщения для общих уведомлений
12. Настройте путь передачи данных, как указано ниже. Подробные инструкции см. в параграфе *«[Настройка пути передачи данных](#communication_routes_setting)»*.

    - **Основные свойства**

      - **Название:** *Уведомление для пользователей*
      - **Имя сообщения:** *UserNotification*
    - **Атрибуты сообщения**

      | Название | Системное имя | Тип данных |
      | --- | --- | --- |
      | *Текст сообщения* | *body* | **Текст** |
      | *Тема* | *subject* | **Текст** |
    - **Свойства сообщения**

      - **Заголовок:** `{subject}`
      - **Текст сообщения:** `{body}`
      - **Длительность: 5 минут**
      - **Важность: Критический**

    ![Настройка свойств сообщения пути передачи общих уведомлений](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_routes_setting.png)

    Настройка свойств сообщения пути передачи общих уведомлений
13. Задайте значения атрибутов на вкладке «**Данные сообщения**». См. параграфы *«[Настройка пути передачи данных](#communication_routes_setting)»*.

    ![Настройка данных сообщения для отправки общих уведомлений](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_data_setting.png)

    Настройка данных сообщения для отправки общих уведомлений
14. Опубликуйте диаграмму процесса.

### Тестирование уведомлений

1. Откройте шаблон процесса *«Отправка общих уведомлений»*.
2. Нажмите кнопку «**Перейти к экземплярам**».
3. В списке экземпляров процесса нажмите кнопку «**Создать**».
4. Отобразится стартовая форма процесса.
5. Заполните поля *«Тема сообщения»* и *«Текст сообщения»*.
6. Нажмите кнопку «Создать».

   ![Заполнение стартовой формы для отправки общего уведомления](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_start_form.png)

   Заполнение стартовой формы для отправки общего уведомления
7. Нажмите значок «**Уведомления**» *‌* в информационной панели, чтобы просмотреть уведомление.

   ![Просмотр уведомления в информационной панели](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_message_view.png)

   Просмотр уведомления в информационной панели
8. Выйдите из системы, чтобы просмотреть уведомление на странице входа.

   ![Критически важное уведомление на странице входа](/platform/v5.0/administration/connections_communication_routes/system_connections/notifications/img/common_notifications_entry_page_urgent_message.png)

   Критически важное уведомление на странице входа

--8<-- "related_topics_heading.md"

- [Простое начальное событие][process_diagram_elements_none_start_event]
- [Конечное событие-отправка сообщения][process_diagram_elements_send_message_end_event]
- [Промежуточное событие-отправка сообщения][process_diagram_elements_send_message_intermediate_event]
- [Редактирование формы. Создание атрибута][forms]

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
