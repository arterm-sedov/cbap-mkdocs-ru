---
title: Атрибут типа «Цвет»
kbId: 4763
---

# Атрибут типа «Цвет»

## Введение

Атрибут «**Цвет**» является системным, он задаёт цвет отображения записи в таблицах, шевронах и диаграммах.

- Если для записи задано значение атрибута «**Цвет**», строки этой записи в таблицах, шевроны и сектора диаграмм для неё будут отображаться с заливкой заданным цветом.
- Чтобы строки в *таблице шаблона* окрашивались в соответствии со значением атрибута «**Цвет**», его необходимо поместить в качестве столбца в таблицу. При этом столбец можно скрыть.

Значение атрибута «**Цвет**» можно изменять следующими способами:

- вручную на форме **в шестнадцатеричном формате**;
- с помощью правил для формы, сценариев и C#-скриптов **в десятичном формате**.

Для поиска кодов цветов и их преобразования из шестнадцатеричной в десятичную форму можно воспользоваться, например, сайтом [convertingcolors.com](https://convertingcolors.com/)

Свойства системного атрибута типа «**Цвет**» не подлежат изменению.

## Примеры использования

- Ниже представлены примеры окрашивания строк таблиц шаблонов:
  - [по условию](#table_conditional_color_example)
  - [по справочнику](#table_reference_color_example)
  - [по списку значений](#table_enum_color_example)
- См. также:
  - [Пример окрашивания секторов диаграммы][form_dynamic_elements]
  - [Правила окрашивания шевронов][form_dynamic_elements]
  - [Пример настройки окрашивания шевронов][chevron_color_rules]
  - [Пример окрашивания секторов диаграммы][form_dynamic_elements]

### Условное окрашивание строк таблицы

**Конфигурация приложения**

- Шаблон записи *«Этапы заявки»*
  - Атрибут *«Процент выполнения»*
    - **Тип данных: число**
    - **Количество знаков после запятой**: **не преобразовывать**
  - Поля на форме:
    - *Процент выполнения*
      - **Доступ: разрешить ввод**
    - *Цвет*
      - **Доступ: только чтение**
  - Столбцы в таблице *«Все записи»*:
    - *ID*
    - *Дата создания*
    - *Процент выполнения*
    - *Цвет*
- Сценарий
  - **Событие**
    - **Тип: создание записи**
    - **Целевой шаблон:** *Этапы заявки*
  - **Действие: изменить значения атрибутов**
    - **Атрибут:** *Цвет*
    - **Операция со значениями: заменить**
    - **Значение: формула**

      ```
      # "16711680" — десятичный код красного цвета,
      # "16776960" — жёлтого, "65280" — зелёного.
      IF($Protsentvypolneniya < 30, "16711680",
          IF($Protsentvypolneniya < 50, "16776960",
              "65280"))

      ```

**Тестирование**

1. Создайте запись в шаблоне *«Этапы заявки»*.
2. Введите *процент выполнения: 15*.
3. Сохраните запись.
4. Поле *«Цвет»* должно отобразиться красным цветом.
5. Создайте ещё несколько записей с разными значениями *процента выполнения*.
6. Откройте таблицу *«Все записи»* шаблона *«Этапы заявки»*.
7. Строки таблицы должны отображаться цветами, соответствующими *проценту выполнения*.

_![Окрашивание строк таблицы с помощью формулы](/platform/v5.0/business_apps/templates/attributes/img/attribute_color_table_example.png)_

### Окрашивание строк таблицы по справочнику статусов

**Конфигурация приложения**

- Шаблон записи *«Статусы заявок»*
  - Атрибут *«Статус»*
    - **Тип данных: текст**
    - **Формат отображения: обычный текст**
    - **Использовать как заголовок записей:** флажок установлен
  - Поля на форме:
    - *Цвет*
    - *Статус*
- Шаблон записи *«Этапы заявки»*

  - Атрибут *«Статус заявки»*
    - **Тип данных: запись**
    - **Связанный шаблон:** *Статусы заявок*
    - **Хранить несколько значений:** флажок снят
  - Поля на форме:
    - *Статус заявки*
      - **Представление: раскрывающийся список**
    - *Цвет*
      - **Доступ: только чтение**
  - Столбцы в таблице *«Все записи»*:
    - *ID*
    - *Дата создания*
    - *Статус заявки*
    - *Цвет*
- Сценарий

  - **Событие**
    - **Тип: изменение записи**
    - **Целевой шаблон:** *Этапы заявки*
  - **Действие: изменить значения атрибутов**
    - **Атрибут:** *Цвет*
    - **Операция со значениями: заменить**
    - **Значение: атрибут** *Статус заявки → Цвет*

**Тестирование**

1. Создайте записи в шаблоне «Статусы заявок»:

   | **Статус** | **Цвет** |
   | --- | --- |
   | *Выполнена* | `#00ff00` (зелёный) |
   | *Выполняется* | `#ffff00` (жёлтый) |
   | *Просрочена* | `#ff0000` (красный) |
2. Создайте запись в шаблоне *«Этапы заявки»*.
3. Выберите *статус заявки* *«Просрочена»*.
4. Сохраните запись.
5. Поле *«Цвет»* должно отобразиться красным цветом.
6. Создайте ещё несколько записей с разными *статусами заявок*.
7. Откройте таблицу *«Все записи»* шаблона *«Этапы заявки»*.
8. Строки таблицы должны отображаться цветами, соответствующими *статусам заявок*.

_![Окрашивание строк таблицы по справочнику](/platform/v5.0/business_apps/templates/attributes/img/attribute_color_table_example2.png)_

### Окрашивание строк таблицы по списку значений

**Конфигурация приложения**

- Шаблон записи *«Заявки»*

  - Атрибут *«Статус»*

    - **Тип данных: список значений**
    - **Формат отображения: бейдж**
    - **Список значений:**

    | \*\*Системное имя | RU\*\* | **Цвет** |
    | --- | --- | --- |
    | `Выполнена` | *Выполнена* | `#00ff00` (зелёный) |
    | `Выполняется` | *Выполняется* | `#ffff00` (жёлтый) |
    | `Просрочена` | *Просрочена* | `#ff0000` (красный) |
  - Поля на форме:

    - *Статус*
    - *Цвет*
      - **Доступ: только чтение**
  - Правило для формы с действием:

    - **Элемент формы:** *Цвет*
    - **Действие: установить значение**
    - **Новое значение: формула**

    ```
    FORMAT("{0}", LIST($Статус->cmw.color))

    ```
  - Столбцы в таблице *«Все записи»*:

    - *ID*
    - *Дата создания*
    - *Статус*
    - *Цвет*

**Тестирование**

1. Создайте заявку.
2. Выберите *статус* *«Просрочена»*.
3. Сохраните заявку.
4. Поле *«Цвет»* должно отобразиться красным цветом.
5. Создайте ещё несколько заявок с разными *статусами*.
6. Откройте таблицу *«Все записи»* шаблона *«Заявки»*.
7. Строки таблицы должны отображаться цветами, соответствующими *статусам заявок*.

_![Окрашивание строк таблицы по списку значений](/platform/v5.0/business_apps/templates/attributes/img/attribute_color_table_example3.png)_

--8<-- "related_topics_heading.md"

- [Пример окрашивания секторов диаграммы][form_dynamic_elements]
- [Правила окрашивания шевронов][form_dynamic_elements]
- [Пример настройки окрашивания шевронов][chevron_color_rules]
- [Пример окрашивания секторов диаграммы][form_dynamic_elements]
- [Таблица. Настройка в шаблоне][table_configure]
- [Таблица. Настройка на форме][form_dynamic_elements]
- [Системные атрибуты][attributes_system]
- [Атрибуты. Определения, типы, настройка, архивирование, удаление][attributes]

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
