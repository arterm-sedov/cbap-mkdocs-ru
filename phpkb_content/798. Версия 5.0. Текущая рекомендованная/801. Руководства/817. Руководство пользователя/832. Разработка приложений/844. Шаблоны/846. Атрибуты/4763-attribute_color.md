---
title: Атрибут типа «Цвет»
kbId: 4763
---

# Атрибут типа «Цвет»

## Введение

Атрибут «**Цвет**» является системным, он задаёт цвет отображения записи в таблицах, шевронах и диаграммах:

- если для записи задано значение атрибута «**Цвет**», строки этой записи в [таблицах шаблона][table_configure_template], [таблицах на форме][form_dynamic_elements_table], [шевроны][form_dynamic_elements_chevron] и [сектора диаграмм][form_dynamic_elements_color_diagram_example] для неё будут отображаться с заливкой заданным цветом.

Значение атрибута «**Цвет**» можно изменять вручную на форме (**в шестнадцатеричном формате**) или с помощью **[сценариев][scenarios]** и **[C#-скриптов][csharp_guide]** (**в десятичном формате**).

Для поиска кодов цветов и их преобразования из шестнадцатеричной в десятичную форму можно воспользоваться, например, сайтом [convertingcolors.com](https://convertingcolors.com/)

Свойства системного атрибута типа «**Цвет**» не подлежат изменению.

Сведения о настройке поля атрибута «**Цвет**» на формах и в таблицах см. в параграфе «*[Динамические элементы формы. Цвет][form_dynamic_elements_color]*».

## Примеры использования

### Условное окрашивание строк таблицы

**Конфигурация приложения**

- Шаблон записи *«Этапы заявки»*
    - Атрибут *«Процент выполнения»*
        - **Тип данных: число**
        - **Количество знаков после запятой**: **не преобразовывать**
    - Поля на форме:
        - *Процент выполнения*
            - **Доступ: разрешить ввод**
        - *Цвет*
            - **Доступ: только чтение**
    - Столбцы в таблице *«Все записи»*:
        - *ID*
        - *Дата создания*
        - *Процент выполнения*
        - *Цвет*
- Сценарий
    - **Событие**
        - **Тип: создание записи**
        - **Целевой шаблон:** *Этапы заявки*
    - **Действие: изменить значения атрибутов**
        - **Атрибут:** *Цвет*
        - **Операция со значениями: заменить**
        - **Значение: формула**
        
        
        ```
        # 16711680 — десятичный код красного цвета,
        # 16776960 — жёлтого, 65280 — зелёного.
        IF($Protsentvypolneniya < 30, 16711680,
            IF($Protsentvypolneniya < 50, 16776960,
                65280))
        ```

**Результирующее поведение**

1. Создайте запись в шаблоне *«Этапы заявки»*.
2. Введите *процент выполнения: 15*.
3. Сохраните запись.
4. Поле *«Цвет»* должно отобразиться красным цветом.
5. Создайте ещё несколько записей с разными значениями *процента выполнения*.
6. Откройте таблицу *«Все записи»* шаблона шаблоне *«Этапы заявки»*.
7. Строки таблицы должны отобразиться цветами, соответствующими *проценту выполнения*.

_![Окрашивание строк таблицы с помощью формулы](https://kb.comindware.ru/assets/attribute_color_table_example.png)_

### Окрашивание строк таблицы по справочнику статусов

**Конфигурация приложения**

- Шаблон записи *«Статусы заявок»*
    - Атрибут *«Статус»*
        - **Тип данных: текст**
        - **Формат отображения: обычный текст**
        - **Использовать как заголовок записей:** флажок установлен
    - Поля на форме:
        - *Цвет*
        - *Статус*
- Шаблон записи *«Этапы заявки»*
    - Атрибут *«Статус заявки»*
        - **Тип данных: запись**
        - **Связанный шаблон:** *Статусы заявок*
        - **Хранить несколько значений:** флажок снят
    - Поля на форме:
        - *Статус заявки*
            - **Представление: раскрывающийся список**
        - *Цвет*
            - **Доступ: только чтение**
    - Столбцы в таблице *«Все записи»*:
        - *ID*
        - *Дата создания*
        - *Статус заявки*
        - *Цвет*
- Сценарий
    - **Событие**
        - **Тип: изменение записи**
        - **Целевой шаблон:** *Этапы заявки*
    - **Действие: изменить значения атрибутов**
        - **Атрибут:** *Цвет*
        - **Операция со значениями: заменить**
        - **Значение: атрибут** *Статус заявки → Цвет*

**Результирующее поведение**

1. Создайте записи в шаблоне «Статусы заявок»:

| **Статус** | **Цвет** |
| --- | --- |
| *Выполнена* | `#00ff00` (зелёный) |
| *Выполняется* | `#ffff00` (жёлтый) |
| *Просрочена* | `#ff0000` (красный) |
2. Создайте запись в шаблоне *«Этапы заявки»*.
3. Выберите *статус заявки* *«Просрочена»*.
4. Сохраните запись.
5. Поле *«Цвет»* должно отобразиться красным цветом.
6. Создайте ещё несколько записей с разными *статусами заявок*.
7. Откройте таблицу *«Все записи»* шаблона шаблоне *«Этапы заявки»*.
8. Строки таблицы должны отобразиться цветами, соответствующими *статусам заявок*.

_![Окрашивание строк таблицы по справочнику](https://kb.comindware.ru/assets/attribute_color_table_example2.png)_

--8<-- "related_topics_heading.md"

**[Таблица. Настройка в шаблоне][table_configure_template]**

**[Таблица. Настройка на форме][form_dynamic_elements_table]**

**[Шевроны. Настройка представления][form_dynamic_elements_chevron]**

**[Сектора диаграмм. Окрашивание по атрибуту «Цвет»][form_dynamic_elements_color_diagram_example]**

**[Системные атрибуты][attributes_system]**

**[Атрибуты. Определения, типы, настройка, архивирование, удаление][attributes]**

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
