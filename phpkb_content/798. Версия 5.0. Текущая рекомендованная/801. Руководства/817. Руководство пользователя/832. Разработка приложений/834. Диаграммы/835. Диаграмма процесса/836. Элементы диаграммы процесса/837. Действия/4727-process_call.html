<h1>Вызов процесса</h1><div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4727">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#операции-в-меню-элемента-вызов-процесса">
<span class="md-ellipsis">
      Операции в меню элемента «Вызов процесса»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#свойства-вызова-процесса">
<span class="md-ellipsis">
      Свойства вызова процесса
    </span>
</a>
<nav aria-label="Свойства вызова процесса" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#основные">
<span class="md-ellipsis">
      Основные
    </span>
</a>
<nav aria-label="Основные" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#базовые-настройки">
<span class="md-ellipsis">
      Базовые настройки
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#экспертные-настройки">
<span class="md-ellipsis">
      Экспертные настройки
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#данные-на-входе">
<span class="md-ellipsis">
      Данные на входе
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#данные-на-выходе">
<span class="md-ellipsis">
      Данные на выходе
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<p><strong>Вызов процесса</strong> запускает внешний процесс из текущего процесса. Это позволяет, например, выполнять одинаковую последовательность действий в нескольких процессах.</p>
<p>По завершении выполнения вызванного процесса токен переходит на следующий элемент диаграммы текущего процесса.</p>
<figure class="screenshot_with_caption">
<p><img alt="Вызов процесса и его меню элемента" src="/platform/v5.0/business_apps/diagrams/process_diagram/process_diagram_elements/actions/img/process_call.png"/><figcaption class="caption">Вызов процесса и его меню элемента</figcaption></p>
</figure>
<h2 id="операции-в-меню-элемента-вызов-процесса">Операции в меню элемента «Вызов процесса»</h2>
<ul>
<li>
<p><strong>Действия</strong></p>
<ul>
<li><strong>Свойства</strong> <i class="fa-light fa-gear">‌<!--icon--></i> — переход к окну <a class="mkdocs_imported_link" href="#свойства-вызова-процесса">свойств вызова процесса</a>.</li>
<li><strong>Сценарий на входе</strong> <i class="fa-light fa-arrow-right-to-bracket">‌<!--icon--></i> — переход к конструктору сценария на входе в данный элемент.</li>
<li><strong>Сценарий на выходе</strong> <i class="fa-light fa-arrow-right-from-bracket">‌<!--icon--></i> — переход к конструктору сценария на выходе из данного элемента.</li>
<li><strong>Удалить</strong> <i class="fa-light fa-trash-can">‌<!--icon--></i> — удаление данного элемента из диаграммы процесса.</li>
<li><strong>Диаграмма</strong> <i class="fa-light fa-shuffle">‌<!--icon--></i> — переход к диаграмме подпроцесса. Также можно нажать кнопку <img alt="Кнопка перехода к диаграмме подпроцесса" src="/platform/v5.0/business_apps/diagrams/process_diagram/process_diagram_elements/actions/img/process_call_go_to_diagram.png"/> на самом элементе.</li>
<li><strong>Быстрое создание</strong> — добавление связанного элемента на диаграмму процесса.</li>
</ul>
</li>
</ul>
<h2 class="pageBreakBefore" id="свойства-вызова-процесса">Свойства вызова процесса</h2>
<p>В  окне свойств <strong>вызова процесса</strong> предусмотрены перечисленные ниже вкладки.</p>
<h3 id="основные">Основные</h3>
<p>Помимо <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4725">общих свойств элемента диаграммы процесса</a> на этой вкладке можно настроить перечисленные ниже свойства вызова процесса.</p>
<h4 id="базовые-настройки">Базовые настройки</h4>
<ul>
<li><strong>Экспертные настройки</strong> — снимите этот флажок, чтобы вызвать процесс с базовыми настройками. Чтобы вызвать процесс с особыми настройками, установите флажок и <a class="mkdocs_imported_link" href="#экспертные-настройки">настройте экспертные параметры</a>.</li>
<li><strong>Шаблон процесса</strong> — выберите шаблон вызываемого процесса. Его экземпляры будут выполняться по заданным <strong>записям для запуска процесса</strong>. Если атрибут с записями не выбран, процесс будет запущен 1 раз и будет создана новая связанная с ним запись. Когда выбран атрибут с записями, для выбора доступны только шаблоны процессов, связанные с соответствующим шаблоном записи.</li>
<li><strong>Записи для запуска процесса</strong> — выберите атрибут, который ссылается на записи в шаблоне, связанном с выбранным <strong>шаблоном процесса</strong>. По этим записям будут запускаться экземпляры вызываемого процесса. Если атрибут с записями не выбран, процесс будет запущен 1 раз и будет создана новая связанная с ним запись. Когда выбран <strong>шаблон процесса</strong>, для выбора доступны только атрибуты связанного с ним шаблона записи.</li>
<li>
<p><strong>Версия диаграммы процесса</strong> — выберите версию диаграммы, по которой будет запускаться процесс.</p>
<ul>
<li><strong>Всегда последнюю</strong> — будет использоваться последняя опубликованная версия диаграммы.</li>
<li><strong>1.0…</strong> — будет использоваться диаграмма указанной версии.</li>
</ul>
</li>
<li>
<p><strong>Выполнение экземпляров процесса</strong> — выберите режим выполнения экземпляров процесса.</p>
<ul>
<li><strong>Однократное</strong> — будет запущен только один экземпляр вызываемого процесса. Этот режим выбирается автоматически, если не заполнено поле «<strong>Записи для запуска процесса</strong>». В этом режиме элемент «<strong>Вызов процесса</strong>» отображается на диаграмме без линий.</li>
<li><strong>Последовательное</strong> — экземпляры вызываемого процесса будут выполняться последовательно по <strong>записям для запуска процесса</strong>. В этом режиме элемент «<strong>Вызов процесса</strong>» отображается на диаграмме с тремя горизонтальными линиями.</li>
<li><strong>Параллельное</strong> — экземпляры вызываемого процесса будут выполняться параллельно по <strong>записям для запуска процесса</strong>. В этом режиме элемент «<strong>Вызов процесса</strong>» отображается на диаграмме с тремя вертикальными линиями.</li>
</ul>
</li>
<li><strong>Условие запуска процесса</strong> — введите формулу, возвращающую <code>true</code> при условиях, когда требуется запускать процесс.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Основные свойства вызова процесса — обычные настройки" src="/platform/v5.0/business_apps/diagrams/process_diagram/process_diagram_elements/actions/img/process_call_general_properties.png"/><figcaption class="caption">Основные свойства вызова процесса — обычные настройки</figcaption></p>
</figure>
<div class="notice notice-example">
<p class="admonition-title">Пример — вызов процесса с базовыми настройками</p>
<p><strong>Исходные данные</strong></p>
<ul>
<li>Шаблон основного процесса «<em>Управление транспортом</em>» связан с шаблоном записи «<em>Рейсы</em>».</li>
<li>Шаблон «<em>Рейсы</em>» содержит атрибут «<em>Затраты</em>», связанный с шаблоном записи «<em>Расходы водителей</em>».</li>
<li>Шаблон вызываемого процесса «<em>Учёт расходов водителей</em>» связан с шаблоном записи «<em>Расходы водителей</em>».</li>
<li>На диаграмму процесса «<em>Управление транспортом</em>» вынесен элемент «<strong>Вызов процесса</strong>».</li>
<li>В <strong>вызове процесса</strong> выбран шаблон процесса «<em>Учёт расходов водителей</em>».</li>
<li>В поле «<strong>Записи для запуска процессов</strong>» выбран атрибут «<em>Затраты</em>» из шаблона «<em>Рейсы</em>», основного процесса.</li>
</ul>
<p><strong>Результирующее поведение</strong></p>
<ul>
<li>В записи «<em>Рейс 001</em>» в атрибуте «<em>Затраты</em>» хранятся ссылки на 5 записей с затратами водителей во время рейса.</li>
<li>Процесс «<em>Управление транспортом</em>» связан с записью «<em>Рейс 001</em>» и вызывает процесс  «<em>Учёт расходов водителей</em>».</li>
<li>Процесс «<em>Учёт расходов водителей</em>» будет выполнен 5 раз по каждой записи шаблона «<em>Расходы водителей</em>» из атрибута «<em>Затраты</em>».</li>
</ul>
</div>
<h4 class="pageBreakBefore" id="экспертные-настройки">Экспертные настройки</h4>
<ul>
<li><strong>Экспертные настройки</strong> — установите этот флажок.</li>
<li><strong>Выражение для выборки объектов</strong> — введите формулу, возвращающую список объектов, по которым будет выполняться итерация запуска экземпляров вызываемого процесса.</li>
<li><strong>Шаблон для выборки объектов</strong> — выберите шаблон записи, в контексте которого требуется вычислять <strong>выражение для выборки объектов</strong>. Связанные с ним шаблоны процессов будут отображаться в списке «<strong>Шаблон процесса</strong>».</li>
<li><strong>Режим выполнения</strong><ul>
<li><strong>Параллельный</strong> — экземпляры вызываемого процесса будут выполняться одновременно и параллельно.</li>
<li><strong>Последовательный</strong> — новые экземпляры вызываемого процесса будут запускаться после завершения предыдущего экземпляра.</li>
</ul>
</li>
<li><strong>Выполнение экземпляров процесса</strong> — это поле заполняется автоматически:<ul>
<li><strong>Однократное</strong> — будет запущен один экземпляр процесса;</li>
<li><strong>Последовательный</strong> — экземпляры процесса будут выполняться последовательно;</li>
<li><strong>Параллельный</strong> — экземпляры процесса будут выполняться параллельно.</li>
</ul>
</li>
<li><strong>Связь шаблона записи с процессом</strong> — выберите тип вызываемого процесса.<ul>
<li><strong>Непосредственная</strong> — можно выбрать <strong>шаблон процесса</strong>, непосредственно связанный с <strong>шаблоном для выборки объектов</strong>;</li>
<li><strong>Через атрибут</strong> — можно выбрать <strong>шаблон процесса</strong>, связанный с <strong>шаблоном для выборки объектов</strong> посредством атрибута типа «<strong>Запись</strong>».</li>
</ul>
</li>
<li><strong>Шаблон процесса</strong> — выберите шаблон, экземпляры которого будут выполняться по записям, на которые указывает <strong>атрибут связи</strong>. Набор шаблонов в этом раскрывающемся списке зависит от <strong>шаблона для выборки объектов</strong> и <strong>связи с процессом</strong>.</li>
<li>
<p><strong>Версия диаграммы процесса</strong> — выберите версию диаграммы, по которой будет запускаться процесс:</p>
<ul>
<li><strong>Всегда последнюю</strong> — будет использоваться последняя опубликованная версия диаграммы;</li>
<li><strong>1.0…</strong> — будет использоваться диаграмма указанной версии.
</li>
</ul>
<p>
- <strong>Записи, связанные с процессом</strong> — укажите способ обработки записей в шаблоне, связанном с процессом, на которые указывает <strong>атрибут связи</strong>.
- <strong>Создавать новые</strong> — для каждого экземпляра вызываемого процесса будет создаваться новая запись;
- <strong>Использовать существующие</strong> — экземпляры вызываемого процесса будут выполняться по имеющимся записям. Если <strong>атрибут связи</strong> не указан, будет создана новая запись.
- <strong>Атрибут связи</strong> — выберите атрибут типа «<strong>Запись</strong>» шаблона записи, связанного с текущим процессом (для выбора в этом списке доступны атрибуты, связанные с <strong>шаблоном процесса</strong>).
- <strong>Действие с записями</strong> — выберите действие с записями, на которые указывает <strong>атрибут связи</strong>, выполняемое при запуске вызываемого процесса.
- <strong>Не задано</strong> — не выполнять действие.
- <strong>Добавить</strong> — добавление записи.
- <strong>Удалить</strong> — удаление записи.</p>
</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Основные свойства вызова процесса — экспертные настройки" src="/platform/v5.0/business_apps/diagrams/process_diagram/process_diagram_elements/actions/img/process_call_general_properties_expert_settings.png"/><figcaption class="caption">Основные свойства вызова процесса — экспертные настройки</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="данные-на-входе">Данные на входе</h3>
<p>На этой вкладке можно настроить передачу данных из текущего процесса в вызываемый. Задайте значения атрибутов в записях, по которым будет запускаться вызываемый процесс. Значения будут присвоены перед запуском каждого экземпляра вызываемого процесса.</p>
<p>Чтобы добавить строку в таблицу сопоставления данных, нажмите кнопку «<strong>Добавить</strong>».</p>
<ul>
<li><strong>Атрибут шаблона записи вызываемого процесса</strong> — укажите в этом столбце атрибут шаблона записи, связанного с процессом.</li>
<li>
<p><strong>Значение</strong> — задайте в этом столбце значения <strong>атрибутов шаблона процесса</strong>.</p>
<ul>
<li><strong>Формула</strong> — введите формулу, возвращающую необходимое значение.</li>
<li><strong>Атрибут</strong> — укажите атрибут текущего шаблона (или связанного с ним шаблона), в котором хранится необходимое значение.</li>
<li><strong>Значение</strong> — задайте значение в формате, соответствующем типу данных <strong>атрибута шаблона процесса</strong>.
</li>
</ul>
</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка передачи данных из текущего процесса в вызываемый" src="/platform/v5.0/business_apps/diagrams/process_diagram/process_diagram_elements/actions/img/process_call_input_data.png"/><figcaption class="caption">Настройка передачи данных из текущего процесса в вызываемый</figcaption></p>
</figure>
<h3 class="pageBreakBefore" id="данные-на-выходе">Данные на выходе</h3>
<p>На этой вкладке можно настроить передачу данных из вызываемого процесса в текущий. Задайте значения атрибутов в записи, связанной с экземпляром текущего процесса. Значения будут присвоены в записи, связанной с экземпляром текущего процесса, после выполнения экземпляров вызываемого процесса.</p>
<p>Чтобы добавить строку в таблицу сопоставления данных, нажмите кнопку «<strong>Добавить</strong>».</p>
<ul>
<li><strong>Атрибут записи текущего процесса</strong> — укажите в этом столбце атрибут шаблона записи, связанного с текущим процессом.</li>
<li><strong>Атрибут шаблона записи вызываемого процесса</strong> — укажите в этом столбце атрибут шаблона записи, связанного с процессом. Значение этого атрибута будет присвоено <strong>атрибуту записи текущего процесса</strong>.</li>
</ul>
<figure class="screenshot_with_caption">
<p><img alt="Настройка передачи данных в текущий процесс из вызываемого" src="/platform/v5.0/business_apps/diagrams/process_diagram/process_diagram_elements/actions/img/process_call_output_data.png"/><figcaption class="caption">Настройка передачи данных в текущий процесс из вызываемого</figcaption></p>
</figure>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4731">Встроенный подпроцесс</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4725">Общие свойства элементов диаграммы процесса</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4724">Элементы диаграммы процесса</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4721#process_diagram_designer">Редактирование диаграммы процесса</a></em></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">‌<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>