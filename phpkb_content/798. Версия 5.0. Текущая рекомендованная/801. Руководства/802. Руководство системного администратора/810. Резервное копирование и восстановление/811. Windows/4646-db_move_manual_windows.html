<h1>Ручной перенос базы данных экземпляра ПО в ОС Windows</h1><div class="mce-toc">
<h2 class="toc-heading">Содержание</h2>
<ul>
<li><a href="#mcetoc_1gg4oo8u47">Введение</a></li>
<li><a href="#mcetoc_1gg4oo8u48">1. Создание резервной копии базы данных</a></li>
<li><a href="#mcetoc_1gj4ds8tf0">2. Восстановление резервной копии экземпляра ПО</a></li>
</ul>
</div>
<h2 dir="ltr" id="mcetoc_1gg4oo8u47">Введение</h2>
<p dir="ltr">В этой статье представлена инструкция резервному копированию или восстановлению базы данных экземпляра <span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">ПО<strong> Comindware Platform</strong> (далее «экземпляр ПО», «ПО») в </span>операционной системе Windows (далее «ОС»).</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>Рекомендуется предварительно прочесть всю инструкцию для понимания процедуры в целом.</p>
</div>
<p dir="ltr">Для примера мы рассмотрим перенос базы данных экземпляра ПО c одной машины на другую.</p>
<p dir="ltr">По умолчанию экземпляры ПО развертываются в папке <code>C:\ProgramData\Comindware\Instances\</code><code></code></p>
<p dir="ltr">Просмотреть фактический путь к папкам экземпляра ПО можно в <em>Утилите администрирования.</em></p>
<ol>
<li>Выберите экземпляр ПО в списке «<em><strong>Экземпляры продукта</strong></em>».</li>
<li>Нажмите кнопку «<em><strong>Настроить</strong></em>».</li>
<li>В отобразившемся окне «<em><strong>Конфигурация экземпляра продукта</strong></em>» выберите вкладку «<em><strong>Пути</strong></em>».</li>
</ol>
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Просмотр путей к папкам экземпляра ПО" class="img-responsive" height="761" src="https://kb.comindware.ru/assets/img_63885b8e70846.png" width="1010"/></p>
<p class="caption" style="font-size: 15px !important;">Просмотр путей к папкам экземпляра ПО</p>
</div>
<h2 dir="ltr" id="mcetoc_1gg4oo8u48" role="presentation">1. Создание резервной копии базы данных</h2>
<ol>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">
<p dir="ltr" role="presentation">Запустите <em>Утилиту администрирования Comindware</em> с помощью команды «<em><strong>Запуск от имени администратора</strong></em>».</p>
</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">
<p dir="ltr" role="presentation">В списке «<em><strong>Экземпляры продукта</strong></em>» нажмите правой кнопкой мыши экземпляр ПО, подлежащий резервному копированию.</p>
</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;"><a id="p1.3"></a>В раскрывающемся меню выберите пункт «<strong><em>Остановить сайт</em></strong>».
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img class="img-responsive" src="https://kb.comindware.ru/assets/img_6387604f05db4.png"/></p>
<p class="caption" style="font-size: 15px !important;">Остановка экземпляра ПО</p>
</div>
</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">Откройте папку экземпляра ПО, подлежащего резервному копированию: <br/><code>C:\ProgramData\Comindware\Instances\<em>InstanceID</em></code> <br/>Здесь <code><em>InstanceID</em></code> — имя экземпляра ПО (отображается в списке «<em><strong>Экземпляры продукта</strong></em>» в <em>Утилите администрирования</em>).</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">Создайте архив <code>InstanceID_DB_Backup.zip</code> с папками <code>Data</code> и <code>Streams</code>.
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Создание архива с базой данных экземпляра ПО" class="img-responsive" height="273" src="https://kb.comindware.ru/assets/img_638761f8a46f3.png" width="624"/></p>
<p class="caption" style="font-size: 15px !important;">Создание архива с базой данных экземпляра ПО</p>
<p><img class="img-responsive" src="https://kb.comindware.ru/assets/img_6387625e81e40.png"/></p>
<p>Содержимое архива с базой данных экземпляра ПО</p>
</div>
</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">Сохраните архив <code>InstanceID_DB_Backup.zip</code> на накопителе для резервных копий.<code></code></li>
</ol>
<h2 dir="ltr" id="mcetoc_1gj4ds8tf0">2. Восстановление резервной копии экземпляра ПО</h2>
<ol>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;"> На машине, на которой требуется развернуть экземпляр ПО из резервной копии, <span style="letter-spacing: 0.2px;">запустите </span><em style="letter-spacing: 0.2px;">Утилиту администрирования Comindware</em> <span style="letter-spacing: 0.2px;"> с помощью команды « </span> <em style="letter-spacing: 0.2px;"><strong>Запуск от имени администратора</strong></em><span style="letter-spacing: 0.2px;">».</span></li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">Создайте новый экземпляр ПО с таким же именем, как исходный экземпляр ПО <code>InstanceID</code>. См. см. параграф <a href="#p1.3">1.3</a> статью «<samp data-name="aid" data-title="" data-value="4633"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:4633}</span></samp>».</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">
<p dir="ltr" role="presentation"><span style="letter-spacing: 0.2px;">В раскрывающемся меню выберите пункт «</span><strong style="letter-spacing: 0.2px;"><em>Остановить экземпляр</em></strong><span style="letter-spacing: 0.2px;">».</span></p>
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img class="img-responsive" src="https://kb.comindware.ru/assets/img_6387604f05db4.png"/></p>
<p class="caption" style="font-size: 15px !important;">Остановка экземпляра ПО</p>
</div>
</li>
<li>Откройте папку экземпляра ПО, который требуется развернуть из резервной копии: <br/><code>C:\ProgramData\Comindware\Instances\<em>InstanceID</em></code> <br/>Здесь <code><em>InstanceID</em></code> — имя экземпляра ПО (отображается в списке «<em><strong>Экземпляры продукта</strong></em>» в <em>Утилите администрирования</em>).</li>
<li aria-level="1" dir="ltr" style="list-style-type: decimal;">Распакуйте в папку <code><em>InstanceID</em></code> содержимое архива <code>InstanceID_DB_Backup.zip</code>.
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img class="img-responsive" src="https://kb.comindware.ru/assets/img_6387667cb6fd0.png"/></p>
<p class="caption" style="font-size: 15px !important;">Распакованное содержимое архива с резервной копией экземпляра ПО</p>
</div>
</li>
<li aria-level="1" dir="ltr">Удалите архив <code style="font-size: 13.125px;">InstanceID_DB_Backup.zip</code> из папки <code style="font-size: 13.125px;"><em>InstanceID</em></code>.</li>
<li aria-level="1" dir="ltr">Запустите восстановленный из резервной копии экземпляр ПО, выбрав в <em>Утилите администрирования</em> команду «<em><strong>Запустить сайт</strong></em>».
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Запуск экземпляра ПО" class="img-responsive" height="159" src="https://kb.comindware.ru/assets/img_6387676681aa3.png" width="1007"/></p>
<p class="caption" style="font-size: 15px !important;">Запуск экземпляра ПО, восстановленного из резервной копии</p>
</div>
</li>
</ol>
<div class="table-responsive">
<p><a class="md-top md-icon mkdocs_imported_link" href="#"> <em class="fa-light fa-arrow-up">‌</em> К началу </a></p>
</div>