<h1>Обеспечение высокой доступности и отказоустойчивости Comindware Platform</h1><div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="5079">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#достигаемый-уровень-доступности">
<span class="md-ellipsis">
      Достигаемый уровень доступности
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#способы-повышения-доступности-и-отказоустойчивости">
<span class="md-ellipsis">
      Способы повышения доступности и отказоустойчивости
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#определение-уровня-критичности-проектируемой-системы">
<span class="md-ellipsis">
      Определение уровня критичности проектируемой системы
    </span>
</a>
<nav aria-label="Определение уровня критичности проектируемой системы" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#классификация-информационных-систем-по-уровням-критичности">
<span class="md-ellipsis">
      Классификация информационных систем по уровням критичности
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#проектирование-архитектуры-системы">
<span class="md-ellipsis">
      Проектирование архитектуры системы
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#практики-которых-следует-избегать">
<span class="md-ellipsis">
      Практики, которых следует избегать
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#связанные-статьи">
<span class="md-ellipsis">
      Связанные статьи
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="введение">Введение</h2>
<p><strong>Comindware Platform</strong> можно развернуть в различных конфигурациях для увеличения производительности, улучшения отказоустойчивости и обеспечения бесперебойного функционирования.</p>
<p>Выбор оптимальной конфигурации развёртывания позволяет минимизировать время простоя и обеспечить непрерывность бизнес-процессов даже в случае отказа отдельных компонентов системы.</p>
<p>Здесь представлены общие сведения о возможных способах повышения показателей доступности, производительности и отказоустойчивости <strong>Comindware Platform</strong>.</p>
<h2 id="достигаемый-уровень-доступности">Достигаемый уровень доступности</h2>
<p><strong>Comindware Platform</strong> использует в качестве распределённого хранилища данных ПО Apache Ignite. Благодаря поддержке распределённых вычислений и хранения данных Apache Ignite обеспечивает высокий уровень доступности и отказоустойчивости. Поэтому система может оставаться доступной даже при отказе отдельных узлов. Встроенные механизмы репликации данных и автоматического восстановления позволяют достигать уровня доступности до 99,99% (время простоя не более 52 минут в год).</p>
<p>Для достижения таких показателей, например, можно использовать кластерную конфигурацию с балансировкой нагрузки, резервированием компонентов и регулярным мониторингом состояния системы. См. и <em><a class="mkdocs_imported_link" href="https://ignite.apache.org/docs/latest/clustering/clustering">рекомендации по кластеризации в документации Apache Ignite (на английском языке)</a></em>.</p>
<h2 id="способы-повышения-доступности-и-отказоустойчивости">Способы повышения доступности и отказоустойчивости</h2>
<p>Высокая доступность и отказоустойчивость являются ключевыми аспектами при развёртывании критически важных систем. Для <strong>Comindware Platform</strong> их можно обеспечить с помощью следующих механизмов и подходов:</p>
<ul>
<li><strong>Резервирование компонентов</strong>: дублирование критически важных компонентов, таких как серверы приложений, баз данных и журналирования. Это позволяет системе продолжать работу в случае отказа одного из компонентов.</li>
<li><strong>Балансировка нагрузки</strong>: использование балансировщика нагрузки (например, NGINX) для распределения входящих запросов между несколькими серверами приложений. Это повышает не только производительность системы, но и её устойчивость к отказам.</li>
<li><strong>Географическое распределение</strong>: размещение компонентов в разных географических зонах для защиты от локальных сбоев и катастроф. Это особенно важно для крупных организаций с глобальной инфраструктурой.</li>
<li><strong>Горизонтальное масштабирование</strong>: добавление новых узлов для увеличения производительности и отказоустойчивости. Это позволяет системе выдерживать растущую нагрузку по мере роста количества обрабатываемых данных, транзакций и пользователей.</li>
<li><strong>Мониторинг и оповещение</strong>: внедрение систем мониторинга (например, Zabbix) для отслеживания состояния всех компонентов и своевременного оповещения администраторов о возможных проблемах. Это позволяет оперативно реагировать на инциденты и минимизировать время простоя.</li>
<li><strong>Резервное копирование и восстановление</strong>: регулярное создание резервных копий данных, конфигурации системы и снимков инфраструктуры, например снимков виртуальных машин и полных резервных копий БД с прикреплёнными файлами. Резервные копии рекомендуется хранить в отдельном внешнем хранилище. В случае критического сбоя эти меры позволяют быстро восстановить работоспособность системы с минимальными потерями данных. См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4642">Резервное копирование. Настройка и запуск, просмотр журнала сеансов</a>»</em>.</li>
</ul>
<h2 id="определение-уровня-критичности-проектируемой-системы">Определение уровня критичности проектируемой системы</h2>
<p>Прежде чем приступать к проектированию архитектуры системы, определите уровень её критичности.</p>
<p>При выборе уровня критичности информационной системы следует учитывать следующие факторы:</p>
<ul>
<li><strong>Характер задач</strong>: оцените, насколько система критична для выполнения основных бизнес-процессов и соблюдения обязательств перед клиентами.</li>
<li><strong>Последствия простоя</strong>: определите возможные финансовые, имиджевые и операционные потери.</li>
<li><strong>Требуемое время восстановления (RTO)</strong> и <strong>допустимые потери данных (RPO)</strong>: чем короче RTO и RPO, тем выше требования к резервированию и инфраструктуре.</li>
</ul>
<h3 id="классификация-информационных-систем-по-уровням-критичности">Классификация информационных систем по уровням критичности</h3>
<p>Информационные системы классифицируются по их значимости для функционирования организации и возможным последствиям простоя. Уровень критичности определяется на основе роли системы в бизнес-процессах и возможных последствий её простоя. Используются перечисленные ниже уровни.</p>
<ul>
<li><strong>Уровень 1 — Жизненно важные системы (Mission Critical)</strong>
Системы с режимом работы 24х7х365, даже кратковременный отказ которых делает невозможным выполнение ключевых функций организации и приводит к невосполнимым потерям или штрафным санкциям.
    <strong>Рекомендации</strong>:<ul>
<li>Время восстановления — менее 10 минут.</li>
<li>Полное многократное резервирование всех компонентов.</li>
<li>Использование специализированных серверов.</li>
<li>Применение кластеризации и балансировки нагрузки.</li>
<li>Использование инфраструктурных решений с удалёнными и распределёнными ЦОД</li>
</ul>
</li>
<li><strong>Уровень 2 — Критически важные системы (Business Critical)</strong>
Системы с режимом работы 24х7х365, для которых допустим краткосрочный простой, но длительный вызывает значительные финансовые или имиджевые потери.
    <strong>Рекомендации</strong>:<ul>
<li>Время восстановления — до 2 часов.</li>
<li>Применение кластерных решений.</li>
<li>Частичное резервирование компонентов.</li>
</ul>
</li>
<li><strong>Уровень 3 — Системы операционной деятельности (Business Operational)</strong>
Системы с режимом работы 8х5, которые поддерживают внутренние бизнес-процессы организации, простой которых в течение нескольких часов создаёт неудобства, но не оказывает существенного влияния на обслуживание клиентов или ключевые операции.
    <strong>Рекомендации</strong>:<ul>
<li>Время восстановления — 4–6 часов.</li>
<li>Полное резервирование хранения данных.</li>
<li>Частичное резервирование компонентов.</li>
</ul>
</li>
<li><strong>Уровень 4 — Системы общего назначения (Office Productivity)</strong>
Системы, используемые для повседневной офисной работы, простой которых даже в течение нескольких дней не оказывает существенного влияния на уровень обслуживания других систем.
    <strong>Рекомендации</strong>:<ul>
<li>Время восстановления — 1–2 рабочих дня.</li>
<li>Использование типовых мер резервного копирования данных.</li>
<li>Частичное резервирование компонентов.</li>
</ul>
</li>
</ul>
<h2 id="проектирование-архитектуры-системы">Проектирование архитектуры системы</h2>
<p>Фактическую продуктивную архитектуру системы следует определять в рамках разработки ТЗ с учётом всех технических и бизнес-факторов.</p>
<p>Прежде чем приступать к развёртыванию программного и технического обеспечения:</p>
<ul>
<li>Определите, какие показатели наиболее важны для бизнеса, а также их приоритетность:<ul>
<li>производительность;</li>
<li>устойчивость;</li>
<li>горизонтальное масштабирование;</li>
<li>географическая распределённость;</li>
<li>RTO (Recovery Time Objective) — время восстановления после сбоя;</li>
<li>RPO (Recovery Point Objective) — допустимый объём потерянных данных после сбоя.</li>
</ul>
</li>
<li>Определите техническую и экономическую целесообразность достижения и поддержания целевых показателей.</li>
<li>Определите стоимость реализации — чем выше требуемый уровень надёжности и доступности системы, тем выше расходы на его достижение.</li>
<li>Выберите архитектуру системы в зависимости от выявленных целевых показателей и бизнес-задач. Используйте один из следующих подходов или их сочетание:<ul>
<li><strong>Обеспечение отказоустойчивости</strong><ul>
<li>Имеется два или более узлов, из которых один является рабочим, а остальные резервными. Также предусмотрены сервер хранения данных и балансировщик нагрузки. ПО работает бесперебойно, пока сохраняют работоспособность один узел и сервер данных. Показатели RTO/RPO можно свести к минимуму. Так как на сервере данных хранятся актуальные данные, их достаточно для восстановления работоспособности узлов после сбоя.</li>
</ul>
</li>
<li><strong>Распределение нагрузки</strong><ul>
<li>Имеется два или более узлов, сервер хранения данных и балансировщик нагрузки. Нагрузка равномерно распределяется между узлами, что сокращает время отклика. На сервере данных хранятся наиболее актуальные данные. ПО работает бесперебойно, пока сохраняют работоспособность все узлы кластера и сервер данных. При равномерной нагрузке время отклика можно рассчитать по формуле: <code>Y/N+ε</code>, где <code>Y</code> — время отклика при нагрузке только на один узел, <code>N</code> — количество узлов, <code>ε</code> — погрешность. Так как на сервере данных хранятся актуальные данные, их достаточно для восстановления работоспособности узлов после сбоя.</li>
</ul>
</li>
<li><strong>Обеспечение высокой доступности</strong><ul>
<li>Имеется два или более узлов, сервер хранения данных и балансировщик нагрузки. ПО работает бесперебойно, пока сохраняет работоспособность хотя бы один узел и сервер данных. Даже при наличии постоянной нагрузки на балансировщике возможно выполнить поочерёдное обновление каждого из узлов до новой версии ПО. Так как на сервере данных хранятся актуальные данные, их достаточно для восстановления работоспособности узлов после сбоя.</li>
</ul>
</li>
</ul>
</li>
<li>Определите способ реализации выбранных подходов к обеспечению доступности и отказоустойчивости, например, с использованием кластеризации, контейнеризации и оркестрации или иных методов и инструментов. При выборе следует учитывать определённые ранее показатели, потребности, цели и возможности.</li>
</ul>
<h2 id="практики-которых-следует-избегать">Практики, которых следует избегать</h2>
<p>Для обеспечения оптимальной производительности, минимизации рисков простоев и повышения надёжности, доступности и отказоустойчивости <strong>Comindware Platform</strong> рекомендуется избегать следующих подходов:</p>
<ul>
<li><strong>Игнорирование мониторинга и оповещений</strong>: отсутствие постоянного мониторинга состояния системы может привести к пропуску критических инцидентов и увеличению времени простоя.</li>
<li><strong>Недостаточная репликация данных</strong>: хранение данных только на одном узле повышает риск их утраты в случае сбоя.</li>
<li><strong>Отсутствие резервного копирования</strong>: нерегулярное или неправильное резервное копирование данных может осложнить восстановление системы после сбоя.</li>
<li><strong>Пренебрежение тестированием отказоустойчивости</strong>: отсутствие регулярного тестирования сценариев отказа системы приводит к неготовности к устранению неполадок в критических ситуациях.</li>
<li><strong>Неоптимальная настройка конфигурации</strong>: использование дефолтных или неподходящих настроек ПО может привести к увеличению задержек и снижению производительности.</li>
<li><strong>Развёртывание всех узлов в одной зоне</strong>: отсутствие географического распределения узлов повышает уязвимость системы к локальным сбоям или катастрофам.</li>
<li><strong>Недооценка нагрузки</strong>: неправильная оценка будущих нагрузок может привести к сбоям системы при увеличении объёмов данных, количества транзакций или пользователей.</li>
</ul>
<div class="relatedTopics">
<h2 id="связанные-статьи">Связанные статьи</h2>
<ul>
<li><em><a class="autorefs autorefs-internal mkdocs_imported_link" href="architecture_landscape.html#architecture_landscape">Развёртывание Comindware Platform. Архитектура, ландшафт, программное и техническое обеспечение</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4622">Установка, запуск, инициализация и остановка ПО</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4659">Системные требования Comindware Platform</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4642">Резервное копирование и восстановление. Рекомендации по организации и оптимизации</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4642">Резервное копирование. Настройка и запуск, просмотр журнала сеансов</a></em></li>
<li><em><a class="mkdocs_imported_link" href="https://ignite.apache.org/docs/latest/clustering/clustering">Настройка кластеризации. Документация Apache Ignite (на английском языке)</a></em></li>
</ul>
</div>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">‌<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>