<h1>Deleting a related object when a condition is met</h1><p style="line-height: 18.75pt; background: white;"><span style="font-size: 11.5pt; font-family: 'Open Sans',sans-serif; color: #545764; letter-spacing: .15pt; background: white;">In order to delete the associated object in the context of a process if a certain condition is met (in this article the condition is the following: the value in the attribute with the data type "Number" in the associated object is zero), enter the following expression:</span></p>
<div>
<table class="source_code_container" style="height: 733px;">
<tbody>
<tr style="height: 733px;">
<td class="source_code" style="height: 733px; width: 1553px;">
<p style="box-sizing: border-box; margin: 0px; font-size: 13px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; padding: 0px; color: #545764; font-family: monospace; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #fafafa; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">using System;<br style="box-sizing: border-box;"/>using System.Collections.Generic;<br style="box-sizing: border-box;"/>using System.Linq;<br style="box-sizing: border-box;"/>using Comindware.Data.Entity;<br style="box-sizing: border-box;"/>using Comindware.TeamNetwork.Api.Data.UserCommands;<br style="box-sizing: border-box;"/>using Comindware.TeamNetwork.Api.Data;</p>
<p style="box-sizing: border-box; margin: 0px; font-size: 13px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; padding: 0px; color: #545764; font-family: monospace; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #fafafa; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">class Script<br style="box-sizing: border-box;"/>{<br style="box-sizing: border-box;"/>public static void Main(Comindware.Process.Api.Data.ScriptContext context, Comindware.Entities entities)<br style="box-sizing: border-box;"/>{<br style="box-sizing: border-box;"/>try<br style="box-sizing: border-box;"/>{<br style="box-sizing: border-box;"/>var id = context.BusinessObjectId;<br style="box-sizing: border-box;"/>var data = Api.TeamNetwork.ObjectService.GetPropertyValues(new []{id}, new[]{"Link"});<br style="box-sizing: border-box;"/>var deleteid = data[id]["Link"].ToString();<br style="box-sizing: border-box;"/><br style="box-sizing: border-box;"/>var atr = Api.TeamNetwork.ObjectService.GetPropertyValues(new []{data[id]["Link"] as string}, new[]{"Qty"});<br style="box-sizing: border-box;"/>var val = atr[data[id]["Link"] as string]["Qty"];<br style="box-sizing: border-box;"/><br style="box-sizing: border-box;"/>if(int.Parse(val.ToString()) == 0)<br style="box-sizing: border-box;"/>{<br style="box-sizing: border-box;"/>Api.TeamNetwork.ObjectService.Delete(deleteid);<br style="box-sizing: border-box;"/>}<br style="box-sizing: border-box;"/>}<br style="box-sizing: border-box;"/>catch<br style="box-sizing: border-box;"/>{}<br style="box-sizing: border-box;"/>}<br style="box-sizing: border-box;"/>}</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>where:</strong></p>
<p><em><strong>Link </strong></em>— system name of the attribute with the "Record" data type in the current record template;</p>
<p><em><strong>Qty </strong></em>— system name of the attribute with the "Number" data type in the associated record template.</p>